"use strict";
(self["webpackChunkmystore_6_3"] = self["webpackChunkmystore_6_3"] || []).push([["node_modules_spartacus_cart_fesm2020_spartacus-cart-quick-order_mjs"],{

/***/ 4664:
/*!*****************************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-quick-order-components.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CartQuickOrderFormComponent": () => (/* binding */ CartQuickOrderFormComponent),
/* harmony export */   "CartQuickOrderFormModule": () => (/* binding */ CartQuickOrderFormModule),
/* harmony export */   "QuickOrderComponent": () => (/* binding */ QuickOrderComponent),
/* harmony export */   "QuickOrderComponentsModule": () => (/* binding */ QuickOrderComponentsModule),
/* harmony export */   "QuickOrderFormComponent": () => (/* binding */ QuickOrderFormComponent),
/* harmony export */   "QuickOrderItemComponent": () => (/* binding */ QuickOrderItemComponent),
/* harmony export */   "QuickOrderListModule": () => (/* binding */ QuickOrderListModule),
/* harmony export */   "QuickOrderOrderEntriesContext": () => (/* binding */ QuickOrderOrderEntriesContext),
/* harmony export */   "QuickOrderTableComponent": () => (/* binding */ QuickOrderTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @spartacus/cart/base/root */ 6061);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ 2425);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ 8623);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ 4139);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs */ 9193);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ 4505);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ 6942);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ 5670);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ 9095);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ 9151);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/operators */ 8759);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/operators */ 7418);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs/operators */ 6675);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs/operators */ 3910);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs/operators */ 3298);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs/operators */ 823);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 4666);
/* harmony import */ var _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @spartacus/storefront */ 4373);
/* harmony import */ var _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @spartacus/cart/quick-order/root */ 8199);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/router */ 124);
/* harmony import */ var _spartacus_cart_quick_order_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @spartacus/cart/quick-order/core */ 5697);




















/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
function CartQuickOrderFormComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 2)(5, "form", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngSubmit", function CartQuickOrderFormComponent_ng_container_0_Template_form_ngSubmit_5_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3);
      const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r2.applyQuickOrder());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 4)(7, "span", 5)(8, "label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "input", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "span", 8)(15, "label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](17, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](18, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](21, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](22, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](23, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](25, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](26, "cx-form-errors", 11)(27, "cx-form-errors", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 14, "quickOrderCartForm.title"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r0.quickOrderForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 16, "quickOrderCartForm.productCodeLabel"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 20, "quickOrderCartForm.productCodePlaceholder"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 18, "quickOrderCartForm.entryProductCode"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](17, 22, "quickOrderCartForm.quantityLabel"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 24, "quickOrderCartForm.quantity"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](21, 26, ctx_r0.cartIsLoading$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](23, 30, ctx_r0.cartIsLoading$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](22, 28, "quickOrderCartForm.addToCart"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](25, 32, "quickOrderCartForm.add"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx_r0.quickOrderForm.get("productCode"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx_r0.quickOrderForm.get("quantity"));
  }
}
function QuickOrderFormComponent_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function QuickOrderFormComponent_button_6_Template_button_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r5.clear($event));
    })("keydown.enter", function QuickOrderFormComponent_button_6_Template_button_keydown_enter_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r7.clear($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "cx-icon", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "common.reset"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("type", ctx_r0.iconTypes.RESET);
  }
}
function QuickOrderFormComponent_ng_template_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "cx-icon", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "common.search"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("type", ctx_r2.iconTypes.SEARCH);
  }
}
function QuickOrderFormComponent_span_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "quickOrderForm.listLimitReached"), " ");
  }
}
function QuickOrderFormComponent_div_11_ul_1_li_1_cx_media_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "cx-media", 23);
  }
  if (rf & 2) {
    const product_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("alt", product_r11.name)("container", product_r11.images == null ? null : product_r11.images.PRIMARY);
  }
}
const _c0 = function (a0) {
  return {
    id: a0
  };
};
function QuickOrderFormComponent_div_11_ul_1_li_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 17)(1, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("blur", function QuickOrderFormComponent_div_11_ul_1_li_1_Template_button_blur_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r15.onBlur($event));
    })("mousedown", function QuickOrderFormComponent_div_11_ul_1_li_1_Template_button_mousedown_1_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const product_r11 = restoredCtx.$implicit;
      const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r17.add(product_r11, $event));
    })("keydown.arrowdown", function QuickOrderFormComponent_div_11_ul_1_li_1_Template_button_keydown_arrowdown_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r18.focusNextChild($event));
    })("keydown.arrowup", function QuickOrderFormComponent_div_11_ul_1_li_1_Template_button_keydown_arrowup_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r19.focusPreviousChild($event));
    })("keydown.enter", function QuickOrderFormComponent_div_11_ul_1_li_1_Template_button_keydown_enter_1_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const product_r11 = restoredCtx.$implicit;
      const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r20.add(product_r11, $event));
    })("keydown.escape", function QuickOrderFormComponent_div_11_ul_1_li_1_Template_button_keydown_escape_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r21.clear($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, QuickOrderFormComponent_div_11_ul_1_li_1_cx_media_2_Template, 1, 2, "cx-media", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const product_r11 = ctx.$implicit;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("has-media", ctx_r10.config == null ? null : ctx_r10.config.quickOrder == null ? null : ctx_r10.config.quickOrder.searchForm == null ? null : ctx_r10.config.quickOrder.searchForm.displayProductImages);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r10.config == null ? null : ctx_r10.config.quickOrder == null ? null : ctx_r10.config.quickOrder.searchForm == null ? null : ctx_r10.config.quickOrder.searchForm.displayProductImages);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", product_r11.name, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 6, "quickOrderForm.id", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c0, product_r11.code)), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](product_r11.price == null ? null : product_r11.price.formattedValue);
  }
}
function QuickOrderFormComponent_div_11_ul_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderFormComponent_div_11_ul_1_li_1_Template, 9, 11, "li", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r8.results);
  }
}
function QuickOrderFormComponent_div_11_span_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "quickOrderForm.noResults"), " ");
  }
}
function QuickOrderFormComponent_div_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderFormComponent_div_11_ul_1_Template, 2, 1, "ul", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, QuickOrderFormComponent_div_11_span_2_Template, 3, 3, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.results.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.noResults);
  }
}
const _c1 = function (a0) {
  return {
    limit: a0
  };
};
const _c2 = function (a0) {
  return {
    count: a0
  };
};
const _c3 = ["cx-quick-order-item", ""];
const _c4 = function (a0, a1) {
  return {
    disabled: a0,
    "img-missing": a1
  };
};
const _c5 = function (a1) {
  return {
    cxRoute: "product",
    params: a1
  };
};
const _c6 = function (a0) {
  return {
    disabled: a0
  };
};
function QuickOrderTableComponent_table_0_tr_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 10);
  }
  if (rf & 2) {
    const entry_r2 = ctx.$implicit;
    const i_r3 = ctx.index;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entry", entry_r2)("index", i_r3)("loading", ctx_r1.loading);
  }
}
function QuickOrderTableComponent_table_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 1)(1, "caption", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "thead")(5, "tr", 3)(6, "th", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "th", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "th", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](17, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "tbody", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, QuickOrderTableComponent_table_0_tr_19_Template, 1, 3, "tr", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 6, "quickOrderTable.caption"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 8, "quickOrderTable.product"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 10, "quickOrderTable.price"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 12, "quickOrderTable.quantity"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](17, 14, "quickOrderTable.actions"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.entries);
  }
}
const _c7 = ["quickOrderForm"];
function QuickOrderComponent_ng_container_1_ng_container_1_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "cx-message", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const entries_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).ngIf;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 3, "quickOrderList.errors.listIsFull", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c2, entries_r8.length)))("isVisibleCloseButton", false)("type", ctx_r10.globalMessageType.MSG_TYPE_ERROR);
  }
}
function QuickOrderComponent_ng_container_1_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_1_ng_container_1_ng_container_1_Template, 3, 8, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    let tmp_0_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.quickOrderForm == null ? null : ctx_r9.quickOrderForm.form == null ? null : (tmp_0_0 = ctx_r9.quickOrderForm.form.get("product")) == null ? null : tmp_0_0.dirty);
  }
}
function QuickOrderComponent_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_1_ng_container_1_Template, 2, 1, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r0.canAddProduct()));
  }
}
function QuickOrderComponent_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "cx-message", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("closeMessage", function QuickOrderComponent_ng_container_3_Template_cx_message_closeMessage_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r12.clearAddToCartInformation());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, "quickOrderList.informations.addProductBeforeAddingToCart"))("type", ctx_r1.globalMessageType.MSG_TYPE_ERROR);
  }
}
const _c8 = function (a0) {
  return {
    name: a0
  };
};
function QuickOrderComponent_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "cx-message", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("closeMessage", function QuickOrderComponent_ng_container_5_Template_cx_message_closeMessage_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16);
      const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r15.clearNonPurchasableError());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const nonPurchasableError_r14 = ctx.ngIf;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 2, "quickOrderList.errors.nonPurchasableError", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c8, nonPurchasableError_r14.name)))("type", ctx_r2.globalMessageType.MSG_TYPE_ERROR);
  }
}
function QuickOrderComponent_ng_container_7_cx_message_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "cx-message", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("buttonAction", function QuickOrderComponent_ng_container_7_cx_message_1_Template_cx_message_buttonAction_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r21);
      const deletedEntry_r19 = restoredCtx.$implicit;
      const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r20.undoDeletion(deletedEntry_r19.value));
    })("closeMessage", function QuickOrderComponent_ng_container_7_cx_message_1_Template_cx_message_closeMessage_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r21);
      const deletedEntry_r19 = restoredCtx.$implicit;
      const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r22.clearDeletion(deletedEntry_r19.value));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const deletedEntry_r19 = ctx.$implicit;
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("actionButtonText", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "quickOrderList.undo"))("actionButtonMessage", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 6, "quickOrderList.revokeUndo", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c8, deletedEntry_r19.value.product == null ? null : deletedEntry_r19.value.product.name)))("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 9, "quickOrderList.productWasDeleted", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](14, _c8, deletedEntry_r19.value.product == null ? null : deletedEntry_r19.value.product.name)))("type", ctx_r18.globalMessageType.MSG_TYPE_CONFIRMATION);
  }
}
function QuickOrderComponent_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_7_cx_message_1_Template, 4, 16, "cx-message", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "keyvalue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const deletedEntries_r17 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, deletedEntries_r17));
  }
}
const _c9 = function (a0, a1) {
  return {
    name: a0,
    code: a1
  };
};
function QuickOrderComponent_ng_container_9_cx_message_1_li_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 12)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const error_r26 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 1, "quickOrderList.errors.productIsOutOfStock", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](4, _c9, error_r26.entry.product.name, error_r26.entry.product.code)), " ");
  }
}
function QuickOrderComponent_ng_container_9_cx_message_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "cx-message", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("closeMessage", function QuickOrderComponent_ng_container_9_cx_message_1_Template_cx_message_closeMessage_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28);
      const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r27.clearErrors());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ul", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, QuickOrderComponent_ng_container_9_cx_message_1_li_4_Template, 4, 7, "li", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const errors_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().ngIf;
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("accordionText", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 5, "quickOrderList.errors.reviewErrors"))("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 7, "quickOrderList.errorProceedingToCart"))("type", ctx_r24.globalMessageType.MSG_TYPE_ERROR);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", errors_r23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](7, 9, "quickOrderList.errors.outOfStockErrorFound", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c2, errors_r23.length)), " ");
  }
}
function QuickOrderComponent_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_9_cx_message_1_Template, 8, 14, "cx-message", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const errors_r23 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", errors_r23.length);
  }
}
const _c10 = function (a0, a1, a2) {
  return {
    name: a0,
    code: a1,
    quantityAdded: a2
  };
};
function QuickOrderComponent_ng_container_11_cx_message_1_li_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 17)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const warning_r33 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 1, "quickOrderList.warnings.productWasReduced", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](4, _c10, warning_r33.entry.product.name, warning_r33.entry.product.code, warning_r33.quantityAdded)), " ");
  }
}
function QuickOrderComponent_ng_container_11_cx_message_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r35 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "cx-message", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("closeMessage", function QuickOrderComponent_ng_container_11_cx_message_1_Template_cx_message_closeMessage_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r35);
      const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r34.clearWarnings());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ul", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, QuickOrderComponent_ng_container_11_cx_message_1_li_4_Template, 4, 8, "li", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const warnings_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().ngIf;
    const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("accordionText", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 5, "quickOrderList.warnings.reviewWarnings"))("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 7, "quickOrderList.warningProceedingToCart"))("type", ctx_r31.globalMessageType.MSG_TYPE_WARNING);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", warnings_r30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](7, 9, "quickOrderList.warnings.reduceWarningFound", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c2, warnings_r30.length)), " ");
  }
}
function QuickOrderComponent_ng_container_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_11_cx_message_1_Template, 8, 14, "cx-message", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const warnings_r30 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", warnings_r30.length);
  }
}
function QuickOrderComponent_ng_container_13_cx_message_1_li_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 22)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const entry_r40 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 1, "quickOrderList.successes.productAddedToCart", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](4, _c9, entry_r40.product.name, entry_r40.product.code)));
  }
}
function QuickOrderComponent_ng_container_13_cx_message_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r42 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "cx-message", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("closeMessage", function QuickOrderComponent_ng_container_13_cx_message_1_Template_cx_message_closeMessage_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r42);
      const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r41.clearSuccesses());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "ul", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, QuickOrderComponent_ng_container_13_cx_message_1_li_3_Template, 4, 7, "li", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const successes_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().ngIf;
    const ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "quickOrderList.successfullyAddedToCart"))("type", ctx_r38.globalMessageType.MSG_TYPE_CONFIRMATION);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", successes_r37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 6, "quickOrderList.successes.addedToCartFound", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c2, successes_r37.length)), " ");
  }
}
function QuickOrderComponent_ng_container_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_13_cx_message_1_Template, 7, 11, "cx-message", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const successes_r37 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", successes_r37.length);
  }
}
function QuickOrderComponent_ng_container_15_ng_container_1_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r50 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function QuickOrderComponent_ng_container_15_ng_container_1_button_16_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r50);
      const ctx_r49 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r49.clear());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r48 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, ctx_r48.isCartStable$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, "quickOrderList.emptyList"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, "quickOrderList.emptyList"), " ");
  }
}
function QuickOrderComponent_ng_container_15_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r52 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 23)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "cx-quick-order-form", 25, 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "cx-quick-order-table", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 29)(15, "div", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, QuickOrderComponent_ng_container_15_ng_container_1_button_16_Template, 5, 9, "button", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 30)(18, "cx-progress-button", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("clickEvent", function QuickOrderComponent_ng_container_15_ng_container_1_Template_cx_progress_button_clickEvent_18_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r52);
      const entries_r46 = restoredCtx.ngIf;
      const ctx_r51 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r51.addToCart(entries_r46));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](20, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](22, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const entries_r46 = ctx.ngIf;
    const quickOrderListLimit_r44 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().ngIf;
    const ctx_r45 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 11, "quickOrderList.header"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](7, 13, "quickOrderList.subHeader", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](24, _c1, quickOrderListLimit_r44)), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("limit", quickOrderListLimit_r44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entries", entries_r46)("loading", !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 16, ctx_r45.isCartStable$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", entries_r46.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"]("btn-block add-button");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ariaLabel", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 18, "quickOrderList.addToCart"))("loading", !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](20, 20, ctx_r45.isCartStable$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](22, 22, "quickOrderList.addToCart"), " ");
  }
}
function QuickOrderComponent_ng_container_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_15_ng_container_1_Template, 23, 26, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r7.entries$));
  }
}
class CartQuickOrderFormComponent {
  constructor(activeCartService, eventService, formBuilder, globalMessageService) {
    this.activeCartService = activeCartService;
    this.eventService = eventService;
    this.formBuilder = formBuilder;
    this.globalMessageService = globalMessageService;
    this.cartIsLoading$ = this.activeCartService.isStable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(loaded => !loaded));
    this.cart$ = this.activeCartService.getActive();
    this.min = 1;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subscription();
    this.cartEventsSubscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subscription();
    this.minQuantityValue = 1;
  }
  ngOnInit() {
    this.buildForm();
    this.watchQuantityChange();
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
    this.cartEventsSubscription?.unsubscribe();
  }
  applyQuickOrder() {
    if (this.quickOrderForm.invalid) {
      this.quickOrderForm.markAllAsTouched();
      return;
    }
    const productCode = this.quickOrderForm.get('productCode')?.value;
    const quantity = this.quickOrderForm.get('quantity')?.value;
    this.watchAddEntrySuccessEvent();
    this.watchAddEntryFailEvent();
    if (productCode && quantity) {
      this.activeCartService.addEntry(productCode, quantity);
    }
  }
  buildForm() {
    this.quickOrderForm = this.formBuilder.group({
      productCode: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      quantity: [this.minQuantityValue, {
        updateOn: 'blur',
        validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]
      }]
    });
  }
  watchQuantityChange() {
    this.subscription.add(this.quickOrderForm.get('quantity')?.valueChanges.subscribe(value => this.quickOrderForm.get('quantity')?.setValue(this.getValidCount(value), {
      emitEvent: false
    })));
  }
  watchAddEntrySuccessEvent() {
    this.cartEventsSubscription.add(this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.CartAddEntrySuccessEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(data => {
      let key = 'quickOrderCartForm.stockLevelReached';
      let productTranslation;
      let messageType = _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageType.MSG_TYPE_WARNING;
      if (data.quantityAdded) {
        key = data.quantityAdded > 1 ? 'quickOrderCartForm.entriesWereAdded' : 'quickOrderCartForm.entryWasAdded';
        productTranslation = data.quantityAdded > 1 ? 'quickOrderCartForm.products' : 'quickOrderCartForm.product';
        messageType = _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageType.MSG_TYPE_CONFIRMATION;
      }
      this.globalMessageService.add({
        key,
        params: {
          product: data?.entry?.product?.name || productTranslation,
          quantity: data.quantityAdded
        }
      }, messageType);
      this.resetForm();
    }));
  }
  watchAddEntryFailEvent() {
    this.cartEventsSubscription.add(this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.CartAddEntryFailEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(() => {
      this.globalMessageService.add({
        key: 'quickOrderCartForm.noResults'
      }, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageType.MSG_TYPE_ERROR);
    }));
  }
  getValidCount(value) {
    if (value < this.min || !value) {
      value = this.min;
    }
    return value;
  }
  resetForm() {
    this.quickOrderForm.reset();
  }
}
CartQuickOrderFormComponent.ɵfac = function CartQuickOrderFormComponent_Factory(t) {
  return new (t || CartQuickOrderFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ActiveCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.EventService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageService));
};
CartQuickOrderFormComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: CartQuickOrderFormComponent,
  selectors: [["cx-cart-quick-order-form"]],
  decls: 2,
  vars: 3,
  consts: [[4, "ngIf"], [1, "cx-cart-quick-order-form-title"], [1, "form-group"], [3, "formGroup", "ngSubmit"], [1, "cx-cart-quick-order-form-container"], [1, "cx-cart-quick-order-form-productID"], [1, "cx-cart-quick-order-form-label"], ["aria-required", "true", "formControlName", "productCode", "required", "true", "type", "text", 1, "form-control", "input-product-code", 3, "placeholder"], [1, "cx-cart-quick-order-form-qty"], ["aria-required", "true", "formControlName", "quantity", "required", "true", "type", "number", 1, "form-control", "input-quantity"], ["type", "submit", 1, "btn", "btn-block", "btn-secondary", "apply-quick-order-button", 3, "disabled"], [3, "control"]],
  template: function CartQuickOrderFormComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CartQuickOrderFormComponent_ng_container_0_Template, 28, 34, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.cart$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NumberValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.RequiredValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormControlName, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsComponent, _angular_common__WEBPACK_IMPORTED_MODULE_7__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CartQuickOrderFormComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-cart-quick-order-form',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<ng-container *ngIf=\"cart$ | async as cart\">\n  <div class=\"cx-cart-quick-order-form-title\">\n    {{ 'quickOrderCartForm.title' | cxTranslate }}\n  </div>\n  <div class=\"form-group\">\n    <form (ngSubmit)=\"applyQuickOrder()\" [formGroup]=\"quickOrderForm\">\n      <div class=\"cx-cart-quick-order-form-container\">\n        <span class=\"cx-cart-quick-order-form-productID\">\n          <label class=\"cx-cart-quick-order-form-label\">\n            {{ 'quickOrderCartForm.productCodeLabel' | cxTranslate }}\n          </label>\n          <input\n            [attr.aria-label]=\"\n              'quickOrderCartForm.entryProductCode' | cxTranslate\n            \"\n            aria-required=\"true\"\n            class=\"form-control input-product-code\"\n            formControlName=\"productCode\"\n            required=\"true\"\n            placeholder=\"{{\n              'quickOrderCartForm.productCodePlaceholder' | cxTranslate\n            }}\"\n            type=\"text\"\n          />\n        </span>\n\n        <span class=\"cx-cart-quick-order-form-qty\">\n          <label class=\"cx-cart-quick-order-form-label\">\n            {{ 'quickOrderCartForm.quantityLabel' | cxTranslate }}\n          </label>\n          <input\n            [attr.aria-label]=\"'quickOrderCartForm.quantity' | cxTranslate\"\n            aria-required=\"true\"\n            class=\"form-control input-quantity\"\n            formControlName=\"quantity\"\n            required=\"true\"\n            type=\"number\"\n          />\n        </span>\n        <button\n          [attr.aria-label]=\"'quickOrderCartForm.addToCart' | cxTranslate\"\n          [class.disabled]=\"cartIsLoading$ | async\"\n          [disabled]=\"cartIsLoading$ | async\"\n          class=\"btn btn-block btn-secondary apply-quick-order-button\"\n          type=\"submit\"\n        >\n          {{ 'quickOrderCartForm.add' | cxTranslate }}\n        </button>\n        <cx-form-errors\n          [control]=\"quickOrderForm.get('productCode')\"\n        ></cx-form-errors>\n        <cx-form-errors\n          [control]=\"quickOrderForm.get('quantity')\"\n        ></cx-form-errors>\n      </div>\n    </form></div\n></ng-container>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ActiveCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.EventService
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormBuilder
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class CartQuickOrderFormModule {}
CartQuickOrderFormModule.ɵfac = function CartQuickOrderFormModule_Factory(t) {
  return new (t || CartQuickOrderFormModule)();
};
CartQuickOrderFormModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: CartQuickOrderFormModule
});
CartQuickOrderFormModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.provideDefaultConfig)({
    cmsComponents: {
      CartQuickOrderFormComponent: {
        component: CartQuickOrderFormComponent
      }
    }
  })],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CartQuickOrderFormModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.provideDefaultConfig)({
        cmsComponents: {
          CartQuickOrderFormComponent: {
            component: CartQuickOrderFormComponent
          }
        }
      })],
      declarations: [CartQuickOrderFormComponent],
      exports: [CartQuickOrderFormComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

class QuickOrderOrderEntriesContext {
  constructor(quickOrderService, productConnector) {
    this.quickOrderService = quickOrderService;
    this.productConnector = productConnector;
    this.type = _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.OrderEntriesSource.QUICK_ORDER;
    this.logger = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.LoggerService);
  }
  getEntries() {
    return this.quickOrderService.getEntries();
  }
  addEntries(productsData) {
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_9__.merge)(productsData.map(productData => this.quickOrderService.canAdd(productData.productCode, productsData).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.switchMap)(canAdd => {
      if (canAdd) {
        return this.productConnector.get(productData.productCode).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(product => !!product), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.tap)(product => {
          this.quickOrderService.addProduct(product, productData.quantity);
        }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(product => this.handleResults(product, productData)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.catchError)(response => {
          return (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.of)(this.handleErrors(response, productData.productCode));
        }));
      } else {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.of)({
          productCode: productData.productCode,
          statusCode: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ProductImportStatus.LIMIT_EXCEEDED
        });
      }
    })))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.mergeAll)(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.take)(productsData.length));
  }
  handleResults(product, productData) {
    if (product.stock?.stockLevel && productData.quantity > product.stock.stockLevel) {
      return {
        productCode: productData.productCode,
        productName: product?.name,
        statusCode: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ProductImportStatus.LOW_STOCK,
        quantity: productData.quantity,
        quantityAdded: product.stock.stockLevel
      };
    } else if (product.stock?.stockLevelStatus === 'outOfStock') {
      return {
        productCode: productData.productCode,
        statusCode: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ProductImportStatus.NO_STOCK,
        productName: product?.name
      };
    } else {
      return {
        productCode: productData.productCode,
        statusCode: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ProductImportStatus.SUCCESS
      };
    }
  }
  handleErrors(response, productCode) {
    if (response?.error?.errors[0].type === 'UnknownIdentifierError') {
      return {
        productCode,
        statusCode: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ProductImportStatus.UNKNOWN_IDENTIFIER
      };
    } else {
      if ((0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.isDevMode)()) {
        this.logger.warn('Unrecognized cart add entry action type while mapping messages', response);
      }
      return {
        productCode,
        statusCode: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ProductImportStatus.UNKNOWN_ERROR
      };
    }
  }
}
QuickOrderOrderEntriesContext.ɵfac = function QuickOrderOrderEntriesContext_Factory(t) {
  return new (t || QuickOrderOrderEntriesContext)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.ProductConnector));
};
QuickOrderOrderEntriesContext.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: QuickOrderOrderEntriesContext,
  factory: QuickOrderOrderEntriesContext.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderOrderEntriesContext, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.ProductConnector
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const SEARCH_BOX_ACTIVE_CLASS = 'quick-order-searchbox-is-active';
class QuickOrderFormComponent {
  constructor(config, cd, quickOrderService, winRef) {
    this.config = config;
    this.cd = cd;
    this.quickOrderService = quickOrderService;
    this.winRef = winRef;
    this.iconTypes = _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ICON_TYPE;
    this.isSearching = false;
    this.noResults = false;
    this.results = [];
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subscription();
    this.searchSubscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subscription();
  }
  ngOnInit() {
    this.buildForm();
    this.subscription.add(this.watchProductAdd());
    this.subscription.add(this.watchQueryChange());
  }
  onBlur(event) {
    // Use timeout to detect changes
    setTimeout(() => {
      if (!this.isSuggestionFocused()) {
        this.blurSuggestionBox(event);
      }
    });
  }
  clear(event) {
    event?.preventDefault();
    if (this.isResultsBoxOpen()) {
      this.toggleBodyClass(SEARCH_BOX_ACTIVE_CLASS, false);
    }
    const product = this.form.get('product')?.value;
    if (!!product) {
      this.form.reset();
    }
    // We have to call 'close' method every time to make sure results list is empty and call detectChanges to change icon type in form
    this.close();
    this.cd?.detectChanges();
  }
  add(product, event) {
    event?.preventDefault();
    // TODO change to nonpurchasable flag once we will support multidimensional products in search and when the purchasable flag will be available in search product response
    // Check if product is purchasable / non multidimensional
    if (product.multidimensional) {
      this.quickOrderService.setNonPurchasableProductError(product);
      this.clear();
      return;
    } else {
      this.quickOrderService.clearNonPurchasableProductError();
    }
    this.quickOrderService.addProduct(product);
  }
  addProduct(event) {
    this.quickOrderService.canAdd().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.take)(1)).subscribe(canAdd => {
      if (canAdd) {
        // Add product if there is only one in the result list
        if (this.results.length === 1) {
          this.add(this.results[0], event);
          // Add product if there is focus on it
        } else if (this.getFocusedIndex() !== -1) {
          const product = this.results[this.getFocusedIndex()];
          this.add(product, event);
        }
      }
    });
  }
  focusNextChild(event) {
    event.preventDefault(); // Negate normal keyscroll
    if (!this.results.length) {
      return;
    }
    const [results, focusedIndex] = [this.getResultElements(), this.getFocusedIndex()];
    // Focus on first index moving to last
    if (results.length) {
      if (focusedIndex >= results.length - 1) {
        results[0].focus();
      } else {
        results[focusedIndex + 1].focus();
      }
    }
  }
  focusPreviousChild(event) {
    event.preventDefault(); // Negate normal keyscroll
    if (!this.results.length) {
      return;
    }
    const [results, focusedIndex] = [this.getResultElements(), this.getFocusedIndex()];
    // Focus on last index moving to first
    if (results.length) {
      if (focusedIndex < 1) {
        results[results.length - 1].focus();
      } else {
        results[focusedIndex - 1].focus();
      }
    }
  }
  isResultsBoxOpen() {
    return this.winRef ? !!this.winRef.document.querySelector(`.${SEARCH_BOX_ACTIVE_CLASS}`) : false;
  }
  canAddProduct() {
    return this.quickOrderService.canAdd();
  }
  open() {
    this.toggleBodyClass(SEARCH_BOX_ACTIVE_CLASS, true);
  }
  // Return result list as HTMLElement array
  getResultElements() {
    if (this.winRef) {
      return Array.from(this.winRef.document.querySelectorAll('.quick-order-results-products > li button'));
    } else {
      return [];
    }
  }
  blurSuggestionBox(event) {
    this.toggleBodyClass(SEARCH_BOX_ACTIVE_CLASS, false);
    if (event && event.target) {
      event.target.blur();
    }
  }
  // Return focused element as HTMLElement
  getFocusedElement() {
    if (this.winRef) {
      return this.winRef.document.activeElement;
    }
  }
  getFocusedIndex() {
    return this.getResultElements().indexOf(this.getFocusedElement());
  }
  isSuggestionFocused() {
    return this.getResultElements().includes(this.getFocusedElement());
  }
  toggleBodyClass(className, add) {
    // TODO(#14058): Remove condition
    if (this.winRef) {
      if (add === undefined) {
        this.winRef.document.body.classList.toggle(className);
      } else {
        add ? this.winRef.document.body.classList.add(className) : this.winRef.document.body.classList.remove(className);
      }
    }
  }
  buildForm() {
    const form = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormGroup({});
    form.setControl('product', new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormControl(null));
    this.form = form;
  }
  isEmpty(string) {
    return string?.trim() === '' || string == null;
  }
  watchQueryChange() {
    return this.form.valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.debounceTime)(300), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(value => {
      if (this.config?.quickOrder?.searchForm) {
        //Check if input to quick order is an empty after deleting input manually
        if (this.isEmpty(value.product)) {
          //Clear recommendation results on empty string
          this.clear();
          return false;
        }
        return !!value.product && value.product.length >= this.config.quickOrder?.searchForm?.minCharactersBeforeRequest;
      }
      return value;
    })).subscribe(value => {
      this.searchProducts(value.product);
    });
  }
  searchProducts(query) {
    this.searchSubscription.add(this.canAddProduct().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(Boolean), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.switchMap)(() => this.quickOrderService.searchProducts(query, this.config?.quickOrder?.searchForm?.maxProducts).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.take)(1)))).subscribe(products => {
      this.results = products;
      if (this.results.length) {
        this.noResults = false;
        this.open();
      } else {
        this.noResults = true;
      }
      this.cd?.detectChanges();
    }));
  }
  clearResults() {
    this.results = [];
  }
  close() {
    this.resetSearchSubscription();
    this.clearResults();
    this.noResults = false;
  }
  resetSearchSubscription() {
    this.searchSubscription.unsubscribe();
    this.searchSubscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subscription();
  }
  watchProductAdd() {
    return this.quickOrderService.getProductAdded().subscribe(() => this.clear());
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
QuickOrderFormComponent.ɵfac = function QuickOrderFormComponent_Factory(t) {
  return new (t || QuickOrderFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.Config), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.WindowRef));
};
QuickOrderFormComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: QuickOrderFormComponent,
  selectors: [["cx-quick-order-form"]],
  inputs: {
    limit: "limit"
  },
  decls: 16,
  vars: 28,
  consts: [[1, "quick-order-form-container", 3, "formGroup"], ["role", "search", 1, "quick-order-form-input"], ["aria-controls", "quick-order-search-results", "aria-describedby", "quickOrderFormInitialDescription", "formControlName", "product", "type", "text", 1, "form-control", 3, "placeholder", "blur", "focus", "keydown.arrowdown", "keydown.arrowup", "keydown.enter", "keydown.escape"], ["class", "quick-order-form-reset-icon", 3, "click", "keydown.enter", 4, "ngIf", "ngIfElse"], ["searchIcon", ""], ["class", "list-limit-reached-text", "role", "alert", 4, "ngIf"], ["class", "quick-order-results", "role", "dialog", "id", "quick-order-search-results", 4, "ngIf"], ["aria-live", "polite", "id", "quickOrderFormInitialDescription", "aria-atomic", "true", 1, "cx-visually-hidden"], [1, "quick-order-form-reset-icon", 3, "click", "keydown.enter"], [3, "type"], ["tabindex", "-1", 1, "quick-order-form-search-icon"], ["role", "alert", 1, "list-limit-reached-text"], ["role", "dialog", "id", "quick-order-search-results", 1, "quick-order-results"], ["class", "quick-order-results-products", "role", "listbox", 4, "ngIf"], ["class", "quick-order-no-results", 4, "ngIf"], ["role", "listbox", 1, "quick-order-results-products"], ["class", "quick-order-results-product-container", 4, "ngFor", "ngForOf"], [1, "quick-order-results-product-container"], ["role", "option", 1, "quick-order-results-product", 3, "blur", "mousedown", "keydown.arrowdown", "keydown.arrowup", "keydown.enter", "keydown.escape"], ["class", "media", "format", "thumbnail", "role", "presentation", 3, "alt", "container", 4, "ngIf"], [1, "name", 3, "innerHTML"], [1, "id"], [1, "price"], ["format", "thumbnail", "role", "presentation", 1, "media", 3, "alt", "container"], [1, "quick-order-no-results"]],
  template: function QuickOrderFormComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0)(1, "div", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "input", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("blur", function QuickOrderFormComponent_Template_input_blur_3_listener($event) {
        return ctx.onBlur($event);
      })("focus", function QuickOrderFormComponent_Template_input_focus_3_listener() {
        return ctx.open();
      })("keydown.arrowdown", function QuickOrderFormComponent_Template_input_keydown_arrowdown_3_listener($event) {
        return ctx.focusNextChild($event);
      })("keydown.arrowup", function QuickOrderFormComponent_Template_input_keydown_arrowup_3_listener($event) {
        return ctx.focusPreviousChild($event);
      })("keydown.enter", function QuickOrderFormComponent_Template_input_keydown_enter_3_listener($event) {
        return ctx.addProduct($event);
      })("keydown.escape", function QuickOrderFormComponent_Template_input_keydown_escape_3_listener($event) {
        return ctx.clear($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, QuickOrderFormComponent_button_6_Template, 3, 4, "button", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, QuickOrderFormComponent_ng_template_7_Template, 3, 4, "ng-template", null, 4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, QuickOrderFormComponent_span_9_Template, 3, 3, "span", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, QuickOrderFormComponent_div_11_Template, 3, 2, "div", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "label", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](15, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    }
    if (rf & 2) {
      const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);
      let tmp_4_0;
      let tmp_6_0;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 10, "quickOrderForm.quickOrderSearch"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 15, "quickOrderForm.placeholder"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 12, "quickOrderForm.searchBoxLabel", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](24, _c1, ctx.limit)));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (tmp_4_0 = ctx.form.get("product")) == null ? null : tmp_4_0.value)("ngIfElse", _r1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 17, ctx.canAddProduct()) && ((tmp_6_0 = ctx.form.get("product")) == null ? null : tmp_6_0.dirty));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isResultsBoxOpen());
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"](" ", ctx.results.length ? _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](14, 19, "quickOrderForm.productsResults", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](26, _c2, ctx.results.length)) : "", " ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](15, 22, "quickOrderForm.initialDescription"), "\n");
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MediaComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormControlName, _angular_common__WEBPACK_IMPORTED_MODULE_7__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderFormComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-quick-order-form',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<form [formGroup]=\"form\" class=\"quick-order-form-container\">\n  <div\n    class=\"quick-order-form-input\"\n    role=\"search\"\n    [attr.aria-label]=\"'quickOrderForm.quickOrderSearch' | cxTranslate\"\n  >\n    <input\n      (blur)=\"onBlur($event)\"\n      (focus)=\"open()\"\n      (keydown.arrowdown)=\"focusNextChild($event)\"\n      (keydown.arrowup)=\"focusPreviousChild($event)\"\n      (keydown.enter)=\"addProduct($event)\"\n      (keydown.escape)=\"clear($event)\"\n      [attr.aria-label]=\"\n        'quickOrderForm.searchBoxLabel' | cxTranslate: { limit: limit }\n      \"\n      aria-controls=\"quick-order-search-results\"\n      aria-describedby=\"quickOrderFormInitialDescription\"\n      class=\"form-control\"\n      formControlName=\"product\"\n      placeholder=\"{{ 'quickOrderForm.placeholder' | cxTranslate }}\"\n      type=\"text\"\n    />\n\n    <button\n      *ngIf=\"form.get('product')?.value; else searchIcon\"\n      (click)=\"clear($event)\"\n      (keydown.enter)=\"clear($event)\"\n      [attr.aria-label]=\"'common.reset' | cxTranslate\"\n      class=\"quick-order-form-reset-icon\"\n    >\n      <cx-icon [type]=\"iconTypes.RESET\"></cx-icon>\n    </button>\n\n    <ng-template #searchIcon>\n      <button\n        [attr.aria-label]=\"'common.search' | cxTranslate\"\n        class=\"quick-order-form-search-icon\"\n        tabindex=\"-1\"\n      >\n        <cx-icon [type]=\"iconTypes.SEARCH\"></cx-icon>\n      </button>\n    </ng-template>\n\n    <span\n      *ngIf=\"!(canAddProduct() | async) && form.get('product')?.dirty\"\n      class=\"list-limit-reached-text\"\n      role=\"alert\"\n    >\n      {{ 'quickOrderForm.listLimitReached' | cxTranslate }}\n    </span>\n  </div>\n\n  <div\n    *ngIf=\"isResultsBoxOpen()\"\n    class=\"quick-order-results\"\n    role=\"dialog\"\n    id=\"quick-order-search-results\"\n  >\n    <ul\n      *ngIf=\"results.length\"\n      class=\"quick-order-results-products\"\n      role=\"listbox\"\n    >\n      <li\n        *ngFor=\"let product of results; let i = index\"\n        class=\"quick-order-results-product-container\"\n      >\n        <button\n          (blur)=\"onBlur($event)\"\n          (mousedown)=\"add(product, $event)\"\n          (keydown.arrowdown)=\"focusNextChild($event)\"\n          (keydown.arrowup)=\"focusPreviousChild($event)\"\n          (keydown.enter)=\"add(product, $event)\"\n          (keydown.escape)=\"clear($event)\"\n          [class.has-media]=\"\n            config?.quickOrder?.searchForm?.displayProductImages\n          \"\n          class=\"quick-order-results-product\"\n          role=\"option\"\n        >\n          <cx-media\n            *ngIf=\"config?.quickOrder?.searchForm?.displayProductImages\"\n            [alt]=\"product.name\"\n            [container]=\"product.images?.PRIMARY\"\n            class=\"media\"\n            format=\"thumbnail\"\n            role=\"presentation\"\n          ></cx-media>\n          <div class=\"name\" [innerHTML]=\"product.name\"></div>\n          <span class=\"id\">\n            {{\n              'quickOrderForm.id'\n                | cxTranslate\n                  : {\n                      id: product.code\n                    }\n            }}\n          </span>\n          <span class=\"price\">{{ product.price?.formattedValue }}</span>\n        </button>\n      </li>\n    </ul>\n\n    <span *ngIf=\"noResults\" class=\"quick-order-no-results\">\n      {{ 'quickOrderForm.noResults' | cxTranslate }}\n    </span>\n  </div>\n</form>\n\n<label\n  aria-live=\"polite\"\n  id=\"quickOrderFormInitialDescription\"\n  aria-atomic=\"true\"\n  class=\"cx-visually-hidden\"\n>\n  {{\n    results.length\n      ? ('quickOrderForm.productsResults'\n        | cxTranslate: { count: results.length })\n      : ''\n  }}\n  {{ 'quickOrderForm.initialDescription' | cxTranslate }}\n</label>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.Config
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef
    }, {
      type: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.WindowRef
    }];
  }, {
    limit: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderItemComponent {
  get entry() {
    return this._entry;
  }
  set entry(value) {
    this._entry = value;
    this.quantityControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormControl(this.entry.quantity, {
      updateOn: 'blur'
    });
  }
  constructor(cd, quickOrderService) {
    this.cd = cd;
    this.quickOrderService = quickOrderService;
    this.loading = false;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subscription();
  }
  ngOnInit() {
    this.subscription.add(this.quantityControl.valueChanges.subscribe(() => {
      this.quickOrderService.updateEntryQuantity(this.index, this.quantityControl.value);
    }));
    this.subscription.add(this.watchProductAdd());
  }
  removeEntry() {
    this.quickOrderService.softDeleteEntry(this.index);
    this.cd.detectChanges();
  }
  watchProductAdd() {
    return this.quickOrderService.getProductAdded().subscribe(productCode => {
      if (productCode === this.entry.product?.code) {
        this.quantityControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormControl(this.entry.quantity);
        this.cd.detectChanges();
      }
    });
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
  }
}
QuickOrderItemComponent.ɵfac = function QuickOrderItemComponent_Factory(t) {
  return new (t || QuickOrderItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade));
};
QuickOrderItemComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: QuickOrderItemComponent,
  selectors: [["", "cx-quick-order-item", ""], ["cx-quick-order-item"]],
  inputs: {
    entry: "entry",
    index: "index",
    loading: "loading"
  },
  attrs: _c3,
  decls: 30,
  vars: 41,
  consts: [["role", "cell"], [1, "cx-table-item-container"], ["tabindex", "-1", 3, "ngClass", "routerLink"], ["format", "cartIcon", 3, "container", "alt"], [1, "cx-info"], [1, "cx-name"], [1, "cx-link", 3, "ngClass", "routerLink"], [1, "cx-code"], ["role", "cell", 1, "cx-price"], [1, "cx-mobile-header"], [1, "cx-value"], ["role", "cell", 1, "cx-quantity"], [3, "control", "max", "readonly"], ["role", "cell", 1, "cx-actions"], [1, "btn", "btn-tertiary", 3, "disabled", "click"]],
  template: function QuickOrderItemComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 0)(1, "div", 1)(2, "a", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxUrl");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "cx-media", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4)(6, "div", 5)(7, "a", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "cxUrl");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "td", 8)(14, "div", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "td", 11)(20, "div", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](22, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "div", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "cx-item-counter", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "td", 13)(26, "button", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function QuickOrderItemComponent_Template_button_click_26_listener() {
        return ctx.removeEntry();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](27, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](29, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](32, _c4, ctx.loading, !(ctx.entry == null ? null : ctx.entry.product == null ? null : ctx.entry.product.images == null ? null : ctx.entry.product.images.PRIMARY)))("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 18, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](35, _c5, ctx.entry.product)));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("container", ctx.entry == null ? null : ctx.entry.product == null ? null : ctx.entry.product.images == null ? null : ctx.entry.product.images.PRIMARY)("alt", ctx.entry == null ? null : ctx.entry.product == null ? null : ctx.entry.product.name);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](37, _c6, ctx.loading))("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 20, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](39, _c5, ctx.entry.product)));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", (ctx.entry.product == null ? null : ctx.entry.product.name) || "-", " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 22, "quickOrderTable.id"), " ", ctx.entry.product == null ? null : ctx.entry.product.code, " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 24, "quickOrderTable.itemPrice"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", (ctx.entry.basePrice == null ? null : ctx.entry.basePrice.formattedValue) || "-", " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](22, 26, "quickOrderTable.qty"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx.quantityControl)("max", ctx.entry.product == null ? null : ctx.entry.product.stock == null ? null : ctx.entry.product.stock.stockLevel)("readonly", ctx.loading);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.loading);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](27, 28, "common.remove"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](29, 30, "common.remove"), " ");
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgClass, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ItemCounterComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MediaComponent, _angular_router__WEBPACK_IMPORTED_MODULE_20__.RouterLink, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.TranslatePipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.UrlPipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderItemComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: '[cx-quick-order-item], cx-quick-order-item',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<td role=\"cell\">\n  <div class=\"cx-table-item-container\">\n    <a\n      [ngClass]=\"{\n        disabled: loading,\n        'img-missing': !entry?.product?.images?.PRIMARY\n      }\"\n      [routerLink]=\"{ cxRoute: 'product', params: entry.product } | cxUrl\"\n      tabindex=\"-1\"\n    >\n      <cx-media\n        [container]=\"entry?.product?.images?.PRIMARY\"\n        [alt]=\"entry?.product?.name\"\n        format=\"cartIcon\"\n      ></cx-media>\n    </a>\n    <div class=\"cx-info\">\n      <div class=\"cx-name\">\n        <a\n          [ngClass]=\"{ disabled: loading }\"\n          [routerLink]=\"{ cxRoute: 'product', params: entry.product } | cxUrl\"\n          class=\"cx-link\"\n          >{{ entry.product?.name || '-' }}\n        </a>\n      </div>\n\n      <div class=\"cx-code\">\n        {{ 'quickOrderTable.id' | cxTranslate }} {{ entry.product?.code }}\n      </div>\n    </div>\n  </div>\n</td>\n\n<td role=\"cell\" class=\"cx-price\">\n  <div class=\"cx-mobile-header\">\n    {{ 'quickOrderTable.itemPrice' | cxTranslate }}\n  </div>\n  <div class=\"cx-value\">\n    {{ entry.basePrice?.formattedValue || '-' }}\n  </div>\n</td>\n\n<td role=\"cell\" class=\"cx-quantity\">\n  <div class=\"cx-mobile-header\">\n    {{ 'quickOrderTable.qty' | cxTranslate }}\n  </div>\n  <div class=\"cx-value\">\n    <cx-item-counter\n      [control]=\"quantityControl\"\n      [max]=\"entry.product?.stock?.stockLevel\"\n      [readonly]=\"loading\"\n    ></cx-item-counter>\n  </div>\n</td>\n\n<td role=\"cell\" class=\"cx-actions\">\n  <button\n    (click)=\"removeEntry()\"\n    [attr.aria-label]=\"'common.remove' | cxTranslate\"\n    [disabled]=\"loading\"\n    class=\"btn btn-tertiary\"\n  >\n    {{ 'common.remove' | cxTranslate }}\n  </button>\n</td>\n"
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef
    }, {
      type: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade
    }];
  }, {
    entry: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['entry']
    }],
    index: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    loading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderTableComponent {
  constructor() {
    this.entries = [];
    this.loading = false;
  }
}
QuickOrderTableComponent.ɵfac = function QuickOrderTableComponent_Factory(t) {
  return new (t || QuickOrderTableComponent)();
};
QuickOrderTableComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: QuickOrderTableComponent,
  selectors: [["cx-quick-order-table"]],
  inputs: {
    entries: "entries",
    loading: "loading"
  },
  decls: 1,
  vars: 1,
  consts: [["class", "cx-quick-order-table-wrapper", "role", "table", 4, "ngIf"], ["role", "table", 1, "cx-quick-order-table-wrapper"], [1, "cx-visually-hidden"], ["role", "row", 1, "cx-item-list-header", "cx-quick-order-table-header"], ["role", "columnheader", 1, "cx-item-list-desc"], ["role", "columnheader", 1, "cx-item-list-price"], ["role", "columnheader", 1, "cx-item-list-qty"], ["role", "columnheader", 1, "cx-item-list-actions"], [1, "cx-item-list-items"], ["cx-quick-order-item", "", "class", "cx-item-list-row cx-quick-order-table-row", 3, "entry", "index", "loading", 4, "ngFor", "ngForOf"], ["cx-quick-order-item", "", 1, "cx-item-list-row", "cx-quick-order-table-row", 3, "entry", "index", "loading"]],
  template: function QuickOrderTableComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, QuickOrderTableComponent_table_0_Template, 20, 16, "table", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (ctx.entries == null ? null : ctx.entries.length) > 0);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, QuickOrderItemComponent, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderTableComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-quick-order-table',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<table\n  *ngIf=\"entries?.length > 0\"\n  class=\"cx-quick-order-table-wrapper\"\n  role=\"table\"\n>\n  <caption class=\"cx-visually-hidden\">\n    {{\n      'quickOrderTable.caption' | cxTranslate\n    }}\n  </caption>\n  <thead>\n    <tr role=\"row\" class=\"cx-item-list-header cx-quick-order-table-header\">\n      <th role=\"columnheader\" class=\"cx-item-list-desc\">\n        {{ 'quickOrderTable.product' | cxTranslate }}\n      </th>\n      <th role=\"columnheader\" class=\"cx-item-list-price\">\n        {{ 'quickOrderTable.price' | cxTranslate }}\n      </th>\n      <th role=\"columnheader\" class=\"cx-item-list-qty\">\n        {{ 'quickOrderTable.quantity' | cxTranslate }}\n      </th>\n      <th role=\"columnheader\" class=\"cx-item-list-actions\">\n        {{ 'quickOrderTable.actions' | cxTranslate }}\n      </th>\n    </tr>\n  </thead>\n  <tbody class=\"cx-item-list-items\">\n    <tr\n      cx-quick-order-item\n      class=\"cx-item-list-row cx-quick-order-table-row\"\n      *ngFor=\"let entry of entries; let i = index\"\n      [entry]=\"entry\"\n      [index]=\"i\"\n      [loading]=\"loading\"\n    ></tr>\n  </tbody>\n</table>\n"
    }]
  }], null, {
    entries: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    loading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderComponent {
  constructor(activeCartService, component, globalMessageService, quickOrderService, quickOrderStatePersistenceService) {
    this.activeCartService = activeCartService;
    this.component = component;
    this.globalMessageService = globalMessageService;
    this.quickOrderService = quickOrderService;
    this.quickOrderStatePersistenceService = quickOrderStatePersistenceService;
    this.quickOrderListLimit$ = this.component.data$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(data => data.quickOrderListLimit), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.tap)(limit => {
      if (!!limit) {
        this.quickOrderService.setListLimit(limit);
      }
    }));
    this.isCartStable$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.combineLatest)([this.activeCartService.getActiveCartId(), this.activeCartService.isStable()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(([activeCartId, isStable]) => !activeCartId ? true : isStable));
    this.globalMessageType = _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageType;
    this.cartErrors$ = new rxjs__WEBPACK_IMPORTED_MODULE_22__.BehaviorSubject([]);
    this.cartWarnings$ = new rxjs__WEBPACK_IMPORTED_MODULE_22__.BehaviorSubject([]);
    this.cartSuccesses$ = new rxjs__WEBPACK_IMPORTED_MODULE_22__.BehaviorSubject([]);
    this.showAddToCartInformation$ = new rxjs__WEBPACK_IMPORTED_MODULE_22__.BehaviorSubject(false);
    this.nonPurchasableProductError$ = new rxjs__WEBPACK_IMPORTED_MODULE_22__.BehaviorSubject(null);
  }
  ngOnInit() {
    this.cartId$ = this.activeCartService.getActiveCartId();
    this.entries$ = this.quickOrderService.getEntries();
    this.quickOrderStatePersistenceService.initSync();
  }
  ngOnDestroy() {
    this.quickOrderService.clearDeletedEntries();
  }
  get errors$() {
    return this.cartErrors$.asObservable();
  }
  get warnings$() {
    return this.cartWarnings$.asObservable();
  }
  get successes$() {
    return this.cartSuccesses$.asObservable();
  }
  get nonPurchasableError$() {
    return this.quickOrderService.getNonPurchasableProductError();
  }
  get addToCartInformation$() {
    return this.showAddToCartInformation$.asObservable();
  }
  get softDeletedEntries$() {
    return this.quickOrderService.getSoftDeletedEntries();
  }
  clear() {
    this.quickOrderService.clearList();
    this.globalMessageService.add({
      key: 'quickOrderTable.listCleared'
    }, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageType.MSG_TYPE_INFO);
  }
  addToCart(orderEntries) {
    if (!orderEntries.length) {
      this.showAddToCartInformation$.next(true);
      return;
    }
    this.clearStatuses();
    this.quickOrderService.addToCart().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(([entries, errors]) => {
      errors.forEach(err => {
        if (!err.entry) {
          err.entry = orderEntries.find(e => e.product?.code === err.productCode);
        }
      });
      this.extractErrors(errors);
      this.extractWarnings(errors);
      if (!errors.length) {
        this.showAddedToCartSuccessMessage();
      } else {
        this.extractSuccesses(errors, entries);
      }
    });
  }
  clearErrors() {
    this.cartErrors$.next([]);
  }
  clearWarnings() {
    this.cartWarnings$.next([]);
  }
  clearSuccesses() {
    this.cartSuccesses$.next([]);
  }
  clearAddToCartInformation() {
    this.showAddToCartInformation$.next(false);
  }
  undoDeletion(entry) {
    if (entry.product?.code) {
      this.quickOrderService.restoreSoftDeletedEntry(entry.product.code);
    }
  }
  clearDeletion(entry) {
    if (entry.product?.code) {
      this.quickOrderService.hardDeleteEntry(entry.product.code);
    }
  }
  clearNonPurchasableError() {
    this.quickOrderService.clearNonPurchasableProductError();
  }
  canAddProduct() {
    return this.quickOrderService.canAdd();
  }
  extractErrors(errors) {
    const noAddedEntries = errors.filter(error => error.quantityAdded === 0);
    this.setErrors(noAddedEntries);
  }
  extractWarnings(errors) {
    const warnings = errors.filter(error => error.quantityAdded !== 0);
    this.setWarnings(warnings);
  }
  extractSuccesses(errors, entries) {
    const successAddedEntries = [];
    entries.forEach(entry => {
      const element = errors.find(error => error.productCode === entry.product?.code);
      if (!element) {
        successAddedEntries.push(entry);
      }
    });
    this.setSuccesses(successAddedEntries);
  }
  clearStatuses() {
    this.clearErrors();
    this.clearWarnings();
    this.clearSuccesses();
  }
  showAddedToCartSuccessMessage() {
    this.globalMessageService.add({
      key: 'quickOrderTable.addedtoCart'
    }, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageType.MSG_TYPE_CONFIRMATION);
  }
  setErrors(errors) {
    this.cartErrors$.next(errors);
  }
  setWarnings(warnings) {
    this.cartWarnings$.next(warnings);
  }
  setSuccesses(entries) {
    this.cartSuccesses$.next(entries);
  }
}
QuickOrderComponent.ɵfac = function QuickOrderComponent_Factory(t) {
  return new (t || QuickOrderComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ActiveCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.CmsComponentData), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_quick_order_core__WEBPACK_IMPORTED_MODULE_23__.QuickOrderStatePersistenceService));
};
QuickOrderComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: QuickOrderComponent,
  selectors: [["cx-quick-order"]],
  viewQuery: function QuickOrderComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c7, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.quickOrderForm = _t.first);
    }
  },
  decls: 17,
  vars: 24,
  consts: [["aria-atomic", "true", "aria-live", "assertive", "aria-relevant", "additions", 1, "quick-order-message-container"], [4, "ngIf"], [1, "quick-order-list-limit-message", 3, "text", "isVisibleCloseButton", "type"], [1, "quick-order-add-to-cart-information-message", 3, "text", "type", "closeMessage"], [1, "quick-order-non-purchasable-product-error-message", 3, "text", "type", "closeMessage"], ["class", "quick-order-deletions-message", 3, "actionButtonText", "actionButtonMessage", "text", "type", "buttonAction", "closeMessage", 4, "ngFor", "ngForOf"], [1, "quick-order-deletions-message", 3, "actionButtonText", "actionButtonMessage", "text", "type", "buttonAction", "closeMessage"], ["class", "quick-order-errors-message", 3, "accordionText", "text", "type", "closeMessage", 4, "ngIf"], [1, "quick-order-errors-message", 3, "accordionText", "text", "type", "closeMessage"], [1, "quick-order-errors"], ["class", "quick-order-error-item", 4, "ngFor", "ngForOf"], [1, "cx-visually-hidden"], [1, "quick-order-error-item"], ["class", "quick-order-warnings-message", 3, "accordionText", "text", "type", "closeMessage", 4, "ngIf"], [1, "quick-order-warnings-message", 3, "accordionText", "text", "type", "closeMessage"], [1, "quick-order-warnings"], ["class", "quick-order-warning-item", 4, "ngFor", "ngForOf"], [1, "quick-order-warning-item"], ["class", "quick-order-successes-message", 3, "text", "type", "closeMessage", 4, "ngIf"], [1, "quick-order-successes-message", 3, "text", "type", "closeMessage"], [1, "quick-order-successes"], ["class", "quick-order-success-item", 4, "ngFor", "ngForOf"], [1, "quick-order-success-item"], [1, "quick-order-header"], [1, "quick-order-form-body"], [3, "limit"], ["quickOrderForm", ""], [1, "quick-order-table-body"], [3, "entries", "loading"], [1, "quick-order-footer", "row"], [1, "col-xs-12", "col-md-5", "col-lg-3"], ["class", "btn btn-block btn-secondary clear-button", "type", "button", 3, "disabled", "click", 4, "ngIf"], [3, "ariaLabel", "loading", "clickEvent"], ["type", "button", 1, "btn", "btn-block", "btn-secondary", "clear-button", 3, "disabled", "click"]],
  template: function QuickOrderComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuickOrderComponent_ng_container_1_Template, 3, 3, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, QuickOrderComponent_ng_container_3_Template, 3, 4, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, QuickOrderComponent_ng_container_5_Template, 3, 7, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, QuickOrderComponent_ng_container_7_Template, 3, 3, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, QuickOrderComponent_ng_container_9_Template, 2, 1, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, QuickOrderComponent_ng_container_11_Template, 2, 1, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, QuickOrderComponent_ng_container_13_Template, 2, 1, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, QuickOrderComponent_ng_container_15_Template, 3, 3, "ng-container", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 8, ctx.entries$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 10, ctx.addToCartInformation$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 12, ctx.nonPurchasableError$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 14, ctx.softDeletedEntries$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 16, ctx.errors$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 18, ctx.warnings$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 20, ctx.successes$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 22, ctx.quickOrderListLimit$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MessageComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ProgressButtonComponent, QuickOrderFormComponent, QuickOrderTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_7__.AsyncPipe, _angular_common__WEBPACK_IMPORTED_MODULE_7__.KeyValuePipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-quick-order',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<div\n  aria-atomic=\"true\"\n  aria-live=\"assertive\"\n  aria-relevant=\"additions\"\n  class=\"quick-order-message-container\"\n>\n  <ng-container *ngIf=\"entries$ | async as entries\">\n    <ng-container *ngIf=\"!(canAddProduct() | async)\">\n      <ng-container *ngIf=\"quickOrderForm?.form?.get('product')?.dirty\">\n        <cx-message\n          [text]=\"\n            'quickOrderList.errors.listIsFull'\n              | cxTranslate: { count: entries.length }\n          \"\n          [isVisibleCloseButton]=\"false\"\n          [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n          class=\"quick-order-list-limit-message\"\n        >\n        </cx-message>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n\n  <ng-container *ngIf=\"addToCartInformation$ | async\">\n    <cx-message\n      (closeMessage)=\"clearAddToCartInformation()\"\n      [text]=\"\n        'quickOrderList.informations.addProductBeforeAddingToCart' | cxTranslate\n      \"\n      [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n      class=\"quick-order-add-to-cart-information-message\"\n    >\n    </cx-message>\n  </ng-container>\n\n  <ng-container *ngIf=\"nonPurchasableError$ | async as nonPurchasableError\">\n    <cx-message\n      (closeMessage)=\"clearNonPurchasableError()\"\n      [text]=\"\n        'quickOrderList.errors.nonPurchasableError'\n          | cxTranslate: { name: nonPurchasableError.name }\n      \"\n      [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n      class=\"quick-order-non-purchasable-product-error-message\"\n    >\n    </cx-message>\n  </ng-container>\n\n  <ng-container *ngIf=\"softDeletedEntries$ | async as deletedEntries\">\n    <cx-message\n      *ngFor=\"let deletedEntry of deletedEntries | keyvalue\"\n      (buttonAction)=\"undoDeletion(deletedEntry.value)\"\n      (closeMessage)=\"clearDeletion(deletedEntry.value)\"\n      [actionButtonText]=\"'quickOrderList.undo' | cxTranslate\"\n      [actionButtonMessage]=\"\n        'quickOrderList.revokeUndo'\n          | cxTranslate: { name: deletedEntry.value.product?.name }\n      \"\n      [text]=\"\n        'quickOrderList.productWasDeleted'\n          | cxTranslate: { name: deletedEntry.value.product?.name }\n      \"\n      [type]=\"globalMessageType.MSG_TYPE_CONFIRMATION\"\n      class=\"quick-order-deletions-message\"\n    >\n    </cx-message>\n  </ng-container>\n\n  <ng-container *ngIf=\"errors$ | async as errors\">\n    <cx-message\n      *ngIf=\"errors.length\"\n      (closeMessage)=\"clearErrors()\"\n      [accordionText]=\"'quickOrderList.errors.reviewErrors' | cxTranslate\"\n      [text]=\"'quickOrderList.errorProceedingToCart' | cxTranslate\"\n      [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n      class=\"quick-order-errors-message\"\n    >\n      <ul class=\"quick-order-errors\">\n        <li *ngFor=\"let error of errors\" class=\"quick-order-error-item\">\n          <span>\n            {{\n              'quickOrderList.errors.productIsOutOfStock'\n                | cxTranslate\n                  : {\n                      name: error.entry.product.name,\n                      code: error.entry.product.code\n                    }\n            }}\n          </span>\n        </li>\n      </ul>\n      <div class=\"cx-visually-hidden\">\n        {{\n          'quickOrderList.errors.outOfStockErrorFound'\n            | cxTranslate: { count: errors.length }\n        }}\n      </div>\n    </cx-message>\n  </ng-container>\n\n  <ng-container *ngIf=\"warnings$ | async as warnings\">\n    <cx-message\n      *ngIf=\"warnings.length\"\n      (closeMessage)=\"clearWarnings()\"\n      [accordionText]=\"'quickOrderList.warnings.reviewWarnings' | cxTranslate\"\n      [text]=\"'quickOrderList.warningProceedingToCart' | cxTranslate\"\n      [type]=\"globalMessageType.MSG_TYPE_WARNING\"\n      class=\"quick-order-warnings-message\"\n    >\n      <ul class=\"quick-order-warnings\">\n        <li *ngFor=\"let warning of warnings\" class=\"quick-order-warning-item\">\n          <span>\n            {{\n              'quickOrderList.warnings.productWasReduced'\n                | cxTranslate\n                  : {\n                      name: warning.entry.product.name,\n                      code: warning.entry.product.code,\n                      quantityAdded: warning.quantityAdded\n                    }\n            }}\n          </span>\n        </li>\n      </ul>\n      <div class=\"cx-visually-hidden\">\n        {{\n          'quickOrderList.warnings.reduceWarningFound'\n            | cxTranslate: { count: warnings.length }\n        }}\n      </div>\n    </cx-message>\n  </ng-container>\n\n  <ng-container *ngIf=\"successes$ | async as successes\">\n    <cx-message\n      *ngIf=\"successes.length\"\n      (closeMessage)=\"clearSuccesses()\"\n      [text]=\"'quickOrderList.successfullyAddedToCart' | cxTranslate\"\n      [type]=\"globalMessageType.MSG_TYPE_CONFIRMATION\"\n      class=\"quick-order-successes-message\"\n    >\n      <ul class=\"quick-order-successes\">\n        <li *ngFor=\"let entry of successes\" class=\"quick-order-success-item\">\n          <span>{{\n            'quickOrderList.successes.productAddedToCart'\n              | cxTranslate\n                : {\n                    name: entry.product.name,\n                    code: entry.product.code\n                  }\n          }}</span>\n        </li>\n      </ul>\n      <div class=\"cx-visually-hidden\">\n        {{\n          'quickOrderList.successes.addedToCartFound'\n            | cxTranslate: { count: successes.length }\n        }}\n      </div>\n    </cx-message>\n  </ng-container>\n</div>\n\n<ng-container *ngIf=\"quickOrderListLimit$ | async as quickOrderListLimit\">\n  <ng-container *ngIf=\"entries$ | async as entries\">\n    <div class=\"quick-order-header\">\n      <h2>\n        {{ 'quickOrderList.header' | cxTranslate }}\n      </h2>\n      <p>\n        {{\n          'quickOrderList.subHeader'\n            | cxTranslate: { limit: quickOrderListLimit }\n        }}\n      </p>\n    </div>\n\n    <div class=\"quick-order-form-body\">\n      <cx-quick-order-form #quickOrderForm [limit]=\"quickOrderListLimit\">\n      </cx-quick-order-form>\n    </div>\n\n    <div class=\"quick-order-table-body\">\n      <cx-quick-order-table\n        [entries]=\"entries\"\n        [loading]=\"!(isCartStable$ | async)\"\n      ></cx-quick-order-table>\n    </div>\n\n    <div class=\"quick-order-footer row\">\n      <div class=\"col-xs-12 col-md-5 col-lg-3\">\n        <button\n          *ngIf=\"entries.length\"\n          (click)=\"clear()\"\n          [attr.aria-label]=\"'quickOrderList.emptyList' | cxTranslate\"\n          [disabled]=\"!(isCartStable$ | async)\"\n          class=\"btn btn-block btn-secondary clear-button\"\n          type=\"button\"\n        >\n          {{ 'quickOrderList.emptyList' | cxTranslate }}\n        </button>\n      </div>\n\n      <div class=\"col-xs-12 col-md-5 col-lg-3\">\n        <cx-progress-button\n          (clickEvent)=\"addToCart(entries)\"\n          [ariaLabel]=\"'quickOrderList.addToCart' | cxTranslate\"\n          [class]=\"'btn-block add-button'\"\n          [loading]=\"!(isCartStable$ | async)\"\n        >\n          {{ 'quickOrderList.addToCart' | cxTranslate }}\n        </cx-progress-button>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_4__.ActiveCartFacade
    }, {
      type: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.CmsComponentData
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.GlobalMessageService
    }, {
      type: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderFacade
    }, {
      type: _spartacus_cart_quick_order_core__WEBPACK_IMPORTED_MODULE_23__.QuickOrderStatePersistenceService
    }];
  }, {
    quickOrderForm: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['quickOrderForm']
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderListModule {}
QuickOrderListModule.ɵfac = function QuickOrderListModule_Factory(t) {
  return new (t || QuickOrderListModule)();
};
QuickOrderListModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: QuickOrderListModule
});
QuickOrderListModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.provideDefaultConfig)({
    cmsComponents: {
      QuickOrderComponent: {
        component: QuickOrderComponent,
        data: {
          quickOrderListLimit: 10
        }
      }
    }
  })],
  imports: [_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.AtMessageModule, _angular_common__WEBPACK_IMPORTED_MODULE_7__.CommonModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ItemCounterModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MediaModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MessageComponentModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ProgressButtonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _angular_router__WEBPACK_IMPORTED_MODULE_20__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.UrlModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderListModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.AtMessageModule, _angular_common__WEBPACK_IMPORTED_MODULE_7__.CommonModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ItemCounterModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MediaModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MessageComponentModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ProgressButtonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _angular_router__WEBPACK_IMPORTED_MODULE_20__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_6__.UrlModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_6__.provideDefaultConfig)({
        cmsComponents: {
          QuickOrderComponent: {
            component: QuickOrderComponent,
            data: {
              quickOrderListLimit: 10
            }
          }
        }
      })],
      declarations: [QuickOrderComponent, QuickOrderFormComponent, QuickOrderItemComponent, QuickOrderTableComponent],
      exports: [QuickOrderComponent, QuickOrderFormComponent, QuickOrderItemComponent, QuickOrderTableComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderComponentsModule {}
QuickOrderComponentsModule.ɵfac = function QuickOrderComponentsModule_Factory(t) {
  return new (t || QuickOrderComponentsModule)();
};
QuickOrderComponentsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: QuickOrderComponentsModule
});
QuickOrderComponentsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [{
    provide: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderOrderEntriesContextToken,
    useExisting: QuickOrderOrderEntriesContext
  }],
  imports: [_angular_router__WEBPACK_IMPORTED_MODULE_20__.RouterModule, QuickOrderListModule, CartQuickOrderFormModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderComponentsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_20__.RouterModule, QuickOrderListModule, CartQuickOrderFormModule],
      providers: [{
        provide: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_17__.QuickOrderOrderEntriesContextToken,
        useExisting: QuickOrderOrderEntriesContext
      }]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 5697:
/*!***********************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-quick-order-core.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QuickOrderCoreModule": () => (/* binding */ QuickOrderCoreModule),
/* harmony export */   "QuickOrderService": () => (/* binding */ QuickOrderService),
/* harmony export */   "QuickOrderStatePersistenceService": () => (/* binding */ QuickOrderStatePersistenceService)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @spartacus/cart/quick-order/root */ 8199);
/* harmony import */ var _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @spartacus/cart/base/root */ 6061);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ 2218);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 4505);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 4139);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ 5398);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ 2425);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ 6942);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ 3910);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ 5670);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ 9095);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ 9151);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ 8759);











/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderService {
  constructor(activeCartService, config, eventService, productSearchConnector) {
    this.activeCartService = activeCartService;
    this.config = config;
    this.eventService = eventService;
    this.productSearchConnector = productSearchConnector;
    this.productAdded$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
    this.entries$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject([]);
    this.softDeletedEntries$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject({});
    this.nonPurchasableProductError$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject(null);
    this.hardDeleteTimeout = this.config.quickOrder?.list?.hardDeleteTimeout || 7000;
    this.quickOrderListLimit = 0;
    this.clearDeleteTimeouts = {};
  }
  ngOnDestroy() {
    this.clearDeletedEntries();
  }
  /**
   * Get entries
   */
  getEntries() {
    return this.entries$;
  }
  /**
   * Search products using query
   */
  searchProducts(query, maxProducts) {
    // TODO(#14059): Remove condition
    if (this.productSearchConnector) {
      const searchConfig = {
        pageSize: maxProducts || _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_2__.defaultQuickOrderConfig.quickOrder?.searchForm?.maxProducts
      };
      return this.productSearchConnector.search(query, searchConfig).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(searchPage => searchPage.products || []));
    } else {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)([]);
    }
  }
  /**
   * Clear a list of added entries
   */
  clearList() {
    this.entries$.next([]);
  }
  /**
   * Get information about the possibility to add the next product
   */
  canAdd(code, productData) {
    if (code && productData) {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(this.isProductOnTheList(code) || !this.isLimitExceeded(code, productData));
    } else if (code) {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(this.isProductOnTheList(code) || !this.isLimitExceeded());
    } else {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(!this.isLimitExceeded());
    }
  }
  /**
   * Set quick order list limit property
   */
  setListLimit(limit) {
    this.quickOrderListLimit = limit;
  }
  /**
   * Load a list of entries
   */
  loadEntries(entries = []) {
    this.entries$.next(entries);
  }
  /**
   * Load a list of entries
   */
  updateEntryQuantity(entryIndex, quantity) {
    const entries = this.entries$.getValue() || [];
    entries[entryIndex].quantity = quantity;
    this.entries$.next(entries);
  }
  /**
   * Delete single entry from the list
   */
  softDeleteEntry(index) {
    this.entries$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1)).subscribe(entries => {
      const entriesList = entries;
      this.addSoftEntryDeletion(entriesList[index], true);
      entriesList.splice(index, 1);
      this.entries$.next(entriesList);
    });
  }
  /**
   * Add product to the quick order list
   */
  addProduct(product, quantity = 1) {
    const entry = this.generateOrderEntry(product, quantity);
    this.addEntry(entry);
  }
  /**
   * Return product added subject
   */
  getProductAdded() {
    return this.productAdded$;
  }
  /**
   * Set product added subject
   */
  setProductAdded(productCode) {
    this.productAdded$.next(productCode);
  }
  /**
   * Adding to cart all products from the list
   */
  addToCart() {
    let entries = [];
    const events = [];
    const subscription = this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.CartAddEntrySuccessEvent).subscribe(cartEvent => {
      if (cartEvent.quantityAdded === 0 || !!cartEvent.quantityAdded && cartEvent.quantityAdded < cartEvent.quantity) {
        events.push(this.createQuickOrderResultEvent(cartEvent));
      }
    });
    subscription.add(this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.CartAddEntryFailEvent).subscribe(cartEvent => {
      events.push(this.createQuickOrderResultEvent(cartEvent));
    }));
    return this.getEntries().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.first)(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.switchMap)(elements => {
      entries = elements;
      this.activeCartService.addEntries(elements);
      this.clearList();
      return this.activeCartService.isStable();
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.filter)(isStable => isStable), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(() => [entries, events]), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.tap)(() => subscription.unsubscribe()));
  }
  /**
   * Return soft deleted entries
   */
  getSoftDeletedEntries() {
    return this.softDeletedEntries$;
  }
  /**
   * Restore soft deleted entry
   */
  restoreSoftDeletedEntry(productCode) {
    const entry = this.getSoftDeletedEntry(productCode);
    this.addEntry(entry);
    this.hardDeleteEntry(productCode);
  }
  /**
   * Clear deleted entry from the list
   */
  hardDeleteEntry(productCode) {
    const entry = this.getSoftDeletedEntry(productCode);
    const deletedEntries = this.softDeletedEntries$.getValue();
    if (entry) {
      delete deletedEntries[productCode];
      this.softDeletedEntries$.next(deletedEntries);
    }
    this.clearDeleteTimeout(productCode);
  }
  /**
   * Clear all deleted entries and timeout subscriptions
   */
  clearDeletedEntries() {
    Object.values(this.clearDeleteTimeouts).forEach(subscription => subscription.unsubscribe());
    this.softDeletedEntries$.next({});
    this.clearDeleteTimeouts = {};
  }
  /**
   *  Return non purchasable product error
   */
  getNonPurchasableProductError() {
    return this.nonPurchasableProductError$;
  }
  /**
   * Set error that selected product is not purchasable
   */
  setNonPurchasableProductError(product) {
    this.nonPurchasableProductError$.next(product);
  }
  /**
   * Clear not purchasable product error
   */
  clearNonPurchasableProductError() {
    this.nonPurchasableProductError$.next(null);
  }
  /**
   * Add soft deleted entry to the cached list
   */
  addSoftEntryDeletion(entry, clearTimeout = true) {
    const deletedEntries = this.softDeletedEntries$.getValue();
    const productCode = entry?.product?.code;
    if (productCode) {
      deletedEntries[productCode] = entry;
      this.softDeletedEntries$.next(deletedEntries);
      if (clearTimeout) {
        const subscription = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.timer)(this.hardDeleteTimeout).subscribe(() => {
          this.hardDeleteEntry(productCode);
        });
        this.clearDeleteTimeouts[productCode] = subscription;
      }
    }
  }
  /**
   * Get soft deletion entry
   */
  getSoftDeletedEntry(productCode) {
    const deletedEntries = this.softDeletedEntries$.getValue();
    return deletedEntries[productCode];
  }
  /**
   * Generate Order Entry from Product
   */
  generateOrderEntry(product, quantity) {
    return {
      basePrice: product.price,
      product,
      quantity,
      totalPrice: product.price
    };
  }
  /**
   * Add single entry to the list
   */
  addEntry(entry) {
    if (entry?.product?.code && !this.isProductOnTheList(entry.product.code) && this.isLimitExceeded()) {
      return;
    }
    const entries = this.entries$.getValue() || [];
    const entryStockLevel = entry.product?.stock?.stockLevel;
    if (entryStockLevel && entry.quantity && entry.quantity > entryStockLevel) {
      entry.quantity = entryStockLevel;
    }
    if (entry.product?.code && this.isProductOnTheList(entry.product.code)) {
      const entryIndex = entries.findIndex(item => item.product?.code === entry.product?.code);
      const quantity = entries[entryIndex].quantity;
      if (quantity && entry.quantity) {
        entries[entryIndex].quantity = quantity + entry?.quantity;
        const newQuantity = entries[entryIndex].quantity;
        if (newQuantity && entryStockLevel && newQuantity > entryStockLevel) {
          entries[entryIndex].quantity = entryStockLevel;
        }
        this.entries$.next([...entries]);
      }
    } else {
      this.entries$.next([...entries, ...[entry]]);
    }
    this.productAdded$.next(entry.product?.code);
  }
  /**
   * Verify if product is already on the list
   */
  isProductOnTheList(productCode) {
    const entries = this.entries$.getValue() || [];
    return !!entries.find(item => item.product?.code === productCode);
  }
  isLimitExceeded(code, productsData) {
    const entries = this.entries$.getValue() || [];
    /**
     * Used to offset the amount of existing entries with the index of the missing
     * entry to be added. We can use this offset to see if adding the missing product
     * would hit the list limit before we attempt to add it.
     */
    const missingProductIndex = code && productsData ? this.getMissingProductIndex(entries, code, productsData) : 0;
    return entries.length + (missingProductIndex || 0) >= this.quickOrderListLimit;
  }
  /**
   * Get the index of the missing product in the productsData array identified by code
   * from the entries array.
   */
  getMissingProductIndex(entries, code, productsData) {
    const missingProducts = productsData?.filter(product => !entries.map(entry => entry.product?.code).includes(product.productCode)) || [];
    return missingProducts.findIndex(product => product.productCode === code);
  }
  createQuickOrderResultEvent(cartEvent) {
    const evt = {
      productCode: cartEvent.productCode,
      quantity: cartEvent.quantity
    };
    if ('entry' in cartEvent) {
      evt.entry = cartEvent.entry;
    }
    if ('quantityAdded' in cartEvent) {
      evt.quantityAdded = cartEvent.quantityAdded;
    }
    if ('error' in cartEvent && cartEvent.error instanceof _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.HttpErrorModel) {
      evt.error = cartEvent.error;
    }
    if (evt.error?.details?.length) {
      const isOutOfStock = evt.error?.details.some(e => e.type === 'InsufficientStockError');
      evt.quantityAdded = isOutOfStock ? 0 : evt.quantity;
    }
    return evt;
  }
  clearDeleteTimeout(productCode) {
    const clearMessageTimout = this.clearDeleteTimeouts[productCode];
    if (clearMessageTimout) {
      clearMessageTimout.unsubscribe();
      delete this.clearDeleteTimeouts[productCode];
    }
  }
}
QuickOrderService.ɵfac = function QuickOrderService_Factory(t) {
  return new (t || QuickOrderService)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.ActiveCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_12__.Config), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_12__.EventService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_12__.ProductSearchConnector));
};
QuickOrderService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineInjectable"]({
  token: QuickOrderService,
  factory: QuickOrderService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵsetClassMetadata"](QuickOrderService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_13__.Injectable
  }], function () {
    return [{
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.ActiveCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.Config
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.EventService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.ProductSearchConnector
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const facadeProviders = [QuickOrderService, {
  provide: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_2__.QuickOrderFacade,
  useExisting: QuickOrderService
}];

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderStatePersistenceService {
  constructor(quickOrderService, siteContextParamsService, statePersistenceService) {
    this.quickOrderService = quickOrderService;
    this.siteContextParamsService = siteContextParamsService;
    this.statePersistenceService = statePersistenceService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_14__.Subscription();
    /**
     * Identifier used for storage key.
     */
    this.key = 'quick-order';
  }
  /**
   * Initializes the synchronization between state and browser storage.
   */
  initSync() {
    this.subscription.add(this.statePersistenceService.syncWithStorage({
      key: this.key,
      state$: this.quickOrderService.getEntries(),
      context$: this.siteContextParamsService.getValues([_spartacus_core__WEBPACK_IMPORTED_MODULE_12__.BASE_SITE_CONTEXT_ID]),
      storageType: _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.StorageSyncType.SESSION_STORAGE,
      onRead: state => this.onRead(state)
    }));
  }
  onRead(state) {
    if (state) {
      this.quickOrderService.loadEntries(state);
    }
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
QuickOrderStatePersistenceService.ɵfac = function QuickOrderStatePersistenceService_Factory(t) {
  return new (t || QuickOrderStatePersistenceService)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_2__.QuickOrderFacade), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_12__.SiteContextParamsService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_12__.StatePersistenceService));
};
QuickOrderStatePersistenceService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineInjectable"]({
  token: QuickOrderStatePersistenceService,
  factory: QuickOrderStatePersistenceService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵsetClassMetadata"](QuickOrderStatePersistenceService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_13__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _spartacus_cart_quick_order_root__WEBPACK_IMPORTED_MODULE_2__.QuickOrderFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.SiteContextParamsService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_12__.StatePersistenceService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderCoreModule {
  static forRoot() {
    return {
      ngModule: QuickOrderCoreModule
    };
  }
}
QuickOrderCoreModule.ɵfac = function QuickOrderCoreModule_Factory(t) {
  return new (t || QuickOrderCoreModule)();
};
QuickOrderCoreModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineNgModule"]({
  type: QuickOrderCoreModule
});
QuickOrderCoreModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineInjector"]({
  providers: [...facadeProviders, QuickOrderStatePersistenceService]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵsetClassMetadata"](QuickOrderCoreModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_13__.NgModule,
    args: [{
      providers: [...facadeProviders, QuickOrderStatePersistenceService]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 4347:
/*!******************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-quick-order.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QuickOrderModule": () => (/* binding */ QuickOrderModule)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_cart_quick_order_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @spartacus/cart/quick-order/components */ 4664);
/* harmony import */ var _spartacus_cart_quick_order_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @spartacus/cart/quick-order/core */ 5697);





/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class QuickOrderModule {}
QuickOrderModule.ɵfac = function QuickOrderModule_Factory(t) {
  return new (t || QuickOrderModule)();
};
QuickOrderModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: QuickOrderModule
});
QuickOrderModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_spartacus_cart_quick_order_core__WEBPACK_IMPORTED_MODULE_1__.QuickOrderCoreModule, _spartacus_cart_quick_order_components__WEBPACK_IMPORTED_MODULE_2__.QuickOrderComponentsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuickOrderModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_spartacus_cart_quick_order_core__WEBPACK_IMPORTED_MODULE_1__.QuickOrderCoreModule, _spartacus_cart_quick_order_components__WEBPACK_IMPORTED_MODULE_2__.QuickOrderComponentsModule]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ })

}]);
//# sourceMappingURL=node_modules_spartacus_cart_fesm2020_spartacus-cart-quick-order_mjs.js.map