{"version":3,"file":"node_modules_spartacus_product_fesm2020_spartacus-product-image-zoom_mjs.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAoC;AAC2G;AACzG;AACS;AACA;AACT;AAC4C;AACtC;AACmI;AACrF;AACM;;AAEhG;AACA;AACA;AACA;AACA;AAJA;EAAA;IAkCsHA,uDAAE,qBACic;EAAA;EAAA;IAAA,kBADncA,2DAAE;IAAFA,2DAAE;IAAA,YAAFA,yDAAE;IAAFA,wDAAE,oBAC4V;EAAA;AAAA;AAAA;EAAA;IAD9VA,qEAAE,GACiQ;IADnQA,wDAAE,sGACic;IADncA,mEAAE,EACkd;EAAA;EAAA;IAAA;IADpdA,uDAAE,GAC4S;IAD9SA,wDAAE,0BAC4S;EAAA;AAAA;AAAA;EAAA;IAAA,YAD9SA,8DAAE;IAAFA,4DAAE,kBAC6qB;IAD/qBA,wDAAE;MAAA,oBAAFA,2DAAE;MAAA;MAAA,eAAFA,2DAAE;MAAA,OAAFA,yDAAE,CACilB,mCAAyB;IAAA,EAAE;IAD9mBA,oDAAE;IAAFA,0DAAE,EAC4rB;EAAA;EAAA;IAAA;IAAA,eAD9rBA,2DAAE;IAAFA,yDAAE,cAAFA,yDAAE,2CACwqB;IAD1qBA,wDAAE,gCAC6iB;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA,aAD/iBA,8DAAE;IAAFA,4DAAE,gBA6Ok0B;IA7Op0BA,wDAAE;MAAA,oBAAFA,2DAAE;MAAA;MAAA,eAAFA,2DAAE;MAAA,OAAFA,yDAAE,CA6OmxB,8CAAoC;IAAA,EAAE;IA7O3zBA,uDAAE,iBA6O83B;IA7Oh4BA,0DAAE,EA6O+4B;EAAA;EAAA;IAAA,eA7Oj5BA,2DAAE;IAAFA,uDAAE,GA6Om3B;IA7Or3BA,wDAAE,oCA6Om3B;EAAA;AAAA;AAAA;EAAA;IA7Or3BA,uDAAE,uBA6OqjC;EAAA;EAAA;IAAA,gBA7OvjCA,2DAAE;IAAFA,wDAAE,sBA6O6hC;EAAA;AAAA;AAAA;EAAA;IAAA,aA7O/hCA,8DAAE;IAAFA,4DAAE,kBA6O8nC;IA7OhoCA,wDAAE;MAAFA,2DAAE;MAAA,gBAAFA,2DAAE;MAAA,OAAFA,yDAAE,CA6O8vC,2BAAmB;IAAA,EAAE;MA7OrxCA,2DAAE;MAAA,gBAAFA,2DAAE;MAAA,OAAFA,yDAAE,CA6O2yC,yBAAiB;IAAA,EAAzC;MA7OrxCA,2DAAE;MAAA,gBAAFA,2DAAE;MAAA,OAAFA,yDAAE,CA6Oq1C,oBAAY;IAAA,EAA9E;IA7OrxCA,0DAAE,EA6O+3C;EAAA;EAAA;IAAA,gBA7Oj4CA,2DAAE;IAAFA,uDAAE,GA6OsuC;IA7OxuCA,wDAAE,sBA6OsuC;EAAA;AAAA;AAAA;EAAA;IAAA,aA7OxuCA,8DAAE;IAAFA,4DAAE,gBA6OimD;IA7OnmDA,wDAAE;MAAA,oBAAFA,2DAAE;MAAA;MAAA,gBAAFA,2DAAE;MAAA,OAAFA,yDAAE,CA6OsjD,4CAAgC;IAAA,EAAE;IA7O1lDA,uDAAE,iBA6O8pD;IA7OhqDA,0DAAE,EA6O+qD;EAAA;EAAA;IAAA,eA7OjrDA,2DAAE;IAAFA,uDAAE,GA6OmpD;IA7OrpDA,wDAAE,qCA6OmpD;EAAA;AAAA;AAAA;EAAA;IA7OrpDA,4DAAE,aA6OgmB;IA7OlmBA,wDAAE,4FA6O+4B;IA7Oj5BA,oDAAE;IAAFA,0DAAE,EA6O25B;IA7O75BA,wDAAE,gGA6OqjC;IA7OvjCA,wDAAE,sFA6O24C;IA7O74CA,4DAAE,aA6Ok7C;IA7Op7CA,wDAAE,4FA6O+qD;IA7OjrDA,oDAAE;IAAFA,0DAAE,EA6O2rD;EAAA;EAAA;IAAA;IAAA,eA7O7rDA,2DAAE;IAAFA,uDAAE,GA6O2uB;IA7O7uBA,wDAAE,SAAFA,yDAAE,6CA6O2uB;IA7O7uBA,uDAAE,GA6O+/B;IA7OjgCA,wDAAE,0BA6O+/B;IA7OjgCA,uDAAE,GA6O2nC;IA7O7nCA,wDAAE,yBA6O2nC;IA7O7nCA,uDAAE,GA6OkhD;IA7OphDA,wDAAE,SAAFA,yDAAE,yCA6OkhD;EAAA;AAAA;AAAA;EAAA;IA7OphDA,qEAAE,GA6OihB;IA7OnhBA,wDAAE,gFA6OqsD;IA7OvsDA,oDAAE;IAAFA,mEAAE,EA6OstD;EAAA;EAAA;IAAA,eA7OxtDA,2DAAE;IAAFA,uDAAE,GA6OolB;IA7OtlBA,wDAAE,SAAFA,yDAAE,2BA6OolB;EAAA;AAAA;AAAA;AAAA;EAAA;IAAA,YA7OtlBA,8DAAE;IAAFA,qEAAE,GAmYyK;IAnY3KA,4DAAE,kBAmY0O;IAnY5OA,wDAAE;MAAFA,2DAAE;MAAA,eAAFA,2DAAE;MAAA,OAAFA,yDAAE,CAmYsN,mBAAY,IAAI,CAAC;IAAA,EAAE;IAnY3OA,0DAAE,EAmYqP;IAnYvPA,4DAAE,uCAmYqZ;IAnYvZA,wDAAE;MAAFA,2DAAE;MAAA,eAAFA,2DAAE;MAAA,OAAFA,yDAAE,CAmY4X,mBAAY,KAAK,CAAC;IAAA,EAAE;IAnYlZA,0DAAE,EAmYqb;IAnYvbA,mEAAE,EAmYsc;EAAA;EAAA;IAAA;IAAA,eAnYxcA,2DAAE;IAAFA,uDAAE,GAmY2M;IAnY7MA,wDAAE,sBAmY2M;IAnY7MA,uDAAE,GAmYgU;IAnYlUA,wDAAE,yCAmYgU;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAnYlUA,uDAAE,qBAmYy6B;IAnY36BA,oDAAE;EAAA;EAAA;IAAA,oBAAFA,2DAAE;IAAA,kBAAFA,2DAAE;IAAFA,2DAAE;IAAA,YAAFA,yDAAE;IAAFA,wDAAE,oBAmY2zB;IAnY7zBA,yDAAE,eAAFA,yDAAE,sCAAFA,6DAAE,4BAmYmtB;EAAA;AAAA;AAAA;EAAA;IAnYrtBA,qEAAE,GAmYojB;IAnYtjBA,wDAAE,wHAmYy6B;IAnY36BA,mEAAE,EAmY47B;EAAA;EAAA;IAAA,kBAnY97BA,2DAAE;IAAFA,uDAAE,GAmYuwB;IAnYzwBA,wDAAE,0BAmYuwB;EAAA;AAAA;AAAA;EAAA;IAnYzwBA,qEAAE,GAmY4f;IAnY9fA,wDAAE,2GAmY47B;IAnY97BA,oDAAE;IAAFA,mEAAE,EAmY68B;EAAA;EAAA;IAAA,eAnY/8BA,2DAAE;IAAFA,uDAAE,GAmYuiB;IAnYziBA,wDAAE,SAAFA,yDAAE,wBAmYuiB;EAAA;AAAA;AAAA;EAAA;IAAA,aAnYziBA,8DAAE;IAAFA,4DAAE,kBAmYgsC;IAnYlsCA,wDAAE;MAAA,oBAAFA,2DAAE;MAAA;MAAA,gBAAFA,2DAAE;MAAA,OAAFA,yDAAE,CAmY4kC,qCAAyB;IAAA,EAAE;IAnYzmCA,oDAAE;IAAFA,0DAAE,EAmY+sC;EAAA;EAAA;IAAA;IAAA,eAnYjtCA,2DAAE;IAAFA,yDAAE,cAAFA,yDAAE,4CAmYmqC;IAnYrqCA,wDAAE,iCAmYwiC;EAAA;AAAA;AAhahqC,MAAMuC,mCAAmC,CAAC;EACtCC,WAAW,GAAG;IACV,IAAI,CAACC,kBAAkB,GAAG,IAAId,iDAAe,CAAC,CAAC,CAAC,CAAC;IACjD,IAAI,CAACe,YAAY,GAAG,IAAIzC,uDAAY,EAAE;IACtC,IAAI,CAAC0C,YAAY,GAAG,IAAIf,8CAAY,EAAE;IACtC;EACJ;;EACAgB,QAAQ,GAAG;IACP,IAAI,CAACD,YAAY,CAACE,GAAG,CAAC,IAAI,CAACC,WAAW,CAACC,SAAS,CAAEC,KAAK,IAAK;MACxD,IAAI,CAACP,kBAAkB,CAACQ,IAAI,CAACD,KAAK,CAAC;IACvC,CAAC,CAAC,CAAC;EACP;EACAE,SAAS,CAACF,KAAK,EAAE;IACb,IAAI,CAACP,kBAAkB,CAACQ,IAAI,CAACD,KAAK,CAAC;IACnC,IAAI,OAAOA,KAAK,CAACG,IAAI,EAAEC,YAAY,KAAK,QAAQ,EAAE;MAC9C,IAAI,CAACV,YAAY,CAACW,IAAI,CAAC;QAAEL,KAAK;QAAEM,KAAK,EAAEN,KAAK,CAACG,IAAI,CAACC;MAAa,CAAC,CAAC;IACrE;EACJ;EACAG,QAAQ,CAACC,SAAS,EAAE;IAChB,OAAO,IAAI,CAACf,kBAAkB,CAACgB,YAAY,EAAE,CAACC,IAAI,CAACzB,sDAAM,CAACnB,0DAAa,CAAC,EAAEoB,mDAAG,CAAEyB,SAAS,IAAK;MACzF,OAAQA,SAAS,CAACR,IAAI,EAAES,GAAG,IACvBJ,SAAS,CAACL,IAAI,EAAES,GAAG,IACnBD,SAAS,CAACR,IAAI,CAACS,GAAG,KAAKJ,SAAS,CAACL,IAAI,CAACS,GAAG;IACjD,CAAC,CAAC,CAAC;EACP;EACAC,WAAW,GAAG;IACV,IAAI,CAAClB,YAAY,CAACmB,WAAW,EAAE;EACnC;AACJ;AACAvB,mCAAmC,CAACwB,IAAI;EAAA,iBAAwFxB,mCAAmC;AAAA,CAAmD;AACtNA,mCAAmC,CAACyB,IAAI,kBAD8EhE,+DAAE;EAAA,MACJuC,mCAAmC;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MADjCvC,wDAAE,yFACkd;MADpdA,oDAAE;MAAFA,wDAAE,8FAAFA,oEAAE,CAC4sB;IAAA;IAAA;MAD9sBA,wDAAE,SAAFA,yDAAE,oBACqP;IAAA;EAAA;EAAA,eAAsgBiB,oEAAoB,EAA4KP,iDAAO,EAA6FO,iEAAiB,EAAgIP,sDAAY;EAAA;EAAA;AAAA,EAAyE;AAC73C;EAAA,mDAFsHV,+DAAE,CAE7BuC,mCAAmC,EAAc,CAAC;IACjI8B,IAAI,EAAEnE,oDAAS;IACfoE,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,kCAAkC;MAAEC,eAAe,EAAErE,yEAA8B;MAAEuE,QAAQ,EAAE;IAAkgB,CAAC;EACznB,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,EAAE;EAAE,CAAC,EAAkB;IAAEhC,YAAY,EAAE,CAAC;MACzE2B,IAAI,EAAEjE,iDAAMA;IAChB,CAAC,CAAC;IAAEuE,OAAO,EAAE,CAAC;MACVN,IAAI,EAAEhE,gDAAKA;IACf,CAAC,CAAC;IAAEyC,WAAW,EAAE,CAAC;MACduB,IAAI,EAAEhE,gDAAKA;IACf,CAAC;EAAE,CAAC;AAAA;;AAEhB;AACA;AACA;AACA;AACA;AACA,MAAMuE,6BAA6B,CAAC;EAChC,IAAIC,YAAY,GAAG;IACf,OAAO,IAAI,CAACC,aAAa;EAC7B;EACA,IAAID,YAAY,CAACE,EAAE,EAAE;IACjB,IAAIA,EAAE,EAAE;MACJ,IAAI,CAACD,aAAa,GAAGC,EAAE;MACvB,IAAI,CAACC,iBAAiB,CAAC/B,IAAI,CAAC,IAAI,CAAC;IACrC;EACJ;EACA,IAAIgC,SAAS,GAAG;IACZ,OAAO,IAAI,CAACC,UAAU;EAC1B;EACA,IAAID,SAAS,CAACF,EAAE,EAAE;IACd,IAAIA,EAAE,EAAE;MACJ,IAAI,CAACG,UAAU,GAAGH,EAAE;MACpB,IAAI,CAACI,SAAS,CAAClC,IAAI,CAAC,IAAI,CAAC;IAC7B;EACJ;EACAT,WAAW,CAAC4C,qBAAqB,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,iBAAiB,EAAE;IACnE,IAAI,CAACH,qBAAqB,GAAGA,qBAAqB;IAClD,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,iBAAiB,GAAGA,iBAAiB;IAC1C,IAAI,CAACC,QAAQ,GAAGtE,4DAAS;IACzB,IAAI,CAACuB,kBAAkB,GAAG,IAAId,iDAAe,CAAC,IAAI,CAAC;IACnD,IAAI,CAACqD,iBAAiB,GAAG,IAAIrD,iDAAe,CAAC,KAAK,CAAC;IACnD,IAAI,CAACwD,SAAS,GAAG,IAAIxD,iDAAe,CAAC,KAAK,CAAC;IAC3C,IAAI,CAACgB,YAAY,GAAG,IAAIf,8CAAY,EAAE;IACtC,IAAI,CAAC6D,mBAAmB,GAAG,IAAI,CAAChD,kBAAkB,CAACgB,YAAY,EAAE;IACjE,IAAI,CAACiC,kBAAkB,GAAG,IAAI,CAACV,iBAAiB,CAACvB,YAAY,EAAE;IAC/D,IAAI,CAACkC,UAAU,GAAG,IAAI,CAACR,SAAS,CAAC1B,YAAY,EAAE;IAC/C,IAAI,CAACX,WAAW,GAAG,IAAI7C,uDAAY,EAAE;IACrC,IAAI,CAAC2F,yBAAyB,GAAG,IAAI,CAACF,kBAAkB,CAAChC,IAAI,CAACzB,sDAAM,CAAC4D,OAAO,CAAC,EAAE1D,yDAAS,CAAE2D,CAAC,IAAKjE,2CAAK,CAAC,GAAG,IAAI,CAACkE,kBAAkB,CAAC,IAAI,CAAClB,YAAY,CAAC,CAAC,CAACnB,IAAI,CAACtB,oDAAG,CAAC,MAAM,IAAI,CAACe,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACnL,IAAI,CAAC6C,sBAAsB,GAAG,IAAI,CAACL,UAAU,CAACjC,IAAI,CAACzB,sDAAM,CAAC4D,OAAO,CAAC,EAAE1D,yDAAS,CAAE2D,CAAC,IAAKjE,2CAAK,CAAC,GAAG,IAAI,CAACkE,kBAAkB,CAAC,IAAI,CAACd,SAAS,CAAC,CAAC,CAACvB,IAAI,CAACtB,oDAAG,CAAC,MAAM,IAAI,CAACe,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACrK,IAAI,CAAC8C,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,IAAI,GAAG,CAAC;IACb,IAAI,CAACC,GAAG,GAAG,CAAC;IACZ,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACjB,qBAAqB,CACrCkB,UAAU,EAAE,CACZ5C,IAAI,CAACzB,sDAAM,CAACnB,0DAAa,CAAC,EAAEuB,qEAAoB,EAAE,EAAED,oDAAG,CAAEmE,CAAC,IAAK;MAChE,IAAI,IAAI,CAACnD,YAAY,EAAE;QACnB,MAAMJ,KAAK,GAAGwD,KAAK,CAACC,OAAO,CAACF,CAAC,CAACG,MAAM,EAAEC,OAAO,CAAC,GACxCJ,CAAC,CAACG,MAAM,EAAEC,OAAO,CAACC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAAC1D,IAAI,EAAEC,YAAY,KAAK,IAAI,CAACA,YAAY,CAAC,GAC7EmD,CAAC,CAACG,MAAM,EAAEC,OAAO;QACvB,IAAI,CAAClE,kBAAkB,CAACQ,IAAI,CAACD,KAAK,IAAI,IAAI,CAAC;MAC/C,CAAC,MACI;QACD,IAAI,CAACP,kBAAkB,CAACQ,IAAI,CAACsD,CAAC,CAACG,MAAM,EAAEI,OAAO,GAAGP,CAAC,CAACG,MAAM,CAACI,OAAO,GAAG,CAAC,CAAC,CAAC;MAC3E;IACJ,CAAC,CAAC,EAAExE,4DAAW,CAAC,CAAC,CAAC,CAAC;IACnB,IAAI,CAACyE,WAAW,GAAG,IAAI,CAACV,QAAQ,CAAC3C,IAAI,CAACxB,mDAAG,CAAEqE,CAAC,IAAK,IAAI,CAACS,YAAY,CAACT,CAAC,CAAC,CAAC,EAAEjE,4DAAW,CAAC,CAAC,CAAC,CAAC;IACvF,IAAI,CAAC2E,UAAU,GAAGnF,oDAAa,CAAC,CAC5B,IAAI,CAACuE,QAAQ,EACb,IAAI,CAACZ,mBAAmB,CAC3B,CAAC,CAAC/B,IAAI,CAACxB,mDAAG,CAAC,CAAC,GAAGyB,SAAS,CAAC,KAAKA,SAAS,CAAC,CAAC;EAC9C;EACAf,QAAQ,GAAG;IACP,IAAI,CAACD,YAAY,CAACE,GAAG,CAAC,IAAI,CAAC+C,yBAAyB,CAAC7C,SAAS,EAAE,CAAC;IACjE,IAAI,CAACJ,YAAY,CAACE,GAAG,CAAC,IAAI,CAACmD,sBAAsB,CAACjD,SAAS,EAAE,CAAC;EAClE;EACAG,SAAS,CAACgE,IAAI,EAAE;IACZ,IAAI,CAACzE,kBAAkB,CAACQ,IAAI,CAACiE,IAAI,CAAC;IAClC,IAAI,CAACpE,WAAW,CAACO,IAAI,CAAC6D,IAAI,CAAC;EAC/B;EACA;EACAC,SAAS,GAAG;IACR,IAAIX,KAAK,CAACC,OAAO,CAAC,IAAI,CAAChE,kBAAkB,CAAC2E,KAAK,CAAC,EAAE;MAC9C,OAAO,IAAI,CAAC3E,kBAAkB,CAAC2E,KAAK,CAAC,CAAC,CAAC,CAAC5D,SAAS,EAAEJ,YAAY,IAAI,CAAC;IACxE;IACA,OAAO,IAAI,CAACX,kBAAkB,EAAE2E,KAAK,EAAE5D,SAAS,EAAEJ,YAAY,IAAI,CAAC;EACvE;EACAiE,kBAAkB,CAACC,MAAM,EAAE;IACvB,MAAMC,MAAM,GAAG,IAAI,CAACJ,SAAS,EAAE;IAC/B,IAAII,MAAM,KAAK,CAAC,EAAE;MACd,OAAOD,MAAM,CAACC,MAAM,CAAC;IACzB;IACA,OAAOD,MAAM,CAACC,MAAM,GAAG,CAAC,CAAC;EAC7B;EACAC,cAAc,CAACF,MAAM,EAAE;IACnB,MAAMC,MAAM,GAAG,IAAI,CAACJ,SAAS,EAAE;IAC/B,IAAII,MAAM,KAAKD,MAAM,CAACG,MAAM,GAAG,CAAC,EAAE;MAC9B,OAAOH,MAAM,CAACC,MAAM,CAAC;IACzB;IACA,OAAOD,MAAM,CAACC,MAAM,GAAG,CAAC,CAAC;EAC7B;EACA;AACJ;AACA;EACIpE,IAAI,GAAG;IACH,IAAI,CAACiD,QAAQ,GAAG,CAAC,IAAI,CAACA,QAAQ;IAC9B,IAAI,CAACH,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,IAAI,GAAG,CAAC;IACb,IAAI,CAACC,GAAG,GAAG,CAAC;IACZ,IAAI,CAACb,KAAK,CAACoC,YAAY,EAAE;EAC7B;EACA;AACJ;AACA;AACA;AACA;EACIC,SAAS,CAACC,KAAK,EAAE;IACb,MAAMC,KAAK,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,IAAIF,KAAK,CAACG,cAAc,CAAC,CAAC,CAAC;IACzD,MAAMC,YAAY,GAAG,IAAI,CAACC,WAAW,EAAEC,aAAa,EAAEC,qBAAqB,EAAE;IAC7E,MAAMC,YAAY,GAAG,IAAI,CAACH,WAAW,EAAEC,aAAa,EAAEG,UAAU;IAChE,IAAI,CAAC,IAAI,CAACpC,WAAW,EAAE;MACnB,IAAI,CAACA,WAAW,GAAG;QAAEqC,CAAC,EAAET,KAAK,CAACU,OAAO;QAAEC,CAAC,EAAEX,KAAK,CAACY;MAAQ,CAAC;IAC7D;IACA,IAAI,CAACvC,IAAI,IAAI2B,KAAK,CAACU,OAAO,GAAG,IAAI,CAACtC,WAAW,CAACqC,CAAC;IAC/C,IAAI,CAACnC,GAAG,IAAI0B,KAAK,CAACY,OAAO,GAAG,IAAI,CAACxC,WAAW,CAACuC,CAAC;IAC9C,IAAI,CAACE,SAAS,CAAC,IAAI,CAACxC,IAAI,EAAE,IAAI,CAACC,GAAG,EAAE6B,YAAY,EAAEI,YAAY,CAAC;IAC/D,IAAI,CAACnC,WAAW,GAAG;MAAEqC,CAAC,EAAET,KAAK,CAACU,OAAO;MAAEC,CAAC,EAAEX,KAAK,CAACY;IAAQ,CAAC;EAC7D;EACA;AACJ;AACA;EACIE,UAAU,GAAG;IACT,IAAI,CAAC1C,WAAW,GAAG,IAAI;EAC3B;EACA;AACJ;AACA;AACA;AACA;EACI2C,WAAW,CAAChB,KAAK,EAAE;IACf,MAAMI,YAAY,GAAG,IAAI,CAACC,WAAW,CAACC,aAAa,CAACC,qBAAqB,EAAE;IAC3E,MAAMC,YAAY,GAAG,IAAI,CAACH,WAAW,CAACC,aAAa,CAACG,UAAU;IAC9D,MAAM;MAAEQ,SAAS;MAAEC;IAAU,CAAC,GAAG,IAAI,CAACC,4BAA4B,CAAC,IAAI,CAACd,WAAW,EAAEL,KAAK,CAACW,OAAO,EAAEX,KAAK,CAACa,OAAO,CAAC;IAClH,IAAI,CAACC,SAAS,CAACG,SAAS,EAAEC,SAAS,EAAEd,YAAY,EAAEI,YAAY,CAAC;EACpE;EACAY,WAAW,CAACpB,KAAK,EAAE;IACf,IAAI,CAACnF,kBAAkB,CAACQ,IAAI,CAAC2E,KAAK,CAAC5E,KAAK,CAAC;EAC7C;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI0F,SAAS,CAACG,SAAS,EAAEC,SAAS,EAAEd,YAAY,EAAEI,YAAY,EAAE;IACxD,MAAM;MAAEE,CAAC;MAAEE;IAAE,CAAC,GAAG,IAAI,CAACS,iBAAiB,CAACJ,SAAS,EAAEC,SAAS,EAAEV,YAAY,EAAEJ,YAAY,CAAC;IACzF,IAAII,YAAY,EAAE;MACd,IAAI,CAAC/C,QAAQ,CAAC6D,QAAQ,CAACd,YAAY,EAAE,MAAM,EAAEE,CAAC,GAAG,IAAI,CAAC;MACtD,IAAI,CAACjD,QAAQ,CAAC6D,QAAQ,CAACd,YAAY,EAAE,KAAK,EAAEI,CAAC,GAAG,IAAI,CAAC;IACzD;EACJ;EACA3E,WAAW,GAAG;IACV,IAAI,CAAClB,YAAY,CAACmB,WAAW,EAAE;EACnC;EACA;AACJ;AACA;AACA;AACA;EACIiC,kBAAkB,CAACoD,OAAO,EAAE;IACxB,OAAO,CACHpH,gDAAS,CAACoH,OAAO,CAACjB,aAAa,EAAE,OAAO,CAAC,CAACxE,IAAI,CAACvB,yDAAS,CAAC,MAAM,IAAI,CAACoD,iBAAiB,CAAC6D,IAAI,CAACjI,gEAAa,CAAC,CAAC,EAAEc,sDAAM,CAAC4D,OAAO,CAAC,CAAC,EAC5H9D,gDAAS,CAACoH,OAAO,CAACjB,aAAa,EAAE,UAAU,CAAC,CAACxE,IAAI,CAACvB,yDAAS,CAAC,MAAM,IAAI,CAACoD,iBAAiB,CAAC+D,MAAM,CAACnI,gEAAa,CAAC,CAAC,EAAEc,sDAAM,CAAC4D,OAAO,CAAC,CAAC,CACpI;EACL;EACA;AACJ;AACA;AACA;EACImB,YAAY,CAACwC,OAAO,EAAE;IAClB,IAAI,CAACA,OAAO,CAAC9C,MAAM,IACf,CAAC8C,OAAO,CAAC9C,MAAM,CAACC,OAAO,IACvB6C,OAAO,CAAC9C,MAAM,CAACC,OAAO,CAACc,MAAM,GAAG,CAAC,EAAE;MACnC,OAAO,EAAE;IACb;IACA,MAAMf,MAAM,GAAG8C,OAAO,CAAC9C,MAAM,CAACC,OAAO;IACrC,OAAOD,MAAM,CAACxE,GAAG,CAAEuH,CAAC,IAAKzH,yCAAE,CAAC;MAAE2B,SAAS,EAAE8F;IAAE,CAAC,CAAC,CAAC;EAClD;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIR,iBAAiB,CAACJ,SAAS,EAAEC,SAAS,EAAEV,YAAY,EAAEJ,YAAY,EAAE;IAChE,MAAM0B,QAAQ,GAAG,EAAE;IACnB,MAAMC,QAAQ,GAAG,EAAE;IACnB,IAAIb,SAAS,IAAI,CAACV,YAAY,EAAEwB,MAAM,GAAGD,QAAQ,EAAE;MAC/Cb,SAAS,GAAG,CAACV,YAAY,EAAEwB,MAAM,GAAGD,QAAQ;IAChD;IACA,IAAIb,SAAS,IAAId,YAAY,EAAE4B,MAAM,GAAGD,QAAQ,EAAE;MAC9Cb,SAAS,GAAGd,YAAY,EAAE4B,MAAM,GAAGD,QAAQ;IAC/C;IACA,IAAId,SAAS,IACT,CAACT,YAAY,EAAEyB,KAAK,GAAG7B,YAAY,EAAE6B,KAAK,GAAG,CAAC,GAAGH,QAAQ,EAAE;MAC3Db,SAAS,GAAG,CAACT,YAAY,EAAEyB,KAAK,GAAG7B,YAAY,EAAE6B,KAAK,GAAG,CAAC,GAAGH,QAAQ;IACzE;IACA,IAAIb,SAAS,IAAIT,YAAY,EAAEyB,KAAK,GAAG7B,YAAY,EAAE6B,KAAK,GAAG,CAAC,GAAGH,QAAQ,EAAE;MACvEb,SAAS,GAAGT,YAAY,EAAEyB,KAAK,GAAG7B,YAAY,EAAE6B,KAAK,GAAG,CAAC,GAAGH,QAAQ;IACxE;IACA,OAAO;MAAEpB,CAAC,EAAEO,SAAS;MAAEL,CAAC,EAAEM;IAAU,CAAC;EACzC;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,4BAA4B,CAACI,OAAO,EAAEZ,OAAO,EAAEE,OAAO,EAAE;IACpD,MAAMT,YAAY,GAAGmB,OAAO,CAACjB,aAAa,CAACC,qBAAqB,EAAE;IAClE,MAAMG,CAAC,GAAGC,OAAO,GAAGP,YAAY,CAAC9B,IAAI;IACrC,MAAMsC,CAAC,GAAGC,OAAO,GAAGT,YAAY,CAAC7B,GAAG;IACpC,MAAM0C,SAAS,GAAG,CAACP,CAAC,GAAGa,OAAO,CAACjB,aAAa,CAAC4B,WAAW,GAAG,CAAC;IAC5D,MAAMhB,SAAS,GAAG,CAACN,CAAC,GAAGW,OAAO,CAACjB,aAAa,CAAC6B,YAAY,GAAG,CAAC;IAC7D,OAAO;MAAElB,SAAS;MAAEC;IAAU,CAAC;EACnC;AACJ;AACAlE,6BAA6B,CAACb,IAAI;EAAA,iBAAwFa,6BAA6B,EA5OjC5E,+DAAE,CA4OiDiB,wEAAwB,GA5O3EjB,+DAAE,CA4OsFA,oDAAY,GA5OpGA,+DAAE,CA4O+GA,4DAAoB,GA5OrIA,+DAAE,CA4OgJiB,oEAAoB;AAAA,CAA4C;AACxU2D,6BAA6B,CAACZ,IAAI,kBA7OoFhE,+DAAE;EAAA,MA6OV4E,6BAA6B;EAAA;EAAA;IAAA;MA7OrB5E,yDAAE,SA6OwNM,qDAAU;MA7OpON,yDAAE,SA6OuUM,qDAAU;MA7OnVN,yDAAE,SA6OsbM,qDAAU;IAAA;IAAA;MAAA;MA7OlcN,4DAAE,MAAFA,yDAAE;MAAFA,4DAAE,MAAFA,yDAAE;MAAFA,4DAAE,MAAFA,yDAAE;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MAAFA,wDAAE,mFA6OstD;MA7OxtDA,oDAAE;MAAFA,4DAAE,0CA6Os2D;MA7Ox2DA,wDAAE;QAAA,OA6O80D,uBAAmB;MAAA,EAAE;MA7Or2DA,0DAAE,EA6Oy4D;IAAA;IAAA;MA7O34DA,wDAAE,SAAFA,yDAAE,uBA6OugB;MA7OzgBA,uDAAE,GA6OwxD;MA7O1xDA,wDAAE,4BA6OwxD;IAAA;EAAA;EAAA,eAAgKU,iDAAO,EAA6FO,gEAAgB,EAAyFA,iEAAiB,EAAqIsB,mCAAmC,EAAuI7B,sDAAY;EAAA;EAAA;AAAA,EAAyE;AAClpF;EAAA,mDA9OsHV,+DAAE,CA8O7B4E,6BAA6B,EAAc,CAAC;IAC3HP,IAAI,EAAEnE,oDAAS;IACfoE,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,4BAA4B;MAAEC,eAAe,EAAErE,yEAA8B;MAAEuE,QAAQ,EAAE;IAAg7C,CAAC;EACjiD,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEL,IAAI,EAAEpD,wEAAwB+I;IAAC,CAAC,EAAE;MAAE3F,IAAI,EAAErE,oDAAYiK;IAAC,CAAC,EAAE;MAAE5F,IAAI,EAAErE,4DAAoBkK;IAAC,CAAC,EAAE;MAAE7F,IAAI,EAAEpD,oEAAoBkJ;IAAC,CAAC,CAAC;EAAE,CAAC,EAAkB;IAAE/G,YAAY,EAAE,CAAC;MACnMiB,IAAI,EAAEhE,gDAAKA;IACf,CAAC,CAAC;IAAEwE,YAAY,EAAE,CAAC;MACfR,IAAI,EAAE9D,oDAAS;MACf+D,IAAI,EAAE,CAAC,cAAc,EAAE;QAAE+F,IAAI,EAAE/J,qDAAUA;MAAC,CAAC;IAC/C,CAAC,CAAC;IAAE2E,SAAS,EAAE,CAAC;MACZZ,IAAI,EAAE9D,oDAAS;MACf+D,IAAI,EAAE,CAAC,eAAe,EAAE;QAAE+F,IAAI,EAAE/J,qDAAUA;MAAC,CAAC;IAChD,CAAC,CAAC;IAAE2H,WAAW,EAAE,CAAC;MACd5D,IAAI,EAAE9D,oDAAS;MACf+D,IAAI,EAAE,CAAC,aAAa,EAAE;QAAE+F,IAAI,EAAE/J,qDAAUA;MAAC,CAAC;IAC9C,CAAC;EAAE,CAAC;AAAA;;AAEhB;AACA;AACA;AACA;AACA;AACA,MAAMgK,+BAA+B,CAAC;EAClCC,WAAW,CAAC3C,KAAK,EAAE;IACf;IACA,IAAIA,KAAK,CAAC4C,MAAM,CAACC,OAAO,KAAK,IAAI,CAAC1F,EAAE,CAACmD,aAAa,CAACuC,OAAO,EAAE;MACxD,IAAI,CAACC,KAAK,CAAC,aAAa,CAAC;IAC7B;EACJ;EACAlI,WAAW,CAACmI,mBAAmB,EAAE5F,EAAE,EAAE;IACjC,IAAI,CAAC4F,mBAAmB,GAAGA,mBAAmB;IAC9C,IAAI,CAAC5F,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACS,QAAQ,GAAGtE,4DAAS;IACzB,IAAI,CAAC0J,WAAW,GAAG;MACfC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,IAAI;MACXC,SAAS,EAAE,QAAQ;MACnBC,aAAa,EAAE;IACnB,CAAC;EACL;EACAN,KAAK,CAACO,MAAM,GAAG,EAAE,EAAE;IACf,IAAI,CAACN,mBAAmB,CAACO,WAAW,CAACD,MAAM,CAAC;EAChD;AACJ;AACAX,+BAA+B,CAACvG,IAAI;EAAA,iBAAwFuG,+BAA+B,EAzRrCtK,+DAAE,CAyRqDiB,sEAAsB,GAzR7EjB,+DAAE,CAyRwFA,qDAAa;AAAA,CAA4C;AACzQsK,+BAA+B,CAACtG,IAAI,kBA1RkFhE,+DAAE;EAAA,MA0RRsK,+BAA+B;EAAA;EAAA;IAAA;MA1RzBtK,wDAAE;QAAA,OA0RR,uBAAmB;MAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MA1RbA,4DAAE,aA0R6P;MA1R/PA,wDAAE;QAAA,OA0Rye,UAAM,aAAa,CAAC;MAAA,EAAE;MA1RjgBA,oDAAE;MAAFA,4DAAE,cA0R6iB;MA1R/iBA,uDAAE,iBA0RsmB;MA1RxmBA,0DAAE,EA0RunB;MA1RznBA,4DAAE,aA0RwrB;MA1R1rBA,uDAAE,oCA0R0yB;MA1R5yBA,0DAAE,EA0RszB;IAAA;IAAA;MA1RxzBA,wDAAE,4BA0R4P;MA1R9PA,uDAAE,GA0Rqd;MA1RvdA,yDAAE,eAAFA,yDAAE,uCA0Rqd;MA1RvdA,uDAAE,GA0R2lB;MA1R7lBA,wDAAE,4BA0R2lB;MA1R7lBA,uDAAE,GA0RowB;MA1RtwBA,wDAAE,kCA0RowB;IAAA;EAAA;EAAA,eAAmHiB,gEAAgB,EAAyFA,iEAAiB,EAA2E2D,6BAA6B,EAA4F/D,0DAAgB;EAAA;EAAA;AAAA,EAA+E;AAC54C;EAAA,mDA3RsHb,+DAAE,CA2R7BsK,+BAA+B,EAAc,CAAC;IAC7HjG,IAAI,EAAEnE,oDAAS;IACfoE,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,8BAA8B;MAAEC,eAAe,EAAErE,yEAA8B;MAAEuE,QAAQ,EAAE;IAA8oB,CAAC;EACjwB,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEL,IAAI,EAAEpD,sEAAsBkK;IAAC,CAAC,EAAE;MAAE9G,IAAI,EAAErE,qDAAaM;IAAC,CAAC,CAAC;EAAE,CAAC,EAAkB;IAAE8C,YAAY,EAAE,CAAC;MAClIiB,IAAI,EAAEhE,gDAAKA;IACf,CAAC,CAAC;IAAEkK,WAAW,EAAE,CAAC;MACdlG,IAAI,EAAE7D,uDAAY;MAClB8D,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;IAC9B,CAAC;EAAE,CAAC;AAAA;;AAEhB;AACA;AACA;AACA;AACA;AACA,MAAMgH,mCAAmC,GAAG;EACxCC,MAAM,EAAE;IACJC,kBAAkB,EAAE;MAChBC,MAAM,EAAE,IAAI;MACZC,SAAS,EAAEpB,+BAA+B;MAC1CqB,UAAU,EAAEvK,qEAAkBwK;IAClC;EACJ;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,gCAAgC,CAAC;EACnC,IAAIC,WAAW,CAACC,MAAM,EAAE;IACpB,IAAIA,MAAM,EAAE;MACR,IAAI,CAACC,WAAW,EAAE;IACtB;EACJ;EACAxJ,WAAW,CAACmI,mBAAmB,EAAEsB,GAAG,EAAE;IAClC,IAAI,CAACtB,mBAAmB,GAAGA,mBAAmB;IAC9C,IAAI,CAACsB,GAAG,GAAGA,GAAG;IACd,IAAI,CAACzG,QAAQ,GAAGtE,4DAAS;IACzB,IAAI,CAACgL,aAAa,GAAG,IAAItK,8CAAY,EAAE;IACvC,IAAI,CAACuK,WAAW,GAAG,IAAIlM,uDAAY,EAAE;EACzC;EACA+L,WAAW,GAAG;IACV,MAAMN,SAAS,GAAG,IAAI,CAACf,mBAAmB,CAACY,MAAM,CAAC,oBAAoB,CAAC,wCAAwC,IAAI,CAACU,GAAG,CAAC;IACxH,IAAIP,SAAS,EAAE;MACX,IAAI,CAACQ,aAAa,CAACrJ,GAAG,CAACf,oDAAa,CAAC,CAAC4J,SAAS,EAAE,IAAI,CAACf,mBAAmB,CAACwB,WAAW,CAAC,CAAC,CAClFzI,IAAI,CAACtB,oDAAG,CAAC,CAAC,CAACgK,IAAI,CAAC,KAAK;QACtB,IAAI,IAAI,CAAChJ,YAAY,EAAE;UACnBgJ,IAAI,CAACC,QAAQ,CAACjJ,YAAY,GAAG,IAAI,CAACA,YAAY;QAClD;MACJ,CAAC,CAAC,EAAEnB,sDAAM,CAAC,CAAC,GAAGyI,KAAK,CAAC,KAAK7E,OAAO,CAAC6E,KAAK,CAAC,CAAC,EAAEtI,oDAAG,CAAC,CAAC,CAACgK,IAAI,CAAC,KAAK;QACvD,IAAI,CAACzB,mBAAmB,CAAC2B,KAAK,CAAC,oBAAoB,CAAC,uCAAuC;QAC3FF,IAAI,EAAEG,OAAO,EAAE;QACf,IAAI,CAACJ,WAAW,CAAC9I,IAAI,EAAE;QACvB,IAAI,CAACmJ,YAAY,CAACtE,aAAa,CAACuE,KAAK,EAAE;MAC3C,CAAC,CAAC,CAAC,CACE1J,SAAS,EAAE,CAAC;IACrB;EACJ;EACAc,WAAW,GAAG;IACV,IAAI,CAACqI,aAAa,CAACpI,WAAW,EAAE;EACpC;AACJ;AACA+H,gCAAgC,CAAC9H,IAAI;EAAA,iBAAwF8H,gCAAgC,EA3VvC7L,+DAAE,CA2VuDiB,sEAAsB,GA3V/EjB,+DAAE,CA2V0FA,2DAAmB;AAAA,CAA4C;AACjR6L,gCAAgC,CAAC7H,IAAI,kBA5ViFhE,+DAAE;EAAA,MA4VP6L,gCAAgC;EAAA;EAAA;IAAA;MA5V3B7L,yDAAE;IAAA;IAAA;MAAA;MAAFA,4DAAE,MAAFA,yDAAE;IAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MAAFA,4DAAE,mBA4V6Z;MA5V/ZA,wDAAE;QAAA,OA4V2Y,iBAAa;MAAA,EAAE;MA5V5ZA,4DAAE,WA4Vua;MA5VzaA,oDAAE,GA4Vue;MA5VzeA,oDAAE;MAAFA,uDAAE,iBA4VgiB;MA5VliBA,0DAAE,EA4VuiB;IAAA;IAAA;MA5VziBA,uDAAE,GA4Vue;MA5VzeA,gEAAE,MAAFA,yDAAE,8CA4Vue;MA5VzeA,uDAAE,GA4VihB;MA5VnhBA,wDAAE,oCA4VihB;IAAA;EAAA;EAAA,eAAgFiB,gEAAgB,EAAoFJ,0DAAgB;EAAA;EAAA;AAAA,EAA+E;AAC55B;EAAA,mDA7VsHb,+DAAE,CA6V7B6L,gCAAgC,EAAc,CAAC;IAC9HxH,IAAI,EAAEnE,oDAAS;IACfoE,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,+BAA+B;MAAEC,eAAe,EAAErE,yEAA8B;MAAEuE,QAAQ,EAAE;IAA2P,CAAC;EAC/W,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEL,IAAI,EAAEpD,sEAAsBkK;IAAC,CAAC,EAAE;MAAE9G,IAAI,EAAErE,2DAAmB0M;IAAC,CAAC,CAAC;EAAE,CAAC,EAAkB;IAAEF,YAAY,EAAE,CAAC;MACxInI,IAAI,EAAE9D,oDAAS;MACf+D,IAAI,EAAE,CAAC,cAAc;IACzB,CAAC,CAAC;IAAElB,YAAY,EAAE,CAAC;MACfiB,IAAI,EAAEhE,gDAAKA;IACf,CAAC,CAAC;IAAEyL,WAAW,EAAE,CAAC;MACdzH,IAAI,EAAEhE,gDAAKA;IACf,CAAC,CAAC;IAAE8L,WAAW,EAAE,CAAC;MACd9H,IAAI,EAAEjE,iDAAMA;IAChB,CAAC;EAAE,CAAC;AAAA;;AAEhB;AACA;AACA;AACA;AACA;AACA,MAAMuM,sCAAsC,SAAStL,yEAAsB,CAAC;EACxEmB,WAAW,CAAC4C,qBAAqB,EAAE;IAC/B,KAAK,CAACA,qBAAqB,CAAC;IAC5B,IAAI,CAACA,qBAAqB,GAAGA,qBAAqB;IAClD,IAAI,CAAC0G,WAAW,GAAG,IAAInK,iDAAe,CAAC,KAAK,CAAC;IAC7C,IAAI,CAAC0E,QAAQ,GAAG,IAAI,CAACA,QAAQ;EACjC;EACAnD,SAAS,CAACgE,IAAI,EAAE;IACZ,IAAI,CAACzE,kBAAkB,CAACQ,IAAI,CAACiE,IAAI,CAAC;IAClC,IAAI,CAAC0F,aAAa,GAAG,IAAI,CAACnK,kBAAkB,CAAC2E,KAAK,EAAEjE,IAAI,EAAEC,YAAY;EAC1E;EACA;AACJ;AACA;EACI4I,WAAW,CAAC5E,KAAK,EAAE;IACf,IAAI,CAAC0E,WAAW,CAAC7I,IAAI,CAACmE,KAAK,CAAC;EAChC;AACJ;AACAuF,sCAAsC,CAAC5I,IAAI;EAAA,iBAAwF4I,sCAAsC,EAlYnD3M,+DAAE,CAkYmEiB,wEAAwB;AAAA,CAA4C;AAC/P0L,sCAAsC,CAAC3I,IAAI,kBAnY2EhE,+DAAE;EAAA,MAmYD2M,sCAAsC;EAAA;EAAA,WAnYvC3M,wEAAE;EAAA;EAAA;EAAA;EAAA;IAAA;MAAFA,wDAAE,4FAmYsc;MAnYxcA,oDAAE;MAAFA,wDAAE,4FAmY68B;MAnY/8BA,oDAAE;MAAFA,wDAAE,iGAAFA,oEAAE,CAmY+tC;IAAA;IAAA;MAnYjuCA,wDAAE,SAAFA,yDAAE,uBAmY+J;MAnYjKA,uDAAE,GAmYgf;MAnYlfA,wDAAE,SAAFA,yDAAE,oBAmYgf;IAAA;EAAA;EAAA,eAA8xBiB,oEAAoB,EAA4KP,iDAAO,EAA6FO,iEAAiB,EAAqI4K,gCAAgC,EAAwInL,sDAAY,EAAyCG,0DAAgB;EAAA;EAAA;AAAA,EAA+E;AAC5nE;EAAA,mDApYsHb,+DAAE,CAoY7B2M,sCAAsC,EAAc,CAAC;IACpItI,IAAI,EAAEnE,oDAAS;IACfoE,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,mBAAmB;MAAEC,eAAe,EAAErE,yEAA8B;MAAEuE,QAAQ,EAAE;IAA8mC,CAAC;EACttC,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEL,IAAI,EAAEpD,wEAAwB+I;IAAC,CAAC,CAAC;EAAE,CAAC;AAAA;;AAExF;AACA;AACA;AACA;AACA;AACA,MAAM6C,sBAAsB,CAAC;AAE7BA,sBAAsB,CAAC9I,IAAI;EAAA,iBAAwF8I,sBAAsB;AAAA,CAAkD;AAC3LA,sBAAsB,CAACC,IAAI,kBAjZ2F9M,8DAAE;EAAA,MAiZJ6M;AAAsB,EAejG;AACzCA,sBAAsB,CAACE,IAAI,kBAja2F/M,8DAAE;EAAA,WAia+B,CAC/IgB,qEAAoB,CAACsK,mCAAmC,CAAC,EACzDtK,qEAAoB,CAAC;IACjBgM,aAAa,EAAE;MACX3L,sBAAsB,EAAE;QACpBqK,SAAS,EAAEiB;MACf;IACJ;EACJ,CAAC,CAAC,CACL;EAAA,UAAYrL,iEAAc,EACvBX,yDAAY,EACZI,uDAAU,EACVQ,6DAAU,EACVC,sEAAmB,EACnBC,8DAAW,EACXC,+DAAY,EACZd,0DAAY;AAAA,EAAI;AACxB;EAAA,mDAlbsHZ,+DAAE,CAkb7B6M,sBAAsB,EAAc,CAAC;IACpHxI,IAAI,EAAE5D,mDAAQ;IACd6D,IAAI,EAAE,CAAC;MACC2I,OAAO,EAAE,CACL3L,iEAAc,EACdX,yDAAY,EACZI,uDAAU,EACVQ,6DAAU,EACVC,sEAAmB,EACnBC,8DAAW,EACXC,+DAAY,EACZd,0DAAY,CACf;MACDsM,SAAS,EAAE,CACPlM,qEAAoB,CAACsK,mCAAmC,CAAC,EACzDtK,qEAAoB,CAAC;QACjBgM,aAAa,EAAE;UACX3L,sBAAsB,EAAE;YACpBqK,SAAS,EAAEiB;UACf;QACJ;MACJ,CAAC,CAAC,CACL;MACDQ,YAAY,EAAE,CACV7C,+BAA+B,EAC/BqC,sCAAsC,EACtCpK,mCAAmC,EACnCsJ,gCAAgC,EAChCjH,6BAA6B,CAChC;MACDwI,OAAO,EAAE,CACL9C,+BAA+B,EAC/BqC,sCAAsC,EACtCpK,mCAAmC,EACnCsJ,gCAAgC,EAChCjH,6BAA6B;IAErC,CAAC;EACT,CAAC,CAAC;AAAA;;AAEV;AACA;AACA;AACA;AACA;AACA,MAAMyI,gCAAgC,CAAC;AAEvCA,gCAAgC,CAACtJ,IAAI;EAAA,iBAAwFsJ,gCAAgC;AAAA,CAAkD;AAC/MA,gCAAgC,CAACP,IAAI,kBAleiF9M,8DAAE;EAAA,MAkeMqN;AAAgC,EAAsC;AACpMA,gCAAgC,CAACN,IAAI,kBAneiF/M,8DAAE;EAAA,UAmekD6M,sBAAsB;AAAA,EAAI;AACpM;EAAA,mDApesH7M,+DAAE,CAoe7BqN,gCAAgC,EAAc,CAAC;IAC9HhJ,IAAI,EAAE5D,mDAAQ;IACd6D,IAAI,EAAE,CAAC;MACC2I,OAAO,EAAE,CAACJ,sBAAsB;IACpC,CAAC;EACT,CAAC,CAAC;AAAA;;AAEV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;ACviBoC;AACK;AACmD;;AAE5F;AACA;AACA;AACA;AACA;AACA,MAAMA,sBAAsB,CAAC;AAE7BA,sBAAsB,CAAC9I,IAAI;EAAA,iBAAwF8I,sBAAsB;AAAA,CAAkD;AAC3LA,sBAAsB,CAACC,IAAI,kBAD8E9M,8DAAE;EAAA,MACS6M;AAAsB,EAAgD;AAC1LA,sBAAsB,CAACE,IAAI,kBAF8E/M,8DAAE;EAAA,UAE2CqN,sGAAgC;AAAA,EAAI;AAC1L;EAAA,mDAHyGrN,+DAAE,CAGhB6M,sBAAsB,EAAc,CAAC;IACpHxI,IAAI,EAAE5D,mDAAQ;IACd6D,IAAI,EAAE,CAAC;MACC2I,OAAO,EAAE,CAACI,sGAAgC;IAC9C,CAAC;EACT,CAAC,CAAC;AAAA;;AAEV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","sources":["./node_modules/@spartacus/product/fesm2020/spartacus-product-image-zoom-components.mjs","./node_modules/@spartacus/product/fesm2020/spartacus-product-image-zoom.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay } from 'rxjs/operators';\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomThumbnailsComponent {\n    constructor() {\n        this.mainMediaContainer = new BehaviorSubject({});\n        this.productImage = new EventEmitter();\n        this.subscription = new Subscription();\n        // Intentional empty constructor\n    }\n    ngOnInit() {\n        this.subscription.add(this.activeThumb.subscribe((image) => {\n            this.mainMediaContainer.next(image);\n        }));\n    }\n    openImage(image) {\n        this.mainMediaContainer.next(image);\n        if (typeof image.zoom?.galleryIndex === 'number') {\n            this.productImage.emit({ image, index: image.zoom.galleryIndex });\n        }\n    }\n    isActive(thumbnail) {\n        return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map((container) => {\n            return (container.zoom?.url &&\n                thumbnail.zoom?.url &&\n                container.zoom.url === thumbnail.zoom.url);\n        }));\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\nProductImageZoomThumbnailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomThumbnailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.4\", type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: { thumbs$: \"thumbs$\", activeThumb: \"activeThumb\" }, outputs: { productImage: \"productImage\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"70px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", dependencies: [{ kind: \"component\", type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { kind: \"pipe\", type: i2.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'cx-product-image-zoom-thumbnails', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"70px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\" }]\n        }], ctorParameters: function () { return []; }, propDecorators: { productImage: [{\n                type: Output\n            }], thumbs$: [{\n                type: Input\n            }], activeThumb: [{\n                type: Input\n            }] } });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomViewComponent {\n    get defaultImage() {\n        return this._defaultImage;\n    }\n    set defaultImage(el) {\n        if (el) {\n            this._defaultImage = el;\n            this.defaultImageReady.next(true);\n        }\n    }\n    get zoomImage() {\n        return this._zoomImage;\n    }\n    set zoomImage(el) {\n        if (el) {\n            this._zoomImage = el;\n            this.zoomReady.next(true);\n        }\n    }\n    constructor(currentProductService, renderer, cdRef, breakpointService) {\n        this.currentProductService = currentProductService;\n        this.renderer = renderer;\n        this.cdRef = cdRef;\n        this.breakpointService = breakpointService;\n        this.iconType = ICON_TYPE;\n        this.mainMediaContainer = new BehaviorSubject(null);\n        this.defaultImageReady = new BehaviorSubject(false);\n        this.zoomReady = new BehaviorSubject(false);\n        this.subscription = new Subscription();\n        this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n        this.defaultImageReady$ = this.defaultImageReady.asObservable();\n        this.zoomReady$ = this.zoomReady.asObservable();\n        this.activeThumb = new EventEmitter();\n        this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n        this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.isZoomed = false;\n        this.product$ = this.currentProductService\n            .getProduct()\n            .pipe(filter(isNotNullable), distinctUntilChanged(), tap((p) => {\n            if (this.galleryIndex) {\n                const image = Array.isArray(p.images?.GALLERY)\n                    ? p.images?.GALLERY.find((img) => img.zoom?.galleryIndex === this.galleryIndex)\n                    : p.images?.GALLERY;\n                this.mainMediaContainer.next(image || null);\n            }\n            else {\n                this.mainMediaContainer.next(p.images?.PRIMARY ? p.images.PRIMARY : {});\n            }\n        }), shareReplay(1));\n        this.thumbnails$ = this.product$.pipe(map((p) => this.createThumbs(p)), shareReplay(1));\n        this.mainImage$ = combineLatest([\n            this.product$,\n            this.mainMediaContainer$,\n        ]).pipe(map(([, container]) => container));\n    }\n    ngOnInit() {\n        this.subscription.add(this.defaultImageClickHandler$.subscribe());\n        this.subscription.add(this.zoomImageClickHandler$.subscribe());\n    }\n    openImage(item) {\n        this.mainMediaContainer.next(item);\n        this.activeThumb.emit(item);\n    }\n    /** find the index of the main media in the list of media */\n    getActive() {\n        if (Array.isArray(this.mainMediaContainer.value)) {\n            return this.mainMediaContainer.value[0].thumbnail?.galleryIndex || 0;\n        }\n        return this.mainMediaContainer?.value?.thumbnail?.galleryIndex || 0;\n    }\n    getPreviousProduct(thumbs) {\n        const active = this.getActive();\n        if (active === 0) {\n            return thumbs[active];\n        }\n        return thumbs[active - 1];\n    }\n    getNextProduct(thumbs) {\n        const active = this.getActive();\n        if (active === thumbs.length - 1) {\n            return thumbs[active];\n        }\n        return thumbs[active + 1];\n    }\n    /**\n     * Zoom in or out of the image\n     */\n    zoom() {\n        this.isZoomed = !this.isZoomed;\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.cdRef.markForCheck();\n    }\n    /**\n     * Touch screen image pan\n     *\n     * @param event\n     */\n    touchMove(event) {\n        const touch = event.touches[0] || event.changedTouches[0];\n        const boundingRect = this.zoomedImage?.nativeElement?.getBoundingClientRect();\n        const imageElement = this.zoomedImage?.nativeElement?.firstChild;\n        if (!this.startCoords) {\n            this.startCoords = { x: touch.clientX, y: touch.clientY };\n        }\n        this.left += touch.clientX - this.startCoords.x;\n        this.top += touch.clientY - this.startCoords.y;\n        this.moveImage(this.left, this.top, boundingRect, imageElement);\n        this.startCoords = { x: touch.clientX, y: touch.clientY };\n    }\n    /**\n     * Clears touch location\n     */\n    clearTouch() {\n        this.startCoords = null;\n    }\n    /**\n     * Pointer image pan\n     *\n     * @param event\n     */\n    pointerMove(event) {\n        const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n        const imageElement = this.zoomedImage.nativeElement.firstChild;\n        const { positionX, positionY } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n        this.moveImage(positionX, positionY, boundingRect, imageElement);\n    }\n    changeImage(event) {\n        this.mainMediaContainer.next(event.image);\n    }\n    /**\n     * Applies the offset from touchMove or pointerMove to the image element\n     *\n     * @param positionX\n     * @param positionY\n     * @param boundingRect\n     * @param imageElement\n     */\n    moveImage(positionX, positionY, boundingRect, imageElement) {\n        const { x, y } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n        if (imageElement) {\n            this.renderer.setStyle(imageElement, 'left', x + 'px');\n            this.renderer.setStyle(imageElement, 'top', y + 'px');\n        }\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n    /**\n     * Returns click and dblclick event mapping for the given element\n     *\n     * @param element\n     */\n    clickOrDoubleClick(element) {\n        return [\n            fromEvent(element.nativeElement, 'click').pipe(switchMap(() => this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)),\n            fromEvent(element.nativeElement, 'dblclick').pipe(switchMap(() => this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean)),\n        ];\n    }\n    /**\n     * Return an array of CarouselItems for the product thumbnails.\n     * In case there are less then 2 thumbs, we return null.\n     */\n    createThumbs(product) {\n        if (!product.images ||\n            !product.images.GALLERY ||\n            product.images.GALLERY.length < 2) {\n            return [];\n        }\n        const images = product.images.GALLERY;\n        return images.map((c) => of({ container: c }));\n    }\n    /**\n     * Keeps the zoom image from leaving the bounding container\n     *\n     * @param positionX\n     * @param positionY\n     * @param imageElement\n     * @param boundingRect\n     */\n    handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n        const paddingX = 60;\n        const paddingY = 60;\n        if (positionY <= -imageElement?.height + paddingY) {\n            positionY = -imageElement?.height + paddingY;\n        }\n        if (positionY >= boundingRect?.height - paddingY) {\n            positionY = boundingRect?.height - paddingY;\n        }\n        if (positionX <=\n            -imageElement?.width - boundingRect?.width / 2 + paddingX) {\n            positionX = -imageElement?.width - boundingRect?.width / 2 + paddingX;\n        }\n        if (positionX >= imageElement?.width + boundingRect?.width / 2 - paddingX) {\n            positionX = imageElement?.width + boundingRect?.width / 2 - paddingX;\n        }\n        return { x: positionX, y: positionY };\n    }\n    /**\n     * Returns the position of the image based on the cursor pointer\n     *\n     * @param element\n     * @param clientX\n     * @param clientY\n     */\n    calculatePointerMovePosition(element, clientX, clientY) {\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        const x = clientX - boundingRect.left;\n        const y = clientY - boundingRect.top;\n        const positionX = -x + element.nativeElement.clientWidth / 2;\n        const positionY = -y + element.nativeElement.clientHeight / 2;\n        return { positionX, positionY };\n    }\n}\nProductImageZoomViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomViewComponent, deps: [{ token: i1.CurrentProductService }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.BreakpointService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.4\", type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: { galleryIndex: \"galleryIndex\" }, viewQueries: [{ propertyName: \"defaultImage\", first: true, predicate: [\"defaultImage\"], descendants: true, read: ElementRef }, { propertyName: \"zoomImage\", first: true, predicate: [\"zoomContainer\"], descendants: true, read: ElementRef }, { propertyName: \"zoomedImage\", first: true, predicate: [\"zoomedImage\"], descendants: true, read: ElementRef }], ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <div class=\\\"cx-main-image-group\\\" *ngIf=\\\"thumbnails$ | async as thumbs\\\">\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getPreviousProduct(thumbs) | async as previousProduct\\\"\\n        (click)=\\\"openImage(previousProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_LEFT\\\"></cx-icon>\\n      </button>\\n    </div>\\n    <cx-media\\n      #defaultImage\\n      class=\\\"cx-default-image-zoom\\\"\\n      *ngIf=\\\"!isZoomed\\\"\\n      [container]=\\\"main\\\"\\n    >\\n    </cx-media>\\n    <div #zoomContainer class=\\\"cx-zoom-container\\\" *ngIf=\\\"isZoomed\\\">\\n      <cx-media\\n        #zoomedImage\\n        class=\\\"cx-image-zoomed\\\"\\n        [container]=\\\"main\\\"\\n        (mousemove)=\\\"pointerMove($event)\\\"\\n        (touchmove)=\\\"touchMove($event)\\\"\\n        (touchend)=\\\"clearTouch()\\\"\\n      >\\n      </cx-media>\\n    </div>\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getNextProduct(thumbs) | async as nextProduct\\\"\\n        (click)=\\\"openImage(nextProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_RIGHT\\\"></cx-icon>\\n      </button>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<cx-product-image-zoom-thumbnails\\n  [thumbs$]=\\\"thumbnails$\\\"\\n  [activeThumb]=\\\"activeThumb\\\"\\n  (productImage)=\\\"changeImage($event)\\\"\\n></cx-product-image-zoom-thumbnails>\\n\", dependencies: [{ kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { kind: \"component\", type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { kind: \"component\", type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: [\"thumbs$\", \"activeThumb\"], outputs: [\"productImage\"] }, { kind: \"pipe\", type: i2.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomViewComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'cx-product-image-zoom-view', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <div class=\\\"cx-main-image-group\\\" *ngIf=\\\"thumbnails$ | async as thumbs\\\">\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getPreviousProduct(thumbs) | async as previousProduct\\\"\\n        (click)=\\\"openImage(previousProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_LEFT\\\"></cx-icon>\\n      </button>\\n    </div>\\n    <cx-media\\n      #defaultImage\\n      class=\\\"cx-default-image-zoom\\\"\\n      *ngIf=\\\"!isZoomed\\\"\\n      [container]=\\\"main\\\"\\n    >\\n    </cx-media>\\n    <div #zoomContainer class=\\\"cx-zoom-container\\\" *ngIf=\\\"isZoomed\\\">\\n      <cx-media\\n        #zoomedImage\\n        class=\\\"cx-image-zoomed\\\"\\n        [container]=\\\"main\\\"\\n        (mousemove)=\\\"pointerMove($event)\\\"\\n        (touchmove)=\\\"touchMove($event)\\\"\\n        (touchend)=\\\"clearTouch()\\\"\\n      >\\n      </cx-media>\\n    </div>\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getNextProduct(thumbs) | async as nextProduct\\\"\\n        (click)=\\\"openImage(nextProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_RIGHT\\\"></cx-icon>\\n      </button>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<cx-product-image-zoom-thumbnails\\n  [thumbs$]=\\\"thumbnails$\\\"\\n  [activeThumb]=\\\"activeThumb\\\"\\n  (productImage)=\\\"changeImage($event)\\\"\\n></cx-product-image-zoom-thumbnails>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.BreakpointService }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], defaultImage: [{\n                type: ViewChild,\n                args: ['defaultImage', { read: ElementRef }]\n            }], zoomImage: [{\n                type: ViewChild,\n                args: ['zoomContainer', { read: ElementRef }]\n            }], zoomedImage: [{\n                type: ViewChild,\n                args: ['zoomedImage', { read: ElementRef }]\n            }] } });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomDialogComponent {\n    handleClick(event) {\n        // Close on click outside the dialog window\n        if (event.target.tagName === this.el.nativeElement.tagName) {\n            this.close('Cross click');\n        }\n    }\n    constructor(launchDialogService, el) {\n        this.launchDialogService = launchDialogService;\n        this.el = el;\n        this.iconType = ICON_TYPE;\n        this.focusConfig = {\n            trap: true,\n            block: true,\n            autofocus: 'button',\n            focusOnEscape: true,\n        };\n    }\n    close(reason = '') {\n        this.launchDialogService.closeDialog(reason);\n    }\n}\nProductImageZoomDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomDialogComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.4\", type: ProductImageZoomDialogComponent, selector: \"cx-product-image-zoom-dialog\", inputs: { galleryIndex: \"galleryIndex\" }, host: { listeners: { \"click\": \"handleClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"cx-image-zoom-dialog\\\" [cxFocus]=\\\"focusConfig\\\">\\n  <div class=\\\"cx-dialog-content\\\">\\n    <div class=\\\"cx-dialog-header\\\">\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"close\\\"\\n        [attr.aria-label]=\\\"'productImageZoomDialog.close' | cxTranslate\\\"\\n        (click)=\\\"close('cross click')\\\"\\n      >\\n        <span aria-hidden=\\\"true\\\">\\n          <cx-icon [type]=\\\"iconType.CLOSE\\\"></cx-icon>\\n        </span>\\n      </button>\\n    </div>\\n    <div class=\\\"cx-dialog-body\\\">\\n      <cx-product-image-zoom-view\\n        [galleryIndex]=\\\"galleryIndex\\\"\\n      ></cx-product-image-zoom-view>\\n    </div>\\n  </div>\\n</div>\\n\", dependencies: [{ kind: \"component\", type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { kind: \"directive\", type: i1.FocusDirective, selector: \"[cxFocus]\", inputs: [\"cxFocus\"] }, { kind: \"component\", type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: [\"galleryIndex\"] }, { kind: \"pipe\", type: i3.TranslatePipe, name: \"cxTranslate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'cx-product-image-zoom-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"cx-image-zoom-dialog\\\" [cxFocus]=\\\"focusConfig\\\">\\n  <div class=\\\"cx-dialog-content\\\">\\n    <div class=\\\"cx-dialog-header\\\">\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"close\\\"\\n        [attr.aria-label]=\\\"'productImageZoomDialog.close' | cxTranslate\\\"\\n        (click)=\\\"close('cross click')\\\"\\n      >\\n        <span aria-hidden=\\\"true\\\">\\n          <cx-icon [type]=\\\"iconType.CLOSE\\\"></cx-icon>\\n        </span>\\n      </button>\\n    </div>\\n    <div class=\\\"cx-dialog-body\\\">\\n      <cx-product-image-zoom-view\\n        [galleryIndex]=\\\"galleryIndex\\\"\\n      ></cx-product-image-zoom-view>\\n    </div>\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ElementRef }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], handleClick: [{\n                type: HostListener,\n                args: ['click', ['$event']]\n            }] } });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nconst defaultProductImageZoomLayoutConfig = {\n    launch: {\n        PRODUCT_IMAGE_ZOOM: {\n            inline: true,\n            component: ProductImageZoomDialogComponent,\n            dialogType: DIALOG_TYPE.DIALOG,\n        },\n    },\n};\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomTriggerComponent {\n    set expandImage(expand) {\n        if (expand) {\n            this.triggerZoom();\n        }\n    }\n    constructor(launchDialogService, vcr) {\n        this.launchDialogService = launchDialogService;\n        this.vcr = vcr;\n        this.iconType = ICON_TYPE;\n        this.subscriptions = new Subscription();\n        this.dialogClose = new EventEmitter();\n    }\n    triggerZoom() {\n        const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\" /* LAUNCH_CALLER.PRODUCT_IMAGE_ZOOM */, this.vcr);\n        if (component) {\n            this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose])\n                .pipe(tap(([comp]) => {\n                if (this.galleryIndex) {\n                    comp.instance.galleryIndex = this.galleryIndex;\n                }\n            }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n                this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\" /* LAUNCH_CALLER.PRODUCT_IMAGE_ZOOM */);\n                comp?.destroy();\n                this.dialogClose.emit();\n                this.expandButton.nativeElement.focus();\n            }))\n                .subscribe());\n        }\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n}\nProductImageZoomTriggerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomTriggerComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomTriggerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.4\", type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: { galleryIndex: \"galleryIndex\", expandImage: \"expandImage\" }, outputs: { dialogClose: \"dialogClose\" }, viewQueries: [{ propertyName: \"expandButton\", first: true, predicate: [\"expandButton\"], descendants: true }], ngImport: i0, template: \"<button\\n  #expandButton\\n  class=\\\"btn btn-link cx-action-link\\\"\\n  (click)=\\\"triggerZoom()\\\"\\n>\\n  <span>\\n    {{ 'productImageZoomTrigger.expand' | cxTranslate }}\\n    <cx-icon [type]=\\\"iconType.EXPAND_ARROWS\\\"></cx-icon\\n  ></span>\\n</button>\\n\", dependencies: [{ kind: \"component\", type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { kind: \"pipe\", type: i3.TranslatePipe, name: \"cxTranslate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomTriggerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'cx-product-image-zoom-trigger', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<button\\n  #expandButton\\n  class=\\\"btn btn-link cx-action-link\\\"\\n  (click)=\\\"triggerZoom()\\\"\\n>\\n  <span>\\n    {{ 'productImageZoomTrigger.expand' | cxTranslate }}\\n    <cx-icon [type]=\\\"iconType.EXPAND_ARROWS\\\"></cx-icon\\n  ></span>\\n</button>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ViewContainerRef }]; }, propDecorators: { expandButton: [{\n                type: ViewChild,\n                args: ['expandButton']\n            }], galleryIndex: [{\n                type: Input\n            }], expandImage: [{\n                type: Input\n            }], dialogClose: [{\n                type: Output\n            }] } });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n    constructor(currentProductService) {\n        super(currentProductService);\n        this.currentProductService = currentProductService;\n        this.expandImage = new BehaviorSubject(false);\n        this.product$ = this.product$;\n    }\n    openImage(item) {\n        this.mainMediaContainer.next(item);\n        this.selectedIndex = this.mainMediaContainer.value?.zoom?.galleryIndex;\n    }\n    /**\n     * Opens image zoom dialog.\n     */\n    triggerZoom(value) {\n        this.expandImage.next(value);\n    }\n}\nProductImageZoomProductImagesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomProductImagesComponent, deps: [{ token: i1.CurrentProductService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomProductImagesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.4\", type: ProductImageZoomProductImagesComponent, selector: \"cx-product-images\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <cx-media [container]=\\\"main\\\" (click)=\\\"triggerZoom(true)\\\"></cx-media>\\n  <cx-product-image-zoom-trigger\\n    [expandImage]=\\\"expandImage.value\\\"\\n    [galleryIndex]=\\\"selectedIndex\\\"\\n    (dialogClose)=\\\"triggerZoom(false)\\\"\\n  ></cx-product-image-zoom-trigger>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <ng-container *ngIf=\\\"product$ | async as product\\\">\\n    <cx-carousel\\n      role=\\\"region\\\"\\n      [attr.aria-label]=\\\"\\n        'carousel.carouselForProduct' | cxTranslate: { product: product.name }\\n      \\\"\\n      tabindex=\\\"-1\\\"\\n      *ngIf=\\\"thumbs.length\\\"\\n      class=\\\"thumbs\\\"\\n      [items]=\\\"thumbs\\\"\\n      itemWidth=\\\"120px\\\"\\n      [hideIndicators]=\\\"false\\\"\\n      [template]=\\\"thumb\\\"\\n    ></cx-carousel>\\n  </ng-container>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n    format=\\\"product\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", dependencies: [{ kind: \"component\", type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { kind: \"component\", type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: [\"galleryIndex\", \"expandImage\"], outputs: [\"dialogClose\"] }, { kind: \"pipe\", type: i2.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i3.TranslatePipe, name: \"cxTranslate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomProductImagesComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'cx-product-images', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <cx-media [container]=\\\"main\\\" (click)=\\\"triggerZoom(true)\\\"></cx-media>\\n  <cx-product-image-zoom-trigger\\n    [expandImage]=\\\"expandImage.value\\\"\\n    [galleryIndex]=\\\"selectedIndex\\\"\\n    (dialogClose)=\\\"triggerZoom(false)\\\"\\n  ></cx-product-image-zoom-trigger>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <ng-container *ngIf=\\\"product$ | async as product\\\">\\n    <cx-carousel\\n      role=\\\"region\\\"\\n      [attr.aria-label]=\\\"\\n        'carousel.carouselForProduct' | cxTranslate: { product: product.name }\\n      \\\"\\n      tabindex=\\\"-1\\\"\\n      *ngIf=\\\"thumbs.length\\\"\\n      class=\\\"thumbs\\\"\\n      [items]=\\\"thumbs\\\"\\n      itemWidth=\\\"120px\\\"\\n      [hideIndicators]=\\\"false\\\"\\n      [template]=\\\"thumb\\\"\\n    ></cx-carousel>\\n  </ng-container>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n    format=\\\"product\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }]; } });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomModule {\n}\nProductImageZoomModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, declarations: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent], imports: [CarouselModule,\n        CommonModule,\n        I18nModule,\n        IconModule,\n        KeyboardFocusModule,\n        MediaModule,\n        OutletModule,\n        RouterModule], exports: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent] });\nProductImageZoomModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, providers: [\n        provideDefaultConfig(defaultProductImageZoomLayoutConfig),\n        provideDefaultConfig({\n            cmsComponents: {\n                ProductImagesComponent: {\n                    component: ProductImageZoomProductImagesComponent,\n                },\n            },\n        }),\n    ], imports: [CarouselModule,\n        CommonModule,\n        I18nModule,\n        IconModule,\n        KeyboardFocusModule,\n        MediaModule,\n        OutletModule,\n        RouterModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CarouselModule,\n                        CommonModule,\n                        I18nModule,\n                        IconModule,\n                        KeyboardFocusModule,\n                        MediaModule,\n                        OutletModule,\n                        RouterModule,\n                    ],\n                    providers: [\n                        provideDefaultConfig(defaultProductImageZoomLayoutConfig),\n                        provideDefaultConfig({\n                            cmsComponents: {\n                                ProductImagesComponent: {\n                                    component: ProductImageZoomProductImagesComponent,\n                                },\n                            },\n                        }),\n                    ],\n                    declarations: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                    exports: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                }]\n        }] });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomComponentsModule {\n}\nProductImageZoomComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [ProductImageZoomModule] });\nProductImageZoomComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [ProductImageZoomModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ProductImageZoomModule],\n                }]\n        }] });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig };\n","import * as i0 from '@angular/core';\nimport { NgModule } from '@angular/core';\nimport { ProductImageZoomComponentsModule } from '@spartacus/product/image-zoom/components';\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass ProductImageZoomModule {\n}\nProductImageZoomModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, imports: [ProductImageZoomComponentsModule] });\nProductImageZoomModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, imports: [ProductImageZoomComponentsModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.4\", ngImport: i0, type: ProductImageZoomModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ProductImageZoomComponentsModule],\n                }]\n        }] });\n\n/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomModule };\n"],"names":["i0","EventEmitter","Component","ChangeDetectionStrategy","Output","Input","ElementRef","ViewChild","HostListener","NgModule","i2","CommonModule","RouterModule","i3","isNotNullable","I18nModule","provideDefaultConfig","i1","ICON_TYPE","BREAKPOINT","DIALOG_TYPE","ProductImagesComponent","CarouselModule","IconModule","KeyboardFocusModule","MediaModule","OutletModule","BehaviorSubject","Subscription","merge","combineLatest","fromEvent","of","filter","map","switchMap","tap","distinctUntilChanged","shareReplay","ProductImageZoomThumbnailsComponent","constructor","mainMediaContainer","productImage","subscription","ngOnInit","add","activeThumb","subscribe","image","next","openImage","zoom","galleryIndex","emit","index","isActive","thumbnail","asObservable","pipe","container","url","ngOnDestroy","unsubscribe","ɵfac","ɵcmp","CarouselComponent","NgIf","MediaComponent","AsyncPipe","type","args","selector","changeDetection","OnPush","template","thumbs$","ProductImageZoomViewComponent","defaultImage","_defaultImage","el","defaultImageReady","zoomImage","_zoomImage","zoomReady","currentProductService","renderer","cdRef","breakpointService","iconType","mainMediaContainer$","defaultImageReady$","zoomReady$","defaultImageClickHandler$","Boolean","_","clickOrDoubleClick","zoomImageClickHandler$","startCoords","left","top","isZoomed","product$","getProduct","p","Array","isArray","images","GALLERY","find","img","PRIMARY","thumbnails$","createThumbs","mainImage$","item","getActive","value","getPreviousProduct","thumbs","active","getNextProduct","length","markForCheck","touchMove","event","touch","touches","changedTouches","boundingRect","zoomedImage","nativeElement","getBoundingClientRect","imageElement","firstChild","x","clientX","y","clientY","moveImage","clearTouch","pointerMove","positionX","positionY","calculatePointerMovePosition","changeImage","handleOutOfBounds","setStyle","element","isUp","md","isDown","lg","product","c","paddingX","paddingY","height","width","clientWidth","clientHeight","CurrentProductService","Renderer2","ChangeDetectorRef","BreakpointService","IconComponent","read","ProductImageZoomDialogComponent","handleClick","target","tagName","close","launchDialogService","focusConfig","trap","block","autofocus","focusOnEscape","reason","closeDialog","LaunchDialogService","FocusDirective","TranslatePipe","defaultProductImageZoomLayoutConfig","launch","PRODUCT_IMAGE_ZOOM","inline","component","dialogType","DIALOG","ProductImageZoomTriggerComponent","expandImage","expand","triggerZoom","vcr","subscriptions","dialogClose","comp","instance","clear","destroy","expandButton","focus","ViewContainerRef","ProductImageZoomProductImagesComponent","selectedIndex","ProductImageZoomModule","ɵmod","ɵinj","cmsComponents","imports","providers","declarations","exports","ProductImageZoomComponentsModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}