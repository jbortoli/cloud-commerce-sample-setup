"use strict";
(self["webpackChunkmystore_6_3"] = self["webpackChunkmystore_6_3"] || []).push([["node_modules_spartacus_cart_fesm2020_spartacus-cart-saved-cart_mjs"],{

/***/ 769:
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm2015/internal/operators/every.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "every": () => (/* binding */ every)
/* harmony export */ });
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subscriber */ 14);

function every(predicate, thisArg) {
  return source => source.lift(new EveryOperator(predicate, thisArg, source));
}
class EveryOperator {
  constructor(predicate, thisArg, source) {
    this.predicate = predicate;
    this.thisArg = thisArg;
    this.source = source;
  }
  call(observer, source) {
    return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
  }
}
class EverySubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.Subscriber {
  constructor(destination, predicate, thisArg, source) {
    super(destination);
    this.predicate = predicate;
    this.thisArg = thisArg;
    this.source = source;
    this.index = 0;
    this.thisArg = thisArg || this;
  }
  notifyComplete(everyValueMatch) {
    this.destination.next(everyValueMatch);
    this.destination.complete();
  }
  _next(value) {
    let result = false;
    try {
      result = this.predicate.call(this.thisArg, value, this.index++, this.source);
    } catch (err) {
      this.destination.error(err);
      return;
    }
    if (!result) {
      this.notifyComplete(false);
    }
  }
  _complete() {
    this.notifyComplete(true);
  }
}

/***/ }),

/***/ 3831:
/*!****************************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-saved-cart-components.mjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddToSavedCartComponent": () => (/* binding */ AddToSavedCartComponent),
/* harmony export */   "AddToSavedCartModule": () => (/* binding */ AddToSavedCartModule),
/* harmony export */   "NewSavedCartOrderEntriesContext": () => (/* binding */ NewSavedCartOrderEntriesContext),
/* harmony export */   "SavedCartComponentsModule": () => (/* binding */ SavedCartComponentsModule),
/* harmony export */   "SavedCartDetailsActionComponent": () => (/* binding */ SavedCartDetailsActionComponent),
/* harmony export */   "SavedCartDetailsItemsComponent": () => (/* binding */ SavedCartDetailsItemsComponent),
/* harmony export */   "SavedCartDetailsModule": () => (/* binding */ SavedCartDetailsModule),
/* harmony export */   "SavedCartDetailsOverviewComponent": () => (/* binding */ SavedCartDetailsOverviewComponent),
/* harmony export */   "SavedCartDetailsService": () => (/* binding */ SavedCartDetailsService),
/* harmony export */   "SavedCartFormDialogComponent": () => (/* binding */ SavedCartFormDialogComponent),
/* harmony export */   "SavedCartFormDialogModule": () => (/* binding */ SavedCartFormDialogModule),
/* harmony export */   "SavedCartListComponent": () => (/* binding */ SavedCartListComponent),
/* harmony export */   "SavedCartListModule": () => (/* binding */ SavedCartListModule),
/* harmony export */   "SavedCartOrderEntriesContext": () => (/* binding */ SavedCartOrderEntriesContext),
/* harmony export */   "defaultSavedCartFormLayoutConfig": () => (/* binding */ defaultSavedCartFormLayoutConfig)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 2425);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ 9193);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs */ 8198);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ 8623);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ 8759);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ 6942);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ 3910);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ 3298);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/operators */ 9151);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/operators */ 9095);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs/operators */ 9128);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs/operators */ 769);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs/operators */ 3888);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs/operators */ 2972);
/* harmony import */ var _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @spartacus/cart/base/root */ 6061);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @spartacus/storefront */ 4373);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 4666);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ 124);
/* harmony import */ var _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @spartacus/cart/saved-cart/root */ 509);
/* harmony import */ var _spartacus_cart_base_components_add_to_cart__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @spartacus/cart/base/components/add-to-cart */ 4159);
/* harmony import */ var _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @spartacus/cart/base/core */ 7732);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/forms */ 2508);






















/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const _c0 = ["element"];
const _c1 = function () {
  return {
    cxRoute: "savedCarts"
  };
};
function AddToSavedCartComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1)(2, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "a", 3, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AddToSavedCartComponent_ng_container_0_Template_a_click_7_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4);
      const cart_r1 = restoredCtx.ngIf;
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r3.saveCart(cart_r1));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](13, _c1)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 7, "addToSavedCart.savedCarts"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 9, ctx_r0.disableSaveCartForLater$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 11, "addToSavedCart.saveCartForLater"));
  }
}
function SavedCartDetailsActionComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1)(2, "div", 2)(3, "button", 3, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartDetailsActionComponent_ng_container_0_Template_button_click_3_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5);
      const cart_r1 = restoredCtx.ngIf;
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r4.openDialog(cart_r1, ctx_r4.savedCartFormType.DELETE));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2)(8, "button", 5, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartDetailsActionComponent_ng_container_0_Template_button_click_8_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5);
      const cart_r1 = restoredCtx.ngIf;
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r6.openDialog(cart_r1, ctx_r6.savedCartFormType.RESTORE));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 2, "savedCartDetails.deleteSavedCart"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 4, "savedCartList.makeCartActive"), " ");
  }
}
function SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_ng_template_4_Template(rf, ctx) {}
const _c2 = function (a1, a2, a3) {
  return {
    displayAddToCart: true,
    addToCartString: a1,
    optionalBtn: a2,
    cartType: a3
  };
};
const _c3 = function (a0, a1, a2, a3, a4) {
  return {
    cartId: a0,
    cartIsLoading: a1,
    items: a2,
    promotionLocation: a3,
    options: a4
  };
};
function SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_ng_template_4_Template, 0, 0, "ng-template", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const cart_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().ngIf;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 3, "common.loaded"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cxOutlet", ctx_r6.CartOutlets.CART_ITEM_LIST)("cxOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction5"](13, _c3, cart_r5.code, !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 5, ctx_r6.cartLoaded$), cart_r5.entries, ctx_r6.CartLocation.SavedCart, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](9, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 7, ctx_r6.buyItAgainTranslation$), _r3, ctx_r6.CartType.SELECTIVE)));
  }
}
function SavedCartDetailsItemsComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_Template, 7, 19, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const cart_r5 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (cart_r5 == null ? null : cart_r5.entries == null ? null : cart_r5.entries.length) > 0)("ngIfElse", _r1);
  }
}
function SavedCartDetailsItemsComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "cx-spinner");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
}
function SavedCartDetailsItemsComponent_ng_template_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "cx-add-to-cart", 8);
  }
  if (rf & 2) {
    const ctx_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("productCode", ctx_r9.item.product == null ? null : ctx_r9.item.product.code)("product", ctx_r9.item.product)("showQuantity", false)("options", ctx_r9.options)("pickupStore", ctx_r9.item.deliveryPointOfService == null ? null : ctx_r9.item.deliveryPointOfService.name);
  }
}
function SavedCartDetailsOverviewComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "cx-card", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "button", 6, 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartDetailsOverviewComponent_ng_container_0_Template_button_click_7_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4);
      const cart_r1 = restoredCtx.ngIf;
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r3.openDialog(cart_r1));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "cx-icon", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "cx-card", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "cx-card", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](18, "cx-card", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](20, "cxDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](21, "cx-card", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](22, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "cx-card", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](25, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](26, "cx-card", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](27, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const cart_r1 = ctx.ngIf;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 11, ctx_r0.getCartName(cart_r1 == null ? null : cart_r1.name)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 13, "savedCartDetails.editSavedCart"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("type", ctx_r0.iconTypes.PENCIL);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 15, ctx_r0.getCartDescription(cart_r1 == null ? null : cart_r1.description)))("truncateText", true)("charactersLimit", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 17, ctx_r0.getCartId(cart_r1 == null ? null : cart_r1.code)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 19, ctx_r0.getDateSaved(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](20, 21, cart_r1 == null ? null : cart_r1.saveTime))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](22, 23, ctx_r0.getCartItems(cart_r1 == null ? null : cart_r1.totalItems)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](25, 25, ctx_r0.getCartQuantity(cart_r1 == null ? null : cart_r1.totalUnitCount)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("content", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](27, 27, ctx_r0.getCartTotal(cart_r1 == null ? null : cart_r1.totalPriceWithTax == null ? null : cart_r1.totalPriceWithTax.formattedValue)));
  }
}
const _c4 = function (a0) {
  return {
    savedCartId: a0
  };
};
const _c5 = function (a1) {
  return {
    cxRoute: "savedCartsDetails",
    params: a1
  };
};
function SavedCartListComponent_ng_container_0_ng_container_1_ng_container_7_tr_22_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartListComponent_ng_container_0_ng_container_1_ng_container_7_tr_22_Template_tr_click_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12);
      const savedCart_r9 = restoredCtx.$implicit;
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r11.goToSavedCartDetails(savedCart_r9));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 13)(2, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "td", 16)(9, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "td", 17)(16, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](18, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](20, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](22, "cxDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "td", 18)(24, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](26, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](28, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "td", 19)(31, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](33, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](35, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "td", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](38, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "button", 21, 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartListComponent_ng_container_0_ng_container_1_ng_container_7_tr_22_Template_button_click_39_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12);
      const savedCart_r9 = restoredCtx.$implicit;
      const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r13.openDialog($event, savedCart_r9));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](42, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const savedCart_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 16, "savedCartList.cartName"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 18, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](43, _c5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](41, _c4, savedCart_r9 == null ? null : savedCart_r9.code))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", savedCart_r9 == null ? null : savedCart_r9.name, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 20, "savedCartList.cartId"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 22, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](47, _c5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](45, _c4, savedCart_r9 == null ? null : savedCart_r9.code))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](savedCart_r9 == null ? null : savedCart_r9.code);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](18, 24, "savedCartList.dateSaved"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](20, 26, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](51, _c5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](49, _c4, savedCart_r9 == null ? null : savedCart_r9.code))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](22, 28, savedCart_r9 == null ? null : savedCart_r9.saveTime, "longDate"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](26, 31, "savedCartList.quantity"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](28, 33, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](55, _c5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](53, _c4, savedCart_r9 == null ? null : savedCart_r9.code))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", savedCart_r9 == null ? null : savedCart_r9.totalUnitCount, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](33, 35, "savedCartList.total"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](35, 37, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](59, _c5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](57, _c4, savedCart_r9 == null ? null : savedCart_r9.code))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", savedCart_r9 == null ? null : savedCart_r9.totalPrice == null ? null : savedCart_r9.totalPrice.formattedValue, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](42, 39, "savedCartList.makeCartActive"), " ");
  }
}
function SavedCartListComponent_ng_container_0_ng_container_1_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "table", 6)(2, "thead", 7)(3, "th", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "th", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "th", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](17, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "th", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](20, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](22, SavedCartListComponent_ng_container_0_ng_container_1_ng_container_7_tr_22_Template, 43, 61, "tr", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const savedCarts_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 7, "savedCartList.cartName"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 9, "savedCartList.cartId"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 11, "savedCartList.dateSaved"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 13, "savedCartList.quantity"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](17, 15, "savedCartList.total"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](20, 17, "savedCartList.actions"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", savedCarts_r1);
  }
}
function SavedCartListComponent_ng_container_0_ng_container_1_ng_template_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 23)(1, "div", 24)(2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, "savedCartList.notFound"));
  }
}
const _c6 = function (a0) {
  return {
    count: a0
  };
};
function SavedCartListComponent_ng_container_0_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 4)(4, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SavedCartListComponent_ng_container_0_ng_container_1_ng_container_7_Template, 23, 19, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SavedCartListComponent_ng_container_0_ng_container_1_ng_template_8_Template, 5, 3, "ng-template", null, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](9);
    const savedCarts_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, "common.loaded"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 6, "savedCartList.savedCarts", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c6, savedCarts_r1.length)), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (savedCarts_r1 == null ? null : savedCarts_r1.length) > 0)("ngIfElse", _r6);
  }
}
function SavedCartListComponent_ng_container_0_ng_template_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "cx-spinner");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
}
function SavedCartListComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SavedCartListComponent_ng_container_0_ng_container_1_Template, 10, 11, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, SavedCartListComponent_ng_container_0_ng_template_3_Template, 2, 0, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](4);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, ctx_r0.isLoading$))("ngIfElse", _r3);
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "savedCartDialog.editSavedCart"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "savedCartDialog.deleteSavedCart"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "savedCartDialog.saveForLater"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "savedCartDialog.restoreSavedCart"), " ");
  }
}
const _c7 = function (a0) {
  return {
    name: a0
  };
};
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_div_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 25)(1, "label")(2, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    let tmp_1_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 3, "savedCartDialog.nameOfCloneCart"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 5, "savedCartDialog.defaultCloneCartName", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c7, (tmp_1_0 = ctx_r12.form.get("name")) == null ? null : tmp_1_0.value)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxLength", ctx_r12.nameMaxLength);
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 21)(2, "input", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template_input_change_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14);
      const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r13.toggleIsCloneSavedCart());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_div_6_Template, 7, 10, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r8.isCloneSavedCart);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 3, "savedCartDialog.keepCopySavedCart"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r8.isCloneSavedCart);
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17);
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r16.deleteCart(ctx_r16.cart.code));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, ctx_r15.isDisableDeleteButton$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, "common.delete"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, "savedCartDialog.delete"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template, 5, 9, "button", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.cart.code);
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r20);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r19.restoreSavedCart(ctx_r19.cart.code));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, ctx_r18.isDisableRestoreButton$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, "common.restore"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, "savedCartDialog.restore"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template, 5, 9, "button", 28);
  }
  if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r11.cart.code);
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 14)(5, "div", 15)(6, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 15)(12, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 15)(18, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](20, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "div", 15)(24, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](26, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "div", 15)(30, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](32, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](35, SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template, 7, 5, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "div", 18)(37, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template_button_click_37_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r22);
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r21.close("Close Save Cart Dialog"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](38, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](40, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](41, SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_Template, 2, 1, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](42, SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_Template, 1, 1, "ng-template", null, 20, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](43);
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 16, ctx_r5.layoutOption === ctx_r5.savedCartFormType.DELETE ? "savedCartDialog.followingCartDelete" : "savedCartDialog.followingCartRestore"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 18, "savedCartDialog.name"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r5.cart == null ? null : ctx_r5.cart.name, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 20, "savedCartDialog.id"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r5.cart == null ? null : ctx_r5.cart.code, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](20, 22, "savedCartDialog.description"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r5.cart == null ? null : ctx_r5.cart.description, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](26, 24, "savedCartDialog.quantity"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r5.cart == null ? null : ctx_r5.cart.totalUnitCount, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](32, 26, "savedCartDialog.total"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r5.cart == null ? null : ctx_r5.cart.totalPriceWithTax == null ? null : ctx_r5.cart.totalPriceWithTax.formattedValue, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.layoutOption === ctx_r5.savedCartFormType.RESTORE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](38, 28, "common.close"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](40, 30, "savedCartDialog.cancel"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.layoutOption === ctx_r5.savedCartFormType.DELETE)("ngIfElse", _r10);
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_template_17_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "savedCartDialog.itemsSavedForLater"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartFormDialogComponent_ng_container_0_ng_template_17_ng_container_0_Template, 4, 3, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label")(4, "span", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "input", 31)(8, "cx-form-errors", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 14)(10, "label")(11, "span", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "span", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "textarea", 34)(18, "cx-form-errors", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "p", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](21, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "div", 18)(23, "button", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template_button_click_23_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r25);
      const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r24.close("Close Save Cart Dialog"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](24, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](25, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](27, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "button", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template_button_click_28_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r25);
      const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r26.saveOrEditCart(ctx_r26.cart == null ? null : ctx_r26.cart.code));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](29, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](30, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](32, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7.layoutOption === ctx_r7.savedCartFormType.SAVE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 15, "savedCartDialog.savedCartName"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxLength", ctx_r7.nameMaxLength);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx_r7.form.get("name"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 17, "savedCartDialog.savedCartDescription"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 19, "savedCartDialog.optional"), ") ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxLength", ctx_r7.descriptionMaxLength);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx_r7.form.get("description"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](21, 21, "savedCartDialog.charactersLeft", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](36, _c6, ctx_r7.descriptionsCharacterLeft)), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](25, 26, ctx_r7.isLoading$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](24, 24, "common.close"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](27, 28, "savedCartDialog.cancel"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](30, 32, ctx_r7.isLoading$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](29, 30, "common.save"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](32, 34, "savedCartDialog.save"), " ");
  }
}
function SavedCartFormDialogComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("esc", function SavedCartFormDialogComponent_ng_container_0_Template_div_esc_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28);
      const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r27.close("Escape clicked"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "form", 2)(3, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](4, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SavedCartFormDialogComponent_ng_container_0_ng_container_6_Template, 3, 3, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SavedCartFormDialogComponent_ng_container_0_ng_container_7_Template, 3, 3, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SavedCartFormDialogComponent_ng_container_0_ng_container_8_Template, 3, 3, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, SavedCartFormDialogComponent_ng_container_0_ng_container_9_Template, 3, 3, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_ng_container_0_Template_button_click_10_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28);
      const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r29.close("Close Save Cart Dialog"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](14, "cx-icon", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template, 44, 32, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template, 33, 38, "ng-template", null, 12, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](18);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cxFocus", ctx_r0.focusConfig);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r0.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitch", ctx_r0.layoutOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", ctx_r0.savedCartFormType.EDIT);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", ctx_r0.savedCartFormType.DELETE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", ctx_r0.savedCartFormType.SAVE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", ctx_r0.savedCartFormType.RESTORE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 12, ctx_r0.isLoading$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 14, "common.close"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("type", ctx_r0.iconTypes.CLOSE);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.layoutOption === ctx_r0.savedCartFormType.DELETE || ctx_r0.layoutOption === ctx_r0.savedCartFormType.RESTORE)("ngIfElse", _r6);
  }
}
class AddToSavedCartComponent {
  constructor(activeCartFacade, authService, routingService, vcr, launchDialogService) {
    this.activeCartFacade = activeCartFacade;
    this.authService = authService;
    this.routingService = routingService;
    this.vcr = vcr;
    this.launchDialogService = launchDialogService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subscription();
    this.loggedIn = false;
  }
  ngOnInit() {
    this.cart$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.combineLatest)([this.activeCartFacade.getActive(), this.authService.isUserLoggedIn()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(([_, loggedIn]) => this.loggedIn = loggedIn), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(([activeCart]) => activeCart));
    this.disableSaveCartForLater$ = this.cart$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(cart => !cart.entries?.length));
  }
  saveCart(cart) {
    this.subscription.add(this.disableSaveCartForLater$.subscribe(isDisabled => {
      if (isDisabled) {
        return;
      }
      if (this.loggedIn) {
        this.openDialog(cart);
      } else {
        this.routingService.go({
          cxRoute: 'login'
        });
      }
    }));
  }
  openDialog(cart) {
    const dialog = this.launchDialogService.openDialog("SAVED_CART" /* LAUNCH_CALLER.SAVED_CART */, this.element, this.vcr, {
      cart,
      layoutOption: 'save'
    });
    if (dialog) {
      this.subscription.add(dialog.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1)).subscribe());
    }
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
  }
}
AddToSavedCartComponent.ɵfac = function AddToSavedCartComponent_Factory(t) {
  return new (t || AddToSavedCartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.ActiveCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService));
};
AddToSavedCartComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: AddToSavedCartComponent,
  selectors: [["cx-add-to-saved-cart"]],
  viewQuery: function AddToSavedCartComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.element = _t.first);
    }
  },
  decls: 2,
  vars: 3,
  consts: [[4, "ngIf"], [1, "cx-add-to-saved-cart-container"], ["cxAutoFocus", "", 1, "link", "cx-action-link", 3, "routerLink"], ["tabindex", "0", "cxAutoFocus", "", 1, "link", "cx-action-link", 3, "click"], ["element", ""]],
  template: function AddToSavedCartComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AddToSavedCartComponent_ng_container_0_Template, 13, 14, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.cart$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterLink, _angular_common__WEBPACK_IMPORTED_MODULE_9__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlPipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AddToSavedCartComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-add-to-saved-cart',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<ng-container *ngIf=\"cart$ | async as cart\">\n  <div class=\"cx-add-to-saved-cart-container\">\n    <a\n      class=\"link cx-action-link\"\n      [routerLink]=\"\n        {\n          cxRoute: 'savedCarts'\n        } | cxUrl\n      \"\n      cxAutoFocus\n    >\n      <span>{{ 'addToSavedCart.savedCarts' | cxTranslate }}</span>\n    </a>\n    <a\n      #element\n      tabindex=\"0\"\n      class=\"link cx-action-link\"\n      [class.disabled]=\"disableSaveCartForLater$ | async\"\n      (click)=\"saveCart(cart)\"\n      cxAutoFocus\n    >\n      <span>{{ 'addToSavedCart.saveCartForLater' | cxTranslate }}</span>\n    </a>\n  </div>\n</ng-container>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.ActiveCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService
    }];
  }, {
    element: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['element']
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class AddToSavedCartModule {}
AddToSavedCartModule.ɵfac = function AddToSavedCartModule_Factory(t) {
  return new (t || AddToSavedCartModule)();
};
AddToSavedCartModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: AddToSavedCartModule
});
AddToSavedCartModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
    cmsComponents: {
      AddToSavedCartsComponent: {
        component: AddToSavedCartComponent
      }
    }
  })],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AddToSavedCartModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
        cmsComponents: {
          AddToSavedCartsComponent: {
            component: AddToSavedCartComponent
          }
        }
      })],
      exports: [AddToSavedCartComponent],
      declarations: [AddToSavedCartComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartDetailsService {
  constructor(routingService, savedCartService) {
    this.routingService = routingService;
    this.savedCartService = savedCartService;
    this.savedCartId$ = this.routingService.getRouterState().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(routingData => routingData.state.params.savedCartId), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.distinctUntilChanged)());
    this.savedCart$ = this.savedCartId$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(cartId => Boolean(cartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(savedCartId => this.savedCartService.loadSavedCart(savedCartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.switchMap)(savedCartId => this.savedCartService.get(savedCartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.shareReplay)({
      bufferSize: 1,
      refCount: true
    }));
  }
  getSavedCartId() {
    return this.savedCartId$;
  }
  getCartDetails() {
    return this.savedCart$;
  }
}
SavedCartDetailsService.ɵfac = function SavedCartDetailsService_Factory(t) {
  return new (t || SavedCartDetailsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade));
};
SavedCartDetailsService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: SavedCartDetailsService,
  factory: SavedCartDetailsService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartDetailsService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService
    }, {
      type: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartDetailsActionComponent {
  constructor(savedCartDetailsService, vcr, launchDialogService) {
    this.savedCartDetailsService = savedCartDetailsService;
    this.vcr = vcr;
    this.launchDialogService = launchDialogService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subscription();
    this.savedCartFormType = _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType;
    this.savedCart$ = this.savedCartDetailsService.getCartDetails();
  }
  openDialog(cart, type) {
    const dialog = this.launchDialogService.openDialog("SAVED_CART" /* LAUNCH_CALLER.SAVED_CART */, this.element, this.vcr, {
      cart,
      layoutOption: type
    });
    if (dialog) {
      this.subscription.add(dialog.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1)).subscribe());
    }
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
  }
}
SavedCartDetailsActionComponent.ɵfac = function SavedCartDetailsActionComponent_Factory(t) {
  return new (t || SavedCartDetailsActionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](SavedCartDetailsService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService));
};
SavedCartDetailsActionComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: SavedCartDetailsActionComponent,
  selectors: [["cx-saved-cart-details-action"]],
  viewQuery: function SavedCartDetailsActionComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.element = _t.first);
    }
  },
  decls: 2,
  vars: 3,
  consts: [[4, "ngIf"], [1, "cx-saved-cart-restore-btns", "row"], [1, "col-xs-12", "col-md-5", "col-lg-4"], [1, "btn", "btn-block", "btn-secondary", 3, "click"], ["element", ""], [1, "btn", "btn-block", "btn-primary", 3, "click"]],
  template: function SavedCartDetailsActionComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartDetailsActionComponent_ng_container_0_Template, 12, 6, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.savedCart$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartDetailsActionComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-saved-cart-details-action',
      template: "<ng-container *ngIf=\"savedCart$ | async as cart\">\n  <div class=\"cx-saved-cart-restore-btns row\">\n    <div class=\"col-xs-12 col-md-5 col-lg-4\">\n      <button\n        #element\n        class=\"btn btn-block btn-secondary\"\n        (click)=\"openDialog(cart, savedCartFormType.DELETE)\"\n      >\n        {{ 'savedCartDetails.deleteSavedCart' | cxTranslate }}\n      </button>\n    </div>\n    <div class=\"col-xs-12 col-md-5 col-lg-4\">\n      <button\n        #element\n        class=\"btn btn-block btn-primary\"\n        (click)=\"openDialog(cart, savedCartFormType.RESTORE)\"\n      >\n        {{ 'savedCartList.makeCartActive' | cxTranslate }}\n      </button>\n    </div>\n  </div>\n</ng-container>\n"
    }]
  }], function () {
    return [{
      type: SavedCartDetailsService
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService
    }];
  }, {
    element: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['element']
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartDetailsItemsComponent {
  constructor(savedCartDetailsService, savedCartService, eventSercvice, globalMessageService, routingService, translation) {
    this.savedCartDetailsService = savedCartDetailsService;
    this.savedCartService = savedCartService;
    this.eventSercvice = eventSercvice;
    this.globalMessageService = globalMessageService;
    this.routingService = routingService;
    this.translation = translation;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subscription();
    this.CartOutlets = _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.CartOutlets;
    this.CartType = _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.CartType;
    this.CartLocation = _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.PromotionLocation;
    this.cartLoaded$ = this.savedCartDetailsService.getSavedCartId().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.switchMap)(cartId => this.savedCartService.isStable(cartId)));
    this.savedCart$ = this.savedCartDetailsService.getCartDetails().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(cart => {
      if ((cart?.entries ?? []).length <= 0 && !!cart?.code) {
        this.savedCartService.deleteSavedCart(cart.code);
      }
    }));
  }
  ngOnInit() {
    this.subscription.add(this.eventSercvice.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.DeleteCartSuccessEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(() => true)).subscribe(success => this.onDeleteComplete(success)));
    this.buyItAgainTranslation$ = this.translation.translate('addToCart.addToActiveCart');
  }
  onDeleteComplete(success) {
    if (success) {
      this.routingService.go({
        cxRoute: 'savedCarts'
      });
      this.globalMessageService.add({
        key: 'savedCartDialog.deleteCartSuccess'
      }, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageType.MSG_TYPE_CONFIRMATION);
    }
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
  }
}
SavedCartDetailsItemsComponent.ɵfac = function SavedCartDetailsItemsComponent_Factory(t) {
  return new (t || SavedCartDetailsItemsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](SavedCartDetailsService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.EventService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslationService));
};
SavedCartDetailsItemsComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: SavedCartDetailsItemsComponent,
  selectors: [["cx-saved-cart-details-items"]],
  decls: 6,
  vars: 3,
  consts: [[4, "ngIf"], ["emptyCartItems", ""], ["addToCartBtn", ""], [4, "ngIf", "ngIfElse"], ["role", "status"], [1, "cart-details-wrapper"], [3, "cxOutlet", "cxOutletContext"], [1, "cx-spinner"], [3, "productCode", "product", "showQuantity", "options", "pickupStore"]],
  template: function SavedCartDetailsItemsComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartDetailsItemsComponent_ng_container_0_Template, 2, 2, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, SavedCartDetailsItemsComponent_ng_template_2_Template, 2, 0, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SavedCartDetailsItemsComponent_ng_template_4_Template, 1, 5, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.savedCart$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.SpinnerComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.OutletDirective, _spartacus_cart_base_components_add_to_cart__WEBPACK_IMPORTED_MODULE_16__.AddToCartComponent, _angular_common__WEBPACK_IMPORTED_MODULE_9__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartDetailsItemsComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-saved-cart-details-items',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<ng-container *ngIf=\"savedCart$ | async as cart\">\n  <ng-container *ngIf=\"cart?.entries?.length > 0; else emptyCartItems\">\n    <div role=\"status\" [attr.aria-label]=\"'common.loaded' | cxTranslate\"></div>\n    <div class=\"cart-details-wrapper\">\n      <ng-template\n        [cxOutlet]=\"CartOutlets.CART_ITEM_LIST\"\n        [cxOutletContext]=\"{\n          cartId: cart.code,\n          cartIsLoading: !(cartLoaded$ | async),\n          items: cart.entries,\n          promotionLocation: CartLocation.SavedCart,\n          options: {\n            displayAddToCart: true,\n            addToCartString: (buyItAgainTranslation$ | async),\n            optionalBtn: addToCartBtn,\n            cartType: CartType.SELECTIVE\n          }\n        }\"\n      >\n      </ng-template>\n    </div>\n  </ng-container>\n</ng-container>\n<ng-template #emptyCartItems>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n\n<ng-template let-ctx #addToCartBtn>\n  <cx-add-to-cart\n    [productCode]=\"ctx.item.product?.code\"\n    [product]=\"ctx.item.product\"\n    [showQuantity]=\"false\"\n    [options]=\"ctx.options\"\n    [pickupStore]=\"ctx.item.deliveryPointOfService?.name\"\n  >\n  </cx-add-to-cart>\n</ng-template>\n"
    }]
  }], function () {
    return [{
      type: SavedCartDetailsService
    }, {
      type: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.EventService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslationService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartDetailsOverviewComponent {
  constructor(savedCartDetailsService, translation, vcr, launchDialogService) {
    this.savedCartDetailsService = savedCartDetailsService;
    this.translation = translation;
    this.vcr = vcr;
    this.launchDialogService = launchDialogService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subscription();
    this.iconTypes = _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ICON_TYPE;
    this.savedCart$ = this.savedCartDetailsService.getCartDetails();
  }
  getCartName(cartName) {
    return this.translation.translate('savedCartDetails.cartName').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(cartName)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => ({
      title: textTitle,
      text: [cartName]
    })));
  }
  getCartDescription(cartDescription) {
    return this.translation.translate('savedCartDetails.cartDescription').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(cartDescription)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => ({
      title: textTitle,
      text: [cartDescription]
    })));
  }
  getCartId(cartId) {
    return this.translation.translate('savedCartDetails.cartId').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(cartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => ({
      title: textTitle,
      text: [cartId]
    })));
  }
  getDateSaved(saveTime) {
    return this.translation.translate('savedCartDetails.dateSaved').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(saveTime)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => {
      return {
        title: textTitle,
        text: [saveTime ?? '']
      };
    }));
  }
  getCartItems(totalItems) {
    return this.translation.translate('savedCartDetails.items').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(totalItems)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => ({
      title: textTitle,
      text: [totalItems.toString()]
    })));
  }
  getCartQuantity(totalUnitCount) {
    return this.translation.translate('savedCartDetails.quantity').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(totalUnitCount)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => ({
      title: textTitle,
      text: [totalUnitCount.toString()]
    })));
  }
  getCartTotal(totalPriceWithTax) {
    return this.translation.translate('savedCartDetails.total').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(() => Boolean(totalPriceWithTax)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(textTitle => ({
      title: textTitle,
      text: [totalPriceWithTax]
    })));
  }
  openDialog(cart) {
    const dialog = this.launchDialogService.openDialog("SAVED_CART" /* LAUNCH_CALLER.SAVED_CART */, this.element, this.vcr, {
      cart,
      layoutOption: 'edit'
    });
    if (dialog) {
      this.subscription.add(dialog.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1)).subscribe());
    }
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
  }
}
SavedCartDetailsOverviewComponent.ɵfac = function SavedCartDetailsOverviewComponent_Factory(t) {
  return new (t || SavedCartDetailsOverviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](SavedCartDetailsService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslationService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService));
};
SavedCartDetailsOverviewComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: SavedCartDetailsOverviewComponent,
  selectors: [["cx-saved-cart-details-overview"]],
  viewQuery: function SavedCartDetailsOverviewComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.element = _t.first);
    }
  },
  decls: 2,
  vars: 3,
  consts: [[4, "ngIf"], [1, "cx-cart-summary"], [1, "container"], [1, "cx-summary-card"], [1, "cx-edit-container"], [3, "content"], [1, "cx-edit-cart", 3, "click"], ["element", ""], [3, "type"], [1, "cx-card-description"], [3, "content", "truncateText", "charactersLimit"]],
  template: function SavedCartDetailsOverviewComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartDetailsOverviewComponent_ng_container_0_Template, 28, 29, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.savedCart$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.CardComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconComponent, _angular_common__WEBPACK_IMPORTED_MODULE_9__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.CxDatePipe],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartDetailsOverviewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-saved-cart-details-overview',
      template: "<ng-container *ngIf=\"savedCart$ | async as cart\">\n  <div class=\"cx-cart-summary\">\n    <div class=\"container\">\n      <div class=\"cx-summary-card\">\n        <div class=\"cx-edit-container\">\n          <cx-card [content]=\"getCartName(cart?.name) | async\"></cx-card>\n          <button\n            [attr.aria-label]=\"'savedCartDetails.editSavedCart' | cxTranslate\"\n            class=\"cx-edit-cart\"\n            #element\n            (click)=\"openDialog(cart)\"\n          >\n            <cx-icon [type]=\"iconTypes.PENCIL\"></cx-icon>\n          </button>\n        </div>\n        <div class=\"cx-card-description\">\n          <cx-card\n            [content]=\"getCartDescription(cart?.description) | async\"\n            [truncateText]=\"true\"\n            [charactersLimit]=\"30\"\n          ></cx-card>\n        </div>\n      </div>\n      <div class=\"cx-summary-card\">\n        <cx-card [content]=\"getCartId(cart?.code) | async\"></cx-card>\n      </div>\n      <div class=\"cx-summary-card\">\n        <cx-card\n          [content]=\"getDateSaved(cart?.saveTime | cxDate) | async\"\n        ></cx-card>\n        <cx-card [content]=\"getCartItems(cart?.totalItems) | async\"></cx-card>\n      </div>\n      <div class=\"cx-summary-card\">\n        <cx-card\n          [content]=\"getCartQuantity(cart?.totalUnitCount) | async\"\n        ></cx-card>\n        <cx-card\n          [content]=\"\n            getCartTotal(cart?.totalPriceWithTax?.formattedValue) | async\n          \"\n        ></cx-card>\n      </div>\n    </div>\n  </div>\n</ng-container>\n"
    }]
  }], function () {
    return [{
      type: SavedCartDetailsService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslationService
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService
    }];
  }, {
    element: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['element']
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartDetailsModule {}
SavedCartDetailsModule.ɵfac = function SavedCartDetailsModule_Factory(t) {
  return new (t || SavedCartDetailsModule)();
};
SavedCartDetailsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartDetailsModule
});
SavedCartDetailsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.CardModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MediaModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.SpinnerModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.OutletModule, _spartacus_cart_base_components_add_to_cart__WEBPACK_IMPORTED_MODULE_16__.AddToCartModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.ConfigModule.withConfig({
    cmsComponents: {
      SavedCartDetailsOverviewComponent: {
        component: SavedCartDetailsOverviewComponent,
        guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
      },
      SavedCartDetailsItemsComponent: {
        component: SavedCartDetailsItemsComponent,
        guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
      },
      SavedCartDetailsActionComponent: {
        component: SavedCartDetailsActionComponent,
        guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
      }
    }
  })]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartDetailsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.CardModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.MediaModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.SpinnerModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.OutletModule, _spartacus_cart_base_components_add_to_cart__WEBPACK_IMPORTED_MODULE_16__.AddToCartModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.ConfigModule.withConfig({
        cmsComponents: {
          SavedCartDetailsOverviewComponent: {
            component: SavedCartDetailsOverviewComponent,
            guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
          },
          SavedCartDetailsItemsComponent: {
            component: SavedCartDetailsItemsComponent,
            guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
          },
          SavedCartDetailsActionComponent: {
            component: SavedCartDetailsActionComponent,
            guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
          }
        }
      })],
      declarations: [SavedCartDetailsOverviewComponent, SavedCartDetailsActionComponent, SavedCartDetailsItemsComponent],
      exports: [SavedCartDetailsOverviewComponent, SavedCartDetailsActionComponent, SavedCartDetailsItemsComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartListComponent {
  constructor(routing, savedCartService, vcr, launchDialogService) {
    this.routing = routing;
    this.savedCartService = savedCartService;
    this.vcr = vcr;
    this.launchDialogService = launchDialogService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subscription();
    this.savedCarts$ = this.savedCartService.getList().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(lists => lists.sort((a, b) => {
      const date1 = a.saveTime ? new Date(a.saveTime).getTime() : new Date().getTime();
      const date2 = b.saveTime ? new Date(b.saveTime).getTime() : new Date().getTime();
      return date2 - date1;
    })));
  }
  ngOnInit() {
    this.isLoading$ = this.savedCartService.getSavedCartListProcessLoading();
    this.savedCartService.loadSavedCarts();
  }
  goToSavedCartDetails(cart) {
    this.routing.go({
      cxRoute: 'savedCartsDetails',
      params: {
        savedCartId: cart?.code
      }
    });
  }
  openDialog(event, cart) {
    const dialog = this.launchDialogService.openDialog("SAVED_CART" /* LAUNCH_CALLER.SAVED_CART */, this.restoreButton, this.vcr, {
      cart,
      layoutOption: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.RESTORE
    });
    if (dialog) {
      this.subscription.add(dialog.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1)).subscribe());
    }
    event.stopPropagation();
  }
  ngOnDestroy() {
    this.savedCartService.clearSavedCarts();
    this.savedCartService.clearSaveCart();
    this.savedCartService.clearRestoreSavedCart();
    this.subscription?.unsubscribe();
  }
}
SavedCartListComponent.ɵfac = function SavedCartListComponent_Factory(t) {
  return new (t || SavedCartListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService));
};
SavedCartListComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: SavedCartListComponent,
  selectors: [["cx-saved-cart-list"]],
  viewQuery: function SavedCartListComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.restoreButton = _t.first);
    }
  },
  decls: 2,
  vars: 3,
  consts: [[4, "ngIf"], [4, "ngIf", "ngIfElse"], ["loading", ""], ["role", "status"], [1, "cx-saved-cart-list-header"], ["noSavedCarts", ""], [1, "table", "cx-saved-cart-list-table"], [1, "cx-saved-cart-list-thead-mobile"], ["scope", "col"], ["scope", "col", 1, "cx-saved-cart-list-th-qty"], ["scope", "col", 1, "cx-saved-cart-list-th-total"], [3, "click", 4, "ngFor", "ngForOf"], [3, "click"], [1, "cx-saved-cart-list-cart-name"], [1, "cx-table-label-mobile", "cx-saved-cart-list-label"], [1, "cx-saved-cart-list-value", 3, "routerLink"], [1, "cx-saved-cart-list-cart-id"], [1, "cx-saved-cart-list-date-saved"], [1, "cx-saved-cart-list-quantity"], [1, "cx-saved-cart-list-total"], [1, "cx-saved-cart-list-make-cart-active"], [1, "btn", "btn-tertiary", "cx-saved-cart-make-active", 3, "click"], ["element", ""], [1, "cx-saved-cart-list-no-saved-carts", "row"], [1, "col-sm-12", "col-md-6", "col-lg-4"], [1, "cx-spinner"]],
  template: function SavedCartListComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartListComponent_ng_container_0_Template, 5, 4, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.savedCarts$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterLink, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.SpinnerComponent, _angular_common__WEBPACK_IMPORTED_MODULE_9__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.CxDatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartListComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-saved-cart-list',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<ng-container *ngIf=\"savedCarts$ | async as savedCarts\">\n  <ng-container *ngIf=\"!(isLoading$ | async); else loading\">\n    <div role=\"status\" [attr.aria-label]=\"'common.loaded' | cxTranslate\"></div>\n    <div class=\"cx-saved-cart-list-header\">\n      <h2>\n        {{\n          'savedCartList.savedCarts' | cxTranslate: { count: savedCarts.length }\n        }}\n      </h2>\n    </div>\n\n    <ng-container *ngIf=\"savedCarts?.length > 0; else noSavedCarts\">\n      <table class=\"table cx-saved-cart-list-table\">\n        <thead class=\"cx-saved-cart-list-thead-mobile\">\n          <th scope=\"col\">\n            {{ 'savedCartList.cartName' | cxTranslate }}\n          </th>\n          <th scope=\"col\">{{ 'savedCartList.cartId' | cxTranslate }}</th>\n          <th scope=\"col\">{{ 'savedCartList.dateSaved' | cxTranslate }}</th>\n          <th scope=\"col\" class=\"cx-saved-cart-list-th-qty\">\n            {{ 'savedCartList.quantity' | cxTranslate }}\n          </th>\n          <th scope=\"col\" class=\"cx-saved-cart-list-th-total\">\n            {{ 'savedCartList.total' | cxTranslate }}\n          </th>\n          <th scope=\"col\">\n            {{ 'savedCartList.actions' | cxTranslate }}\n          </th>\n        </thead>\n        <tbody>\n          <tr\n            *ngFor=\"let savedCart of savedCarts\"\n            (click)=\"goToSavedCartDetails(savedCart)\"\n          >\n            <td class=\"cx-saved-cart-list-cart-name\">\n              <div class=\"cx-table-label-mobile cx-saved-cart-list-label\">\n                {{ 'savedCartList.cartName' | cxTranslate }}\n              </div>\n              <a\n                [routerLink]=\"\n                  {\n                    cxRoute: 'savedCartsDetails',\n                    params: { savedCartId: savedCart?.code }\n                  } | cxUrl\n                \"\n                class=\"cx-saved-cart-list-value\"\n              >\n                {{ savedCart?.name }}</a\n              >\n            </td>\n            <td class=\"cx-saved-cart-list-cart-id\">\n              <div class=\"cx-table-label-mobile cx-saved-cart-list-label\">\n                {{ 'savedCartList.cartId' | cxTranslate }}\n              </div>\n              <a\n                [routerLink]=\"\n                  {\n                    cxRoute: 'savedCartsDetails',\n                    params: { savedCartId: savedCart?.code }\n                  } | cxUrl\n                \"\n                class=\"cx-saved-cart-list-value\"\n                >{{ savedCart?.code }}</a\n              >\n            </td>\n            <td class=\"cx-saved-cart-list-date-saved\">\n              <div class=\"cx-table-label-mobile cx-saved-cart-list-label\">\n                {{ 'savedCartList.dateSaved' | cxTranslate }}\n              </div>\n              <a\n                [routerLink]=\"\n                  {\n                    cxRoute: 'savedCartsDetails',\n                    params: { savedCartId: savedCart?.code }\n                  } | cxUrl\n                \"\n                class=\"cx-saved-cart-list-value\"\n                >{{ savedCart?.saveTime | cxDate: 'longDate' }}</a\n              >\n            </td>\n            <td class=\"cx-saved-cart-list-quantity\">\n              <div class=\"cx-table-label-mobile cx-saved-cart-list-label\">\n                {{ 'savedCartList.quantity' | cxTranslate }}\n              </div>\n              <a\n                [routerLink]=\"\n                  {\n                    cxRoute: 'savedCartsDetails',\n                    params: { savedCartId: savedCart?.code }\n                  } | cxUrl\n                \"\n                class=\"cx-saved-cart-list-value\"\n              >\n                {{ savedCart?.totalUnitCount }}</a\n              >\n            </td>\n            <td class=\"cx-saved-cart-list-total\">\n              <div class=\"cx-table-label-mobile cx-saved-cart-list-label\">\n                {{ 'savedCartList.total' | cxTranslate }}\n              </div>\n              <a\n                [routerLink]=\"\n                  {\n                    cxRoute: 'savedCartsDetails',\n                    params: { savedCartId: savedCart?.code }\n                  } | cxUrl\n                \"\n                class=\"cx-saved-cart-list-value\"\n              >\n                {{ savedCart?.totalPrice?.formattedValue }}</a\n              >\n            </td>\n            <td class=\"cx-saved-cart-list-make-cart-active\">\n              <div class=\"cx-table-label-mobile cx-saved-cart-list-label\"></div>\n              <button\n                #element\n                class=\"btn btn-tertiary cx-saved-cart-make-active\"\n                (click)=\"openDialog($event, savedCart)\"\n              >\n                {{ 'savedCartList.makeCartActive' | cxTranslate }}\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </ng-container>\n\n    <!-- NO SAVED CART CONTAINER -->\n    <ng-template #noSavedCarts>\n      <div class=\"cx-saved-cart-list-no-saved-carts row\">\n        <div class=\"col-sm-12 col-md-6 col-lg-4\">\n          <div>{{ 'savedCartList.notFound' | cxTranslate }}</div>\n        </div>\n      </div>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #loading>\n    <div class=\"cx-spinner\">\n      <cx-spinner></cx-spinner>\n    </div>\n  </ng-template>\n</ng-container>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService
    }, {
      type: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService
    }];
  }, {
    restoreButton: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['element']
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartListModule {}
SavedCartListModule.ɵfac = function SavedCartListModule_Factory(t) {
  return new (t || SavedCartListModule)();
};
SavedCartListModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartListModule
});
SavedCartListModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
    cmsComponents: {
      AccountSavedCartHistoryComponent: {
        component: SavedCartListComponent,
        guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
      }
    }
  })],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ListNavigationModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.SpinnerModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartListModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ListNavigationModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.SpinnerModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
        cmsComponents: {
          AccountSavedCartHistoryComponent: {
            component: SavedCartListComponent,
            guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthGuard]
          }
        }
      })],
      declarations: [SavedCartListComponent],
      exports: [SavedCartListComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartOrderEntriesContext {
  constructor(importInfoService, userIdService, multiCartService, savedCartService, routingService) {
    this.importInfoService = importInfoService;
    this.userIdService = userIdService;
    this.multiCartService = multiCartService;
    this.savedCartService = savedCartService;
    this.routingService = routingService;
    this.type = _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.OrderEntriesSource.SAVED_CART;
    this.savedCartId$ = this.routingService.getRouterState().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(routingData => routingData.state.params.savedCartId), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.distinctUntilChanged)());
  }
  addEntries(products) {
    return this.add(products).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.switchMap)(cartId => this.importInfoService.getResults(cartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(products.length));
  }
  getEntries() {
    return this.savedCartId$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.switchMap)(cartId => this.savedCartService.get(cartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(cart => cart?.entries ?? []));
  }
  add(products) {
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.combineLatest)([this.userIdService.takeUserId(), this.savedCartId$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(([userId, cartId]) => this.multiCartService.addEntries(userId, cartId, products)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(([_userId, cartId]) => cartId));
  }
}
SavedCartOrderEntriesContext.ɵfac = function SavedCartOrderEntriesContext_Factory(t) {
  return new (t || SavedCartOrderEntriesContext)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_17__.ProductImportInfoService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UserIdService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.MultiCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService));
};
SavedCartOrderEntriesContext.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: SavedCartOrderEntriesContext,
  factory: SavedCartOrderEntriesContext.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartOrderEntriesContext, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_17__.ProductImportInfoService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UserIdService
    }, {
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.MultiCartFacade
    }, {
      type: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class NewSavedCartOrderEntriesContext {
  constructor(importInfoService, userIdService, multiCartService, savedCartService) {
    this.importInfoService = importInfoService;
    this.userIdService = userIdService;
    this.multiCartService = multiCartService;
    this.savedCartService = savedCartService;
    this.type = _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.OrderEntriesSource.NEW_SAVED_CART;
  }
  addEntries(products, savedCartInfo) {
    return this.add(products, savedCartInfo).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(cartId => {
      this.importInfoService.getResults(cartId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(products.length), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.every)(productInfo => productInfo.statusCode === _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.ProductImportStatus.UNKNOWN_IDENTIFIER || productInfo.statusCode === _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.ProductImportStatus.UNKNOWN_ERROR)).subscribe(isInvalid => {
        if (isInvalid) {
          this.savedCartService.deleteSavedCart(cartId);
        }
      });
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.switchMap)(cartId => this.importInfoService.getResults(cartId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(products.length));
  }
  add(products, savedCartInfo) {
    return this.userIdService.takeUserId().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.switchMap)(userId => this.multiCartService.createCart({
      userId,
      extraData: {
        active: false
      }
    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(cart => cart.code), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(cartId => {
      this.savedCartService.saveCart({
        cartId,
        saveCartName: savedCartInfo?.name,
        saveCartDescription: savedCartInfo?.description
      });
      this.savedCartService.loadSavedCarts();
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.observeOn)(rxjs__WEBPACK_IMPORTED_MODULE_20__.queueScheduler), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.debounce)(() => this.savedCartService.getSaveCartProcessLoading().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(loading => !loading))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(cartId => this.multiCartService.addEntries(userId, cartId, products)))));
  }
}
NewSavedCartOrderEntriesContext.ɵfac = function NewSavedCartOrderEntriesContext_Factory(t) {
  return new (t || NewSavedCartOrderEntriesContext)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_17__.ProductImportInfoService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UserIdService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.MultiCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade));
};
NewSavedCartOrderEntriesContext.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NewSavedCartOrderEntriesContext,
  factory: NewSavedCartOrderEntriesContext.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NewSavedCartOrderEntriesContext, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_17__.ProductImportInfoService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UserIdService
    }, {
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.MultiCartFacade
    }, {
      type: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartFormDialogComponent {
  get descriptionsCharacterLeft() {
    return this.descriptionMaxLength - (this.form.get('description')?.value?.length || 0);
  }
  handleClick(event) {
    // Close on click outside the dialog window
    if (event.target.tagName === this.el.nativeElement.tagName) {
      this.close('Cross click');
    }
  }
  constructor(launchDialogService, el, savedCartService, eventService, routingService, globalMessageService) {
    this.launchDialogService = launchDialogService;
    this.el = el;
    this.savedCartService = savedCartService;
    this.eventService = eventService;
    this.routingService = routingService;
    this.globalMessageService = globalMessageService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subscription();
    this.savedCartFormType = _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType;
    this.iconTypes = _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.ICON_TYPE;
    this.descriptionMaxLength = 250;
    this.nameMaxLength = 50;
    this.isCloneSavedCart = false;
    this.focusConfig = {
      trap: true,
      block: true,
      autofocus: 'button',
      focusOnEscape: true
    };
  }
  ngOnInit() {
    this.resetSavedCartStates();
    this.isLoading$ = this.savedCartService.getSaveCartProcessLoading();
    this.isDisableDeleteButton$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.merge)(this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.DeleteCartEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(() => true)), this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.DeleteCartFailEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(() => false)));
    this.isDisableRestoreButton$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.combineLatest)([this.savedCartService.getCloneSavedCartProcessLoading(), this.savedCartService.getRestoreSavedCartProcessLoading()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(([isCloneLoading, isRestoreLoading]) => isCloneLoading || isRestoreLoading));
    this.subscription.add(this.launchDialogService.data$.subscribe(data => {
      this.cart = data.cart;
      this.layoutOption = data.layoutOption;
      this.build(this.cart);
    }));
    this.subscription.add(this.savedCartService.getSaveCartProcessSuccess().subscribe(success => this.onComplete(success)));
    this.subscription.add(this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_6__.DeleteCartSuccessEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(() => true)).subscribe(success => this.onComplete(success)));
    this.subscription.add(this.savedCartService.getRestoreSavedCartProcessSuccess().subscribe(success => this.onComplete(success)));
  }
  saveOrEditCart(cartId) {
    if (this.form.invalid) {
      this.form.markAllAsTouched();
      _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormUtils.deepUpdateValueAndValidity(this.form);
    } else {
      const name = this.form.get('name')?.value;
      // TODO(#12660): Remove default value once backend is updated
      const description = this.form.get('description')?.value || '-';
      switch (this.layoutOption) {
        case _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.SAVE:
          {
            this.savedCartService.saveCart({
              cartId,
              saveCartName: name,
              saveCartDescription: description
            });
            break;
          }
        case _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.EDIT:
          {
            this.savedCartService.editSavedCart({
              cartId,
              saveCartName: name,
              saveCartDescription: description
            });
            break;
          }
      }
    }
  }
  deleteCart(cartId) {
    this.savedCartService.deleteSavedCart(cartId);
  }
  restoreSavedCart(cartId) {
    if (this.isCloneSavedCart) {
      this.savedCartService.cloneSavedCart(cartId, this.form.get('cloneName')?.value);
    } else {
      this.savedCartService.restoreSavedCart(cartId);
    }
  }
  close(reason) {
    this.launchDialogService.closeDialog(reason);
  }
  onComplete(success) {
    if (success) {
      switch (this.layoutOption) {
        case _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.DELETE:
          {
            this.routingService.go({
              cxRoute: 'savedCarts'
            });
            this.globalMessageService.add({
              key: 'savedCartDialog.deleteCartSuccess'
            }, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageType.MSG_TYPE_CONFIRMATION);
            this.close('Successfully deleted a saved cart');
            break;
          }
        case _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.SAVE:
          {
            this.close('Successfully saved cart');
            this.savedCartService.clearSaveCart();
            this.globalMessageService.add({
              key: 'savedCartCartPage.messages.cartSaved',
              params: {
                cartName: this.form.get('name')?.value || this.cart?.code
              }
            }, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageType.MSG_TYPE_CONFIRMATION);
            break;
          }
        case _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.EDIT:
          {
            this.close('Successfully edited saved cart');
            this.savedCartService.clearSaveCart();
            this.globalMessageService.add({
              key: 'savedCartDialog.editCartSuccess',
              params: {
                cartName: this.form.get('name')?.value || this.cart?.code
              }
            }, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageType.MSG_TYPE_CONFIRMATION);
            break;
          }
        case _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFormType.RESTORE:
          {
            this.close('Successfully restored saved cart');
            this.routingService.go({
              cxRoute: 'savedCarts'
            });
            this.resetSavedCartStates();
            break;
          }
      }
    }
  }
  toggleIsCloneSavedCart() {
    return this.isCloneSavedCart = !this.isCloneSavedCart;
  }
  build(cart) {
    const form = new _angular_forms__WEBPACK_IMPORTED_MODULE_23__.UntypedFormGroup({});
    form.setControl('name', new _angular_forms__WEBPACK_IMPORTED_MODULE_23__.UntypedFormControl('', [_angular_forms__WEBPACK_IMPORTED_MODULE_23__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.Validators.maxLength(this.nameMaxLength)]));
    form.setControl('description', new _angular_forms__WEBPACK_IMPORTED_MODULE_23__.UntypedFormControl('', [_angular_forms__WEBPACK_IMPORTED_MODULE_23__.Validators.maxLength(this.descriptionMaxLength)]));
    form.setControl('isCloneSavedCart', new _angular_forms__WEBPACK_IMPORTED_MODULE_23__.UntypedFormControl(''));
    form.setControl('cloneName', new _angular_forms__WEBPACK_IMPORTED_MODULE_23__.UntypedFormControl(''));
    this.form = form;
    this.patchData(cart);
  }
  patchData(item) {
    this.form.patchValue({
      ...item
    });
  }
  resetSavedCartStates() {
    this.savedCartService.clearCloneSavedCart();
    this.savedCartService.clearSaveCart();
    this.savedCartService.clearRestoreSavedCart();
  }
  ngOnDestroy() {
    this.subscription?.unsubscribe();
    this.close('close dialog');
  }
}
SavedCartFormDialogComponent.ɵfac = function SavedCartFormDialogComponent_Factory(t) {
  return new (t || SavedCartFormDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.EventService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService));
};
SavedCartFormDialogComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: SavedCartFormDialogComponent,
  selectors: [["cx-saved-cart-form-dialog"]],
  hostBindings: function SavedCartFormDialogComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SavedCartFormDialogComponent_click_HostBindingHandler($event) {
        return ctx.handleClick($event);
      });
    }
  },
  decls: 1,
  vars: 1,
  consts: [[4, "ngIf"], [1, "cx-saved-cart-form-dialog", 3, "cxFocus", "esc"], [1, "cx-saved-cart-form-container", 3, "formGroup"], [1, "modal-header", "cx-saved-cart-form-header"], [3, "ngSwitch"], [1, "cx-saved-cart-form-title", "modal-title"], [4, "ngSwitchCase"], ["type", "button", 1, "cx-saved-cart-form-close", "close", 3, "disabled", "click"], ["aria-hidden", "true"], [3, "type"], [1, "cx-saved-cart-form-body"], [4, "ngIf", "ngIfElse"], ["saveAndEditCart", ""], [1, "cx-saved-cart-form-subtitle"], [1, "cx-saved-cart-form-row"], [1, "cx-saved-cart-values-container"], [1, "cx-saved-cart-label"], [1, "cx-saved-cart-value"], [1, "cx-saved-cart-form-footer"], ["type", "button", 1, "mr-2", "btn", "btn-secondary", 3, "click"], ["isRestoreSavedCart", ""], [1, "cx-copy-saved-cart-row", "form-check"], ["id", "cx-copy-saved-cart", "type", "checkbox", 1, "cx-copy-saved-cart-input", 3, "checked", "change"], ["for", "cx-copy-saved-cart", 1, "cx-copy-saved-cart-label"], ["class", "cx-copy-saved-cart-row", 4, "ngIf"], [1, "cx-copy-saved-cart-row"], [1, "label-content"], ["formControlName", "cloneName", "type", "text", 1, "form-control", 3, "maxLength", "placeholder"], ["class", "ml-2 btn btn-primary", "type", "button", 3, "disabled", "click", 4, "ngIf"], ["type", "button", 1, "ml-2", "btn", "btn-primary", 3, "disabled", "click"], [1, "cx-saved-carts-label", "label-content"], ["required", "true", "formControlName", "name", "required", "", "type", "text", 1, "form-control", 3, "maxLength"], [3, "control"], [1, "cx-saved-carts-label-optional"], ["formControlName", "description", "rows", "5", 1, "form-control", 3, "maxLength"], [1, "cx-saved-carts-input-hint"], ["type", "button", 1, "btn", "btn-secondary", 3, "disabled", "click"], ["type", "button", 1, "btn", "btn-primary", 3, "disabled", "click"]],
  template: function SavedCartFormDialogComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SavedCartFormDialogComponent_ng_container_0_Template, 19, 16, "ng-container", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.cart);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgSwitch, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgSwitchCase, _angular_forms__WEBPACK_IMPORTED_MODULE_23__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_23__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.RequiredValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.FormControlName, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FocusDirective, _angular_common__WEBPACK_IMPORTED_MODULE_9__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartFormDialogComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-saved-cart-form-dialog',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<ng-container *ngIf=\"cart\">\n  <div\n    [cxFocus]=\"focusConfig\"\n    (esc)=\"close('Escape clicked')\"\n    class=\"cx-saved-cart-form-dialog\"\n  >\n    <form [formGroup]=\"form\" class=\"cx-saved-cart-form-container\">\n      <!-- Modal Header -->\n      <div class=\"modal-header cx-saved-cart-form-header\">\n        <ng-container [ngSwitch]=\"layoutOption\">\n          <div class=\"cx-saved-cart-form-title modal-title\">\n            <ng-container *ngSwitchCase=\"savedCartFormType.EDIT\">\n              {{ 'savedCartDialog.editSavedCart' | cxTranslate }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"savedCartFormType.DELETE\">\n              {{ 'savedCartDialog.deleteSavedCart' | cxTranslate }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"savedCartFormType.SAVE\">\n              {{ 'savedCartDialog.saveForLater' | cxTranslate }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"savedCartFormType.RESTORE\">\n              {{ 'savedCartDialog.restoreSavedCart' | cxTranslate }}\n            </ng-container>\n          </div>\n        </ng-container>\n\n        <button\n          (click)=\"close('Close Save Cart Dialog')\"\n          [disabled]=\"isLoading$ | async\"\n          [attr.aria-label]=\"'common.close' | cxTranslate\"\n          class=\"cx-saved-cart-form-close close\"\n          type=\"button\"\n        >\n          <span aria-hidden=\"true\">\n            <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n          </span>\n        </button>\n      </div>\n\n      <!-- Modal Body -->\n      <div class=\"cx-saved-cart-form-body\">\n        <!-- start DELETE and RESTORE form -->\n        <ng-container\n          *ngIf=\"\n            layoutOption === savedCartFormType.DELETE ||\n              layoutOption === savedCartFormType.RESTORE;\n            else saveAndEditCart\n          \"\n        >\n          <p class=\"cx-saved-cart-form-subtitle\">\n            {{\n              (layoutOption === savedCartFormType.DELETE\n                ? 'savedCartDialog.followingCartDelete'\n                : 'savedCartDialog.followingCartRestore'\n              ) | cxTranslate\n            }}\n          </p>\n\n          <div class=\"cx-saved-cart-form-row\">\n            <div class=\"cx-saved-cart-values-container\">\n              <div class=\"cx-saved-cart-label\">\n                {{ 'savedCartDialog.name' | cxTranslate }}\n              </div>\n              <div class=\"cx-saved-cart-value\">\n                {{ cart?.name }}\n              </div>\n            </div>\n\n            <div class=\"cx-saved-cart-values-container\">\n              <div class=\"cx-saved-cart-label\">\n                {{ 'savedCartDialog.id' | cxTranslate }}\n              </div>\n              <div class=\"cx-saved-cart-value\">\n                {{ cart?.code }}\n              </div>\n            </div>\n\n            <div class=\"cx-saved-cart-values-container\">\n              <div class=\"cx-saved-cart-label\">\n                {{ 'savedCartDialog.description' | cxTranslate }}\n              </div>\n              <div class=\"cx-saved-cart-value\">\n                {{ cart?.description }}\n              </div>\n            </div>\n\n            <div class=\"cx-saved-cart-values-container\">\n              <div class=\"cx-saved-cart-label\">\n                {{ 'savedCartDialog.quantity' | cxTranslate }}\n              </div>\n              <div class=\"cx-saved-cart-value\">\n                {{ cart?.totalUnitCount }}\n              </div>\n            </div>\n\n            <div class=\"cx-saved-cart-values-container\">\n              <div class=\"cx-saved-cart-label\">\n                {{ 'savedCartDialog.total' | cxTranslate }}\n              </div>\n              <div class=\"cx-saved-cart-value\">\n                {{ cart?.totalPriceWithTax?.formattedValue }}\n              </div>\n            </div>\n          </div>\n\n          <ng-container *ngIf=\"layoutOption === savedCartFormType.RESTORE\">\n            <div class=\"cx-copy-saved-cart-row form-check\">\n              <input\n                id=\"cx-copy-saved-cart\"\n                type=\"checkbox\"\n                class=\"cx-copy-saved-cart-input\"\n                [checked]=\"isCloneSavedCart\"\n                (change)=\"toggleIsCloneSavedCart()\"\n              />\n              <label\n                for=\"cx-copy-saved-cart\"\n                class=\"cx-copy-saved-cart-label\"\n                >{{ 'savedCartDialog.keepCopySavedCart' | cxTranslate }}</label\n              >\n            </div>\n\n            <div *ngIf=\"isCloneSavedCart\" class=\"cx-copy-saved-cart-row\">\n              <label>\n                <span class=\"label-content\">\n                  {{ 'savedCartDialog.nameOfCloneCart' | cxTranslate }}\n                </span>\n\n                <input\n                  [maxLength]=\"nameMaxLength\"\n                  class=\"form-control\"\n                  formControlName=\"cloneName\"\n                  type=\"text\"\n                  placeholder=\"{{\n                    'savedCartDialog.defaultCloneCartName'\n                      | cxTranslate: { name: form.get('name')?.value }\n                  }}\"\n                />\n              </label>\n            </div>\n          </ng-container>\n\n          <div class=\"cx-saved-cart-form-footer\">\n            <button\n              (click)=\"close('Close Save Cart Dialog')\"\n              [attr.aria-label]=\"'common.close' | cxTranslate\"\n              class=\"mr-2 btn btn-secondary\"\n              type=\"button\"\n            >\n              {{ 'savedCartDialog.cancel' | cxTranslate }}\n            </button>\n\n            <ng-container\n              *ngIf=\"\n                layoutOption === savedCartFormType.DELETE;\n                else isRestoreSavedCart\n              \"\n            >\n              <button\n                *ngIf=\"cart.code\"\n                (click)=\"deleteCart(cart.code)\"\n                [attr.aria-label]=\"'common.delete' | cxTranslate\"\n                [disabled]=\"isDisableDeleteButton$ | async\"\n                class=\"ml-2 btn btn-primary\"\n                type=\"button\"\n              >\n                {{ 'savedCartDialog.delete' | cxTranslate }}\n              </button>\n            </ng-container>\n\n            <ng-template #isRestoreSavedCart>\n              <button\n                *ngIf=\"cart.code\"\n                (click)=\"restoreSavedCart(cart.code)\"\n                [disabled]=\"isDisableRestoreButton$ | async\"\n                [attr.aria-label]=\"'common.restore' | cxTranslate\"\n                class=\"ml-2 btn btn-primary\"\n                type=\"button\"\n              >\n                {{ 'savedCartDialog.restore' | cxTranslate }}\n              </button>\n            </ng-template>\n          </div>\n        </ng-container>\n        <!-- end DELETE form -->\n\n        <!-- start SAVE and EDIT form -->\n        <ng-template #saveAndEditCart>\n          <ng-container *ngIf=\"layoutOption === savedCartFormType.SAVE\">\n            <p class=\"cx-saved-cart-form-subtitle\">\n              {{ 'savedCartDialog.itemsSavedForLater' | cxTranslate }}\n            </p>\n          </ng-container>\n\n          <div class=\"cx-saved-cart-form-row\">\n            <ng-container>\n              <label>\n                <span class=\"cx-saved-carts-label label-content\">{{\n                  'savedCartDialog.savedCartName' | cxTranslate\n                }}</span>\n                <input\n                  required=\"true\"\n                  [maxLength]=\"nameMaxLength\"\n                  class=\"form-control\"\n                  formControlName=\"name\"\n                  required\n                  type=\"text\"\n                />\n                <cx-form-errors [control]=\"form.get('name')\"></cx-form-errors>\n              </label>\n            </ng-container>\n          </div>\n\n          <div class=\"cx-saved-cart-form-row\">\n            <label>\n              <span class=\"cx-saved-carts-label label-content\"\n                >{{ 'savedCartDialog.savedCartDescription' | cxTranslate }}\n                <span class=\"cx-saved-carts-label-optional\">\n                  ({{ 'savedCartDialog.optional' | cxTranslate }})\n                </span></span\n              >\n              <textarea\n                [maxLength]=\"descriptionMaxLength\"\n                class=\"form-control\"\n                formControlName=\"description\"\n                rows=\"5\"\n              ></textarea>\n              <cx-form-errors\n                [control]=\"form.get('description')\"\n              ></cx-form-errors>\n\n              <p class=\"cx-saved-carts-input-hint\">\n                {{\n                  'savedCartDialog.charactersLeft'\n                    | cxTranslate: { count: descriptionsCharacterLeft }\n                }}\n              </p>\n            </label>\n          </div>\n          <div class=\"cx-saved-cart-form-footer\">\n            <button\n              (click)=\"close('Close Save Cart Dialog')\"\n              [attr.aria-label]=\"'common.close' | cxTranslate\"\n              [disabled]=\"isLoading$ | async\"\n              class=\"btn btn-secondary\"\n              type=\"button\"\n            >\n              {{ 'savedCartDialog.cancel' | cxTranslate }}\n            </button>\n            <button\n              (click)=\"saveOrEditCart(cart?.code)\"\n              [attr.aria-label]=\"'common.save' | cxTranslate\"\n              [disabled]=\"isLoading$ | async\"\n              class=\"btn btn-primary\"\n              type=\"button\"\n            >\n              {{ 'savedCartDialog.save' | cxTranslate }}\n            </button>\n          </div>\n        </ng-template>\n        <!-- end SAVE and EDIT form -->\n      </div>\n    </form>\n  </div>\n</ng-container>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.LaunchDialogService
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.EventService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.RoutingService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService
    }];
  }, {
    handleClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,
      args: ['click', ['$event']]
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const defaultSavedCartFormLayoutConfig = {
  launch: {
    SAVED_CART: {
      inline: true,
      component: SavedCartFormDialogComponent,
      dialogType: _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.DIALOG_TYPE.DIALOG
    }
  }
};

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartFormDialogModule {}
SavedCartFormDialogModule.ɵfac = function SavedCartFormDialogModule_Factory(t) {
  return new (t || SavedCartFormDialogModule)();
};
SavedCartFormDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartFormDialogModule
});
SavedCartFormDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.ReactiveFormsModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.KeyboardFocusModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartFormDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_23__.ReactiveFormsModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.FormErrorsModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.IconModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_8__.KeyboardFocusModule],
      declarations: [SavedCartFormDialogComponent],
      exports: [SavedCartFormDialogComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartComponentsModule {}
SavedCartComponentsModule.ɵfac = function SavedCartComponentsModule_Factory(t) {
  return new (t || SavedCartComponentsModule)();
};
SavedCartComponentsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartComponentsModule
});
SavedCartComponentsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [{
    provide: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartOrderEntriesContextToken,
    useExisting: SavedCartOrderEntriesContext
  }, {
    provide: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.NewSavedCartOrderEntriesContextToken,
    useExisting: NewSavedCartOrderEntriesContext
  }, (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)(defaultSavedCartFormLayoutConfig)],
  imports: [_angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, AddToSavedCartModule, SavedCartFormDialogModule, SavedCartListModule, SavedCartDetailsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartComponentsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule, AddToSavedCartModule, SavedCartFormDialogModule, SavedCartListModule, SavedCartDetailsModule],
      providers: [{
        provide: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.SavedCartOrderEntriesContextToken,
        useExisting: SavedCartOrderEntriesContext
      }, {
        provide: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_15__.NewSavedCartOrderEntriesContextToken,
        useExisting: NewSavedCartOrderEntriesContext
      }, (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)(defaultSavedCartFormLayoutConfig)]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 8611:
/*!**********************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-saved-cart-core.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SAVED_CART_CLONE_CART_PROCESS_ID": () => (/* binding */ SAVED_CART_CLONE_CART_PROCESS_ID),
/* harmony export */   "SAVED_CART_LIST_PROCESS_ID": () => (/* binding */ SAVED_CART_LIST_PROCESS_ID),
/* harmony export */   "SAVED_CART_RESTORE_CART_PROCESS_ID": () => (/* binding */ SAVED_CART_RESTORE_CART_PROCESS_ID),
/* harmony export */   "SAVED_CART_SAVE_CART_PROCESS_ID": () => (/* binding */ SAVED_CART_SAVE_CART_PROCESS_ID),
/* harmony export */   "SavedCartActions": () => (/* binding */ savedCart_action),
/* harmony export */   "SavedCartAdapter": () => (/* binding */ SavedCartAdapter),
/* harmony export */   "SavedCartConnector": () => (/* binding */ SavedCartConnector),
/* harmony export */   "SavedCartCoreModule": () => (/* binding */ SavedCartCoreModule),
/* harmony export */   "SavedCartEventBuilder": () => (/* binding */ SavedCartEventBuilder),
/* harmony export */   "SavedCartEventsModule": () => (/* binding */ SavedCartEventsModule),
/* harmony export */   "SavedCartService": () => (/* binding */ SavedCartService)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngrx/effects */ 5405);
/* harmony import */ var _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @spartacus/cart/saved-cart/root */ 509);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ 4139);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ 8198);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ 6439);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs */ 9193);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ 9095);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ 1745);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ 6942);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ 9151);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/operators */ 7418);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/operators */ 3888);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs/operators */ 5722);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs/operators */ 8759);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs/operators */ 9128);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs/operators */ 3298);
/* harmony import */ var _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @spartacus/cart/base/core */ 7732);
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngrx/store */ 3488);
/* harmony import */ var _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @spartacus/cart/base/root */ 6061);
/* harmony import */ var _spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @spartacus/user/account/root */ 1020);

















/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartAdapter {}

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartConnector {
  constructor(adapter) {
    this.adapter = adapter;
  }
  get(userId, cartId) {
    return this.adapter.load(userId, cartId);
  }
  getList(userId) {
    return this.adapter.loadList(userId);
  }
  restoreSavedCart(userId, cartId) {
    return this.adapter.restoreSavedCart(userId, cartId);
  }
  cloneSavedCart(userId, cartId, saveCartName) {
    return this.adapter.cloneSavedCart(userId, cartId, saveCartName);
  }
}
SavedCartConnector.ɵfac = function SavedCartConnector_Factory(t) {
  return new (t || SavedCartConnector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SavedCartAdapter));
};
SavedCartConnector.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: SavedCartConnector,
  factory: SavedCartConnector.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartConnector, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: SavedCartAdapter
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const SAVED_CART_LIST_PROCESS_ID = 'saved-cart-list';
const SAVED_CART_RESTORE_CART_PROCESS_ID = 'saved-cart-restore-cart';
const SAVED_CART_SAVE_CART_PROCESS_ID = 'saved-cart-save-cart';
const SAVED_CART_CLONE_CART_PROCESS_ID = 'saved-cart-clone-cart';

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const LOAD_SAVED_CART = '[Saved Cart] Load Saved Cart';
const LOAD_SAVED_CART_SUCCESS = '[Saved Cart] Load Saved Cart Success';
const LOAD_SAVED_CART_FAIL = '[Saved Cart] Load Saved Cart Fail';
const LOAD_SAVED_CARTS = '[Saved Cart] Load Saved Carts';
const LOAD_SAVED_CARTS_SUCCESS = '[Saved Cart] Load Saved Carts Success';
const LOAD_SAVED_CARTS_FAIL = '[Saved Cart] Load Saved Carts Fail';
const CLEAR_SAVED_CARTS = '[Saved Cart] Clear Saved Carts';
const RESTORE_SAVED_CART = '[Saved Cart] Restore Saved Cart';
const RESTORE_SAVED_CART_SUCCESS = '[Saved Cart] Restore Saved Cart Success';
const RESTORE_SAVED_CART_FAIL = '[Saved Cart] Restore Saved Cart Fail';
const CLEAR_RESTORE_SAVED_CART = '[Saved Cart] Clear Restore Saved Cart';
const SAVE_CART = '[Saved Cart] Save Cart';
const SAVE_CART_SUCCESS = '[Saved Cart] Save Cart Success';
const SAVE_CART_FAIL = '[Saved Cart] Save Cart Fail';
const CLEAR_SAVE_CART = '[Saved Cart] Clear Save Cart';
const EDIT_SAVED_CART = '[Saved Cart] Edit Saved Cart';
const EDIT_SAVED_CART_SUCCESS = '[Saved Cart] Edit Saved Cart Success';
const EDIT_SAVED_CART_FAIL = '[Saved Cart] Edit Saved Cart Fail';
const CLONE_SAVED_CART = '[Saved Cart] Clone Saved Cart';
const CLONE_SAVED_CART_SUCCESS = '[Saved Cart] Clone Saved Cart Success';
const CLONE_SAVED_CART_FAIL = '[Saved Cart] Clone Saved Cart Fail';
const CLEAR_CLONE_SAVED_CART = '[Saved Cart] Clear Clone Saved Cart';
class LoadSavedCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoadAction {
  constructor(payload) {
    super(_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.MULTI_CART_DATA, payload.cartId);
    this.payload = payload;
    this.type = LOAD_SAVED_CART;
  }
}
class LoadSavedCartSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntitySuccessAction {
  constructor(payload) {
    super(_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.MULTI_CART_DATA, payload.cartId);
    this.payload = payload;
    this.type = LOAD_SAVED_CART_SUCCESS;
  }
}
class LoadSavedCartFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityFailAction {
  constructor(payload) {
    super(_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.MULTI_CART_DATA, payload.cartId, payload?.error);
    this.payload = payload;
    this.type = LOAD_SAVED_CART_FAIL;
  }
}
class LoadSavedCarts extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoadAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_LIST_PROCESS_ID);
    this.payload = payload;
    this.type = LOAD_SAVED_CARTS;
  }
}
class LoadSavedCartsSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntitySuccessAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_LIST_PROCESS_ID);
    this.payload = payload;
    this.type = LOAD_SAVED_CARTS_SUCCESS;
  }
}
class LoadSavedCartsFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityFailAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_LIST_PROCESS_ID, payload.error);
    this.payload = payload;
    this.type = LOAD_SAVED_CARTS_FAIL;
  }
}
class ClearSavedCarts extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoaderResetAction {
  constructor() {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_LIST_PROCESS_ID);
    this.type = CLEAR_SAVED_CARTS;
  }
}
class RestoreSavedCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoadAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_RESTORE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = RESTORE_SAVED_CART;
  }
}
class RestoreSavedCartSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntitySuccessAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_RESTORE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = RESTORE_SAVED_CART_SUCCESS;
  }
}
class RestoreSavedCartFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityFailAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_RESTORE_CART_PROCESS_ID, payload.error);
    this.payload = payload;
    this.type = RESTORE_SAVED_CART_FAIL;
  }
}
class ClearRestoreSavedCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoaderResetAction {
  constructor() {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_RESTORE_CART_PROCESS_ID);
    this.type = CLEAR_RESTORE_SAVED_CART;
  }
}
class SaveCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoadAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = SAVE_CART;
  }
}
class SaveCartSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntitySuccessAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = SAVE_CART_SUCCESS;
  }
}
class SaveCartFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityFailAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID, payload.error);
    this.payload = payload;
    this.type = SAVE_CART_FAIL;
  }
}
class ClearSaveCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoaderResetAction {
  constructor() {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID);
    this.type = CLEAR_SAVE_CART;
  }
}
class EditSavedCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoadAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = EDIT_SAVED_CART;
  }
}
class EditSavedCartSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntitySuccessAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = EDIT_SAVED_CART_SUCCESS;
  }
}
class EditSavedCartFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityFailAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_SAVE_CART_PROCESS_ID, payload.error);
    this.payload = payload;
    this.type = EDIT_SAVED_CART_FAIL;
  }
}
class CloneSavedCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoadAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_CLONE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = CLONE_SAVED_CART;
  }
}
class CloneSavedCartSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntitySuccessAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_CLONE_CART_PROCESS_ID);
    this.payload = payload;
    this.type = CLONE_SAVED_CART_SUCCESS;
  }
}
class CloneSavedCartFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityFailAction {
  constructor(payload) {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_CLONE_CART_PROCESS_ID, payload.error);
    this.payload = payload;
    this.type = CLONE_SAVED_CART_FAIL;
  }
}
class ClearCloneSavedCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateUtils.EntityLoaderResetAction {
  constructor() {
    super(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.PROCESS_FEATURE, SAVED_CART_CLONE_CART_PROCESS_ID);
    this.type = CLEAR_CLONE_SAVED_CART;
  }
}
var savedCart_action = /*#__PURE__*/Object.freeze({
  __proto__: null,
  CLEAR_CLONE_SAVED_CART: CLEAR_CLONE_SAVED_CART,
  CLEAR_RESTORE_SAVED_CART: CLEAR_RESTORE_SAVED_CART,
  CLEAR_SAVED_CARTS: CLEAR_SAVED_CARTS,
  CLEAR_SAVE_CART: CLEAR_SAVE_CART,
  CLONE_SAVED_CART: CLONE_SAVED_CART,
  CLONE_SAVED_CART_FAIL: CLONE_SAVED_CART_FAIL,
  CLONE_SAVED_CART_SUCCESS: CLONE_SAVED_CART_SUCCESS,
  ClearCloneSavedCart: ClearCloneSavedCart,
  ClearRestoreSavedCart: ClearRestoreSavedCart,
  ClearSaveCart: ClearSaveCart,
  ClearSavedCarts: ClearSavedCarts,
  CloneSavedCart: CloneSavedCart,
  CloneSavedCartFail: CloneSavedCartFail,
  CloneSavedCartSuccess: CloneSavedCartSuccess,
  EDIT_SAVED_CART: EDIT_SAVED_CART,
  EDIT_SAVED_CART_FAIL: EDIT_SAVED_CART_FAIL,
  EDIT_SAVED_CART_SUCCESS: EDIT_SAVED_CART_SUCCESS,
  EditSavedCart: EditSavedCart,
  EditSavedCartFail: EditSavedCartFail,
  EditSavedCartSuccess: EditSavedCartSuccess,
  LOAD_SAVED_CART: LOAD_SAVED_CART,
  LOAD_SAVED_CARTS: LOAD_SAVED_CARTS,
  LOAD_SAVED_CARTS_FAIL: LOAD_SAVED_CARTS_FAIL,
  LOAD_SAVED_CARTS_SUCCESS: LOAD_SAVED_CARTS_SUCCESS,
  LOAD_SAVED_CART_FAIL: LOAD_SAVED_CART_FAIL,
  LOAD_SAVED_CART_SUCCESS: LOAD_SAVED_CART_SUCCESS,
  LoadSavedCart: LoadSavedCart,
  LoadSavedCartFail: LoadSavedCartFail,
  LoadSavedCartSuccess: LoadSavedCartSuccess,
  LoadSavedCarts: LoadSavedCarts,
  LoadSavedCartsFail: LoadSavedCartsFail,
  LoadSavedCartsSuccess: LoadSavedCartsSuccess,
  RESTORE_SAVED_CART: RESTORE_SAVED_CART,
  RESTORE_SAVED_CART_FAIL: RESTORE_SAVED_CART_FAIL,
  RESTORE_SAVED_CART_SUCCESS: RESTORE_SAVED_CART_SUCCESS,
  RestoreSavedCart: RestoreSavedCart,
  RestoreSavedCartFail: RestoreSavedCartFail,
  RestoreSavedCartSuccess: RestoreSavedCartSuccess,
  SAVE_CART: SAVE_CART,
  SAVE_CART_FAIL: SAVE_CART_FAIL,
  SAVE_CART_SUCCESS: SAVE_CART_SUCCESS,
  SaveCart: SaveCart,
  SaveCartFail: SaveCartFail,
  SaveCartSuccess: SaveCartSuccess
});

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartEventBuilder {
  constructor(actionsSubject, eventService, stateEventService, multiCartService) {
    this.actionsSubject = actionsSubject;
    this.eventService = eventService;
    this.stateEventService = stateEventService;
    this.multiCartService = multiCartService;
    this.register();
  }
  /**
   * Registers events for the saved cart
   */
  register() {
    this.registerRestoreSavedCartEvents();
    this.registerSaveCartEvents();
    this.registerEditSavedCartEvents();
    this.registerCloneSavedCartEvents();
  }
  /**
   * Registers restore saved cart events
   */
  registerRestoreSavedCartEvents() {
    this.buildRestoreSavedCartEvents({
      action: RESTORE_SAVED_CART,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.RestoreSavedCartEvent
    });
    this.buildRestoreSavedCartEvents({
      action: RESTORE_SAVED_CART_SUCCESS,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.RestoreSavedCartSuccessEvent
    });
    this.buildRestoreSavedCartEvents({
      action: RESTORE_SAVED_CART_FAIL,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.RestoreSavedCartFailEvent
    });
  }
  /**
   * Registers save cart events
   */
  registerSaveCartEvents() {
    this.buildSaveCartSuccessEvent({
      action: SAVE_CART_SUCCESS,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.SaveCartSuccessEvent
    });
    this.stateEventService.register({
      action: SAVE_CART_FAIL,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.SaveCartFailEvent,
      factory: action => (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.createFrom)(_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.SaveCartFailEvent, {
        ...action.payload,
        cartCode: action.payload.cartId
      })
    });
    this.stateEventService.register({
      action: SAVE_CART,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.SaveCartEvent,
      factory: action => {
        return (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.createFrom)(_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.SaveCartEvent, {
          ...action.payload,
          cartCode: action.payload.cartId
        });
      }
    });
  }
  /**
   * Registers edit saved cart events
   */
  registerEditSavedCartEvents() {
    this.buildSaveCartSuccessEvent({
      action: EDIT_SAVED_CART_SUCCESS,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.EditSavedCartSuccessEvent
    });
    this.stateEventService.register({
      action: EDIT_SAVED_CART_FAIL,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.EditSavedCartFailEvent,
      factory: action => (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.createFrom)(_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.EditSavedCartFailEvent, {
        ...action.payload,
        cartCode: action.payload.cartId
      })
    });
    this.stateEventService.register({
      action: EDIT_SAVED_CART,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.EditSavedCartEvent,
      factory: action => {
        return (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.createFrom)(_spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.EditSavedCartEvent, {
          ...action.payload,
          cartCode: action.payload.cartId
        });
      }
    });
  }
  /**
   * Registers clone saved cart events
   */
  registerCloneSavedCartEvents() {
    this.buildRestoreSavedCartEvents({
      action: CLONE_SAVED_CART,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.CloneSavedCartEvent
    });
    this.buildRestoreSavedCartEvents({
      action: CLONE_SAVED_CART_SUCCESS,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.CloneSavedCartSuccessEvent
    });
    this.buildRestoreSavedCartEvents({
      action: CLONE_SAVED_CART_FAIL,
      event: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.CloneSavedCartFailEvent
    });
  }
  /**
   * Builds the restore save cart events from the action and cart
   *
   * @param mapping mapping declaration from `action` string type to `event` class type
   * @param saveTime should the saveTime attribute be added to the event
   * @returns
   */
  buildRestoreSavedCartEvents(mapping) {
    const eventStream$ = this.getAction(mapping.action).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(action => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(action).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.withLatestFrom)(this.multiCartService.getCart(action.payload.cartId)))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(([action, cart]) => (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.createFrom)(mapping.event, {
      ...action.payload,
      cartCode: cart.code,
      saveCartName: cart.name,
      saveCartDescription: cart.description,
      ...(cart.saveTime && {
        saveTime: cart.saveTime
      })
    })));
    return this.eventService.register(mapping.event, eventStream$);
  }
  /**
   * Builds save cart event by adding the saveTime from the cart
   *
   * @param mapping mapping declaration from `action` string type to `event` class type
   * @returns events register function
   */
  buildSaveCartSuccessEvent(mapping) {
    const eventStream$ = this.getAction(mapping.action).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(action => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(action).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.withLatestFrom)(this.multiCartService.getCart(action.payload.cartId)))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)(([, cart]) => Boolean(cart)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(([action, cart]) => (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.createFrom)(mapping.event, {
      ...action.payload,
      cartCode: cart.code,
      saveTime: cart.saveTime
    })));
    return this.eventService.register(mapping.event, eventStream$);
  }
  /**
   * Returns a stream of actions only of a given type(s)
   *
   * @param actionType type(s) of actions
   */
  getAction(actionType) {
    return this.actionsSubject.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(...[].concat(actionType)));
  }
}
SavedCartEventBuilder.ɵfac = function SavedCartEventBuilder_Factory(t) {
  return new (t || SavedCartEventBuilder)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.ActionsSubject), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.EventService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateEventService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.MultiCartFacade));
};
SavedCartEventBuilder.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: SavedCartEventBuilder,
  factory: SavedCartEventBuilder.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartEventBuilder, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _ngrx_store__WEBPACK_IMPORTED_MODULE_10__.ActionsSubject
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.EventService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.StateEventService
    }, {
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.MultiCartFacade
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartEventsModule {
  constructor(_savedCartEventBuilder) {
    // Intentional empty constructor
  }
}
SavedCartEventsModule.ɵfac = function SavedCartEventsModule_Factory(t) {
  return new (t || SavedCartEventsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SavedCartEventBuilder));
};
SavedCartEventsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartEventsModule
});
SavedCartEventsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartEventsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{}]
  }], function () {
    return [{
      type: SavedCartEventBuilder
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

class SavedCartEffects {
  constructor(actions$, savedCartConnector, activeCartService, globalMessageService, cartConnector) {
    this.actions$ = actions$;
    this.savedCartConnector = savedCartConnector;
    this.activeCartService = activeCartService;
    this.globalMessageService = globalMessageService;
    this.cartConnector = cartConnector;
    this.logger = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.LoggerService);
    this.loadSavedCart$ = (0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.createEffect)(() => this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(LOAD_SAVED_CART), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(action => action.payload), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(({
      userId,
      cartId
    }) => this.savedCartConnector.get(userId, cartId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(savedCart => {
      return [new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartActions.LoadCartSuccess({
        userId,
        cartId,
        cart: savedCart
      }), new LoadSavedCartSuccess({
        userId,
        cartId
      })];
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(new LoadSavedCartFail({
      userId,
      cartId,
      error: (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger)
    })))))));
    this.loadSavedCarts$ = (0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.createEffect)(() => this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(LOAD_SAVED_CARTS), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(action => action.payload), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(({
      userId
    }) => this.savedCartConnector.getList(userId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(savedCarts => {
      return [new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartActions.LoadCartsSuccess(savedCarts), new LoadSavedCartsSuccess({
        userId
      })];
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(new LoadSavedCartsFail({
      userId,
      error: (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger)
    })))))));
    this.restoreSavedCart$ = (0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.createEffect)(() => this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(RESTORE_SAVED_CART), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(action => action.payload), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.withLatestFrom)(this.activeCartService.getActive()), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(([{
      userId,
      cartId
    }, activeCart]) => {
      const actions = [];
      if ((activeCart?.entries ?? []).length > 0) {
        if (activeCart.code) {
          /**
           * Instead of calling the SaveCartAction, we are calling the edit saved cart
           * because we do not want to clear the state when we swap carts between active and saved cart
           */
          actions.push(new EditSavedCart({
            userId,
            cartId: activeCart.code,
            saveCartName: '',
            saveCartDescription: ''
          }));
        }
      }
      return this.savedCartConnector.restoreSavedCart(userId, cartId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(savedCart => {
        this.globalMessageService.add({
          key: (activeCart?.entries ?? []).length > 0 ? 'savedCartList.swapCartWithActiveCart' : 'savedCartList.swapCartNoActiveCart',
          params: {
            cartName: cartId,
            previousCartName: activeCart.code
          }
        }, _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.GlobalMessageType.MSG_TYPE_CONFIRMATION);
        return [...actions, new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartActions.LoadCartSuccess({
          userId,
          cartId,
          cart: savedCart,
          extraData: {
            active: true
          }
        }), new RestoreSavedCartSuccess({
          userId,
          cartId
        })];
      }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(new RestoreSavedCartFail({
        userId,
        cartId,
        error: (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger)
      }))));
    })));
    this.saveCart$ = (0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.createEffect)(() => this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(SAVE_CART), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(action => action.payload), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(({
      userId,
      cartId,
      saveCartName,
      saveCartDescription
    }) => {
      return this.cartConnector.save(userId, cartId, saveCartName, saveCartDescription).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(savedCart => {
        return [new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartActions.ClearCartState(), new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartActions.LoadCartSuccess({
          userId,
          cartId,
          cart: savedCart
        }), new SaveCartSuccess({
          userId,
          cartId,
          saveCartName,
          saveCartDescription
        })];
      }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(new SaveCartFail({
        userId,
        cartId,
        saveCartName,
        saveCartDescription,
        error: (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger)
      }))));
    })));
    this.editSavedCart$ = (0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.createEffect)(() => this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(EDIT_SAVED_CART), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(action => action.payload), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(({
      userId,
      cartId,
      saveCartName,
      saveCartDescription
    }) => {
      return this.cartConnector.save(userId, cartId, saveCartName, saveCartDescription).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(savedCart => {
        return [new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartActions.LoadCartSuccess({
          userId,
          cartId,
          cart: savedCart
        }), new EditSavedCartSuccess({
          userId,
          cartId,
          saveCartName,
          saveCartDescription
        })];
      }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(new EditSavedCartFail({
        userId,
        cartId,
        saveCartName,
        saveCartDescription,
        error: (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger)
      }))));
    })));
    this.cloneSavedCart$ = (0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.createEffect)(() => this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.ofType)(CLONE_SAVED_CART), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(action => action.payload), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(({
      userId,
      cartId,
      saveCartName
    }) => {
      return this.savedCartConnector.cloneSavedCart(userId, cartId, saveCartName).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(_ => {
        return [new CloneSavedCartSuccess({
          userId,
          cartId,
          saveCartName
        }), new RestoreSavedCart({
          userId,
          cartId
        }), new LoadSavedCarts({
          userId
        })];
      }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(new CloneSavedCartFail({
        userId,
        cartId,
        saveCartName,
        error: (0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger)
      }))));
    })));
  }
}
SavedCartEffects.ɵfac = function SavedCartEffects_Factory(t) {
  return new (t || SavedCartEffects)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.Actions), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SavedCartConnector), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.ActiveCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.GlobalMessageService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartConnector));
};
SavedCartEffects.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: SavedCartEffects,
  factory: SavedCartEffects.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartEffects, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.Actions
    }, {
      type: SavedCartConnector
    }, {
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.ActiveCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.GlobalMessageService
    }, {
      type: _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.CartConnector
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const effects = [SavedCartEffects];

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartStoreModule {}
SavedCartStoreModule.ɵfac = function SavedCartStoreModule_Factory(t) {
  return new (t || SavedCartStoreModule)();
};
SavedCartStoreModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartStoreModule
});
SavedCartStoreModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.EffectsModule.forFeature(effects)]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartStoreModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_ngrx_effects__WEBPACK_IMPORTED_MODULE_9__.EffectsModule.forFeature(effects)]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartService {
  constructor(store, userIdService, userAccountFacade, multiCartService, eventService) {
    this.store = store;
    this.userIdService = userIdService;
    this.userAccountFacade = userAccountFacade;
    this.multiCartService = multiCartService;
    this.eventService = eventService;
  }
  /**
   * Loads a single saved cart
   */
  loadSavedCart(cartId) {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.store.dispatch(new LoadSavedCart({
          userId,
          cartId
        }));
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Gets a single saved cart
   * it won't emit if the delete saved cart event gets triggered to avoid race condition between actions
   *
   * @param cartId
   * @returns observable with cart
   */
  get(cartId) {
    return this.getSavedCart(cartId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.observeOn)(rxjs__WEBPACK_IMPORTED_MODULE_14__.queueScheduler), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.withLatestFrom)(this.eventService.get(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.DeleteCartEvent).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.startWith)({}))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)(([state, _event]) => !!state), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.tap)(([state, event]) => {
      if (Object.keys(event).length > 0) {
        return rxjs__WEBPACK_IMPORTED_MODULE_17__.EMPTY;
      }
      if (!(state.loading || state.success || state.error)) {
        this.loadSavedCart(cartId);
      }
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)(([state]) => state.success || !!state.error), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(([state]) => state.value));
  }
  /**
   * Gets the selected cart state
   *
   * @param cartId
   * @returns observable of selected cart with loader state
   */
  getSavedCart(cartId) {
    return this.multiCartService.getCartEntity(cartId);
  }
  /**
   * Returns true when there are no operations on that in progress and it is not currently loading
   *
   * @param cartId
   */
  isStable(cartId) {
    return this.multiCartService.isStable(cartId);
  }
  /**
   * Loads a list of saved carts
   */
  loadSavedCarts() {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.store.dispatch(new LoadSavedCarts({
          userId
        }));
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Gets a list of saved carts
   *
   * @returns observable with list of saved carts
   */
  getList() {
    return this.getSavedCartList().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.withLatestFrom)(this.getSavedCartListProcess()), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.tap)(([_, state]) => {
      if (!(state.loading || state.success || state.error)) {
        this.loadSavedCarts();
      }
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(([savedCartList, _]) => savedCartList), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.shareReplay)({
      bufferSize: 1,
      refCount: true
    }));
  }
  /**
   * Gets a list of saved carts from all carts in the state
   * by filtering through the carts that are not wishlist and not saved cart
   *
   * @returns observable with list of saved carts
   */
  getSavedCartList() {
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_19__.combineLatest)([this.multiCartService.getCarts(), this.userAccountFacade.get()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.map)(([carts, user]) => carts.filter(cart => (user?.customerId !== undefined ? cart?.name !== `wishlist${user?.customerId}` : true) && !(0,_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_2__.isSelectiveCart)(cart?.code) && cart?.saveTime)));
  }
  /**
   * Gets the loading flag of getting a list of saved carts
   *
   * @returns observable with boolean of the loading state
   */
  getSavedCartListProcessLoading() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessLoadingFactory(SAVED_CART_LIST_PROCESS_ID)));
  }
  /**
   * Gets the loading state of getting a list of saved carts
   *
   * @returns observable with boolean of the loader state
   */
  getSavedCartListProcess() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessStateFactory(SAVED_CART_LIST_PROCESS_ID)));
  }
  /**
   * Clears the process state of performing a saved cart
   */
  clearSavedCarts() {
    this.store.dispatch(new ClearSavedCarts());
  }
  /**
   * Triggers a restore saved cart
   *
   * @param cartId
   */
  restoreSavedCart(cartId) {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.store.dispatch(new RestoreSavedCart({
          userId,
          cartId
        }));
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Gets the loading state of restoring saved cart
   *
   * @returns observable with boolean of the loading state
   */
  getRestoreSavedCartProcessLoading() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessLoadingFactory(SAVED_CART_RESTORE_CART_PROCESS_ID)));
  }
  /**
   * Gets the success state of restoring saved cart
   *
   * @returns observable with boolean of the success state
   */
  getRestoreSavedCartProcessSuccess() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessSuccessFactory(SAVED_CART_RESTORE_CART_PROCESS_ID)));
  }
  /**
   * Gets the error state of restoring saved cart
   *
   * @returns observable with boolean of the error state
   */
  getRestoreSavedCartProcessError() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessErrorFactory(SAVED_CART_RESTORE_CART_PROCESS_ID)));
  }
  /**
   * Clears the process state of performing a restore saved cart
   */
  clearRestoreSavedCart() {
    this.store.dispatch(new ClearRestoreSavedCart());
  }
  /**
   * Triggers delete saved cart
   * @param cartId
   */
  deleteSavedCart(cartId) {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.multiCartService.deleteCart(cartId, userId);
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Triggers a saved cart
   *
   */
  saveCart({
    cartId,
    saveCartName,
    saveCartDescription
  }) {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.store.dispatch(new SaveCart({
          userId,
          cartId,
          saveCartName,
          saveCartDescription
        }));
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Gets the loading state of saving a cart
   *
   * @returns observable with boolean of the loading state
   */
  getSaveCartProcessLoading() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessLoadingFactory(SAVED_CART_SAVE_CART_PROCESS_ID)));
  }
  /**
   * Gets the success state of saving a cart
   *
   * @returns observable with boolean of the success state
   */
  getSaveCartProcessSuccess() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessSuccessFactory(SAVED_CART_SAVE_CART_PROCESS_ID)));
  }
  /**
   * Gets the error state of saving a cart
   *
   * @returns observable with boolean of the error state
   */
  getSaveCartProcessError() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessErrorFactory(SAVED_CART_SAVE_CART_PROCESS_ID)));
  }
  /**
   * Clears the process state of performing a save cart
   */
  clearSaveCart() {
    this.store.dispatch(new ClearSaveCart());
  }
  /**
   * Triggers an edit saved cart
   *
   */
  editSavedCart({
    cartId,
    saveCartName,
    saveCartDescription
  }) {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.store.dispatch(new EditSavedCart({
          userId,
          cartId,
          saveCartName,
          saveCartDescription
        }));
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Triggers a clone saved cart
   *
   * @param cartId
   */
  cloneSavedCart(cartId, saveCartName) {
    this.userIdService.takeUserId(true).subscribe({
      next: userId => {
        return this.store.dispatch(new CloneSavedCart({
          userId,
          cartId,
          saveCartName
        }));
      },
      error: () => {
        // TODO: for future releases, refactor this part to thrown errors
      }
    });
  }
  /**
   * Gets the loading state of cloning a saved cart
   *
   * @returns observable with boolean of the loading state
   */
  getCloneSavedCartProcessLoading() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessLoadingFactory(SAVED_CART_CLONE_CART_PROCESS_ID)));
  }
  /**
   * Gets the success state of cloning a saved cart
   *
   * @returns observable with boolean of the success state
   */
  getCloneSavedCartProcessSuccess() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessSuccessFactory(SAVED_CART_CLONE_CART_PROCESS_ID)));
  }
  /**
   * Gets the error state of cloning a saved cart
   *
   * @returns observable with boolean of the error state
   */
  getCloneSavedCartProcessError() {
    return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.select)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ProcessSelectors.getProcessErrorFactory(SAVED_CART_CLONE_CART_PROCESS_ID)));
  }
  /**
   * Clears the process state of cloning a saved cart
   */
  clearCloneSavedCart() {
    this.store.dispatch(new ClearCloneSavedCart());
  }
}
SavedCartService.ɵfac = function SavedCartService_Factory(t) {
  return new (t || SavedCartService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Store), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.UserIdService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_21__.UserAccountFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.MultiCartFacade), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.EventService));
};
SavedCartService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: SavedCartService,
  factory: SavedCartService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Store
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.UserIdService
    }, {
      type: _spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_21__.UserAccountFacade
    }, {
      type: _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_11__.MultiCartFacade
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.EventService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const facadeProviders = [SavedCartService, {
  provide: _spartacus_cart_saved_cart_root__WEBPACK_IMPORTED_MODULE_3__.SavedCartFacade,
  useExisting: SavedCartService
}];

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartCoreModule {}
SavedCartCoreModule.ɵfac = function SavedCartCoreModule_Factory(t) {
  return new (t || SavedCartCoreModule)();
};
SavedCartCoreModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartCoreModule
});
SavedCartCoreModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [SavedCartConnector, ...facadeProviders],
  imports: [SavedCartStoreModule, SavedCartEventsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartCoreModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [SavedCartStoreModule, SavedCartEventsModule],
      providers: [SavedCartConnector, ...facadeProviders]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 4200:
/*!*********************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-saved-cart-occ.mjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OccSavedCartAdapter": () => (/* binding */ OccSavedCartAdapter),
/* harmony export */   "SavedCartOccModule": () => (/* binding */ SavedCartOccModule)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @spartacus/cart/base/root */ 6061);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ 6942);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ 8987);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 4666);
/* harmony import */ var _spartacus_cart_saved_cart_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @spartacus/cart/saved-cart/core */ 8611);









class OccSavedCartAdapter {
  constructor(http, occEndpoints, converter) {
    this.http = http;
    this.occEndpoints = occEndpoints;
    this.converter = converter;
  }
  load(userId, cartId) {
    return this.http.get(this.getSavedCartEndpoint(userId, cartId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.map)(cartResponse => cartResponse.savedCartData), this.converter.pipeable(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_1__.CART_NORMALIZER));
  }
  loadList(userId) {
    return this.http.get(this.getSavedCartListEndpoint(userId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.map)(cartList => cartList.carts ?? []), this.converter.pipeableMany(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_1__.CART_NORMALIZER));
  }
  restoreSavedCart(userId, cartId) {
    return this.http.patch(this.getRestoreSavedCartEndpoint(userId, cartId), cartId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.map)(cartResponse => cartResponse.savedCartData), this.converter.pipeable(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_1__.CART_NORMALIZER));
  }
  cloneSavedCart(userId, cartId, saveCartName) {
    return this.http.post(this.getCloneSavedCartEndpoint(userId, cartId, saveCartName), cartId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.map)(cartResponse => cartResponse.savedCartData), this.converter.pipeable(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_1__.CART_NORMALIZER));
  }
  getSavedCartEndpoint(userId, cartId) {
    return this.occEndpoints.buildUrl('savedCart', {
      urlParams: {
        userId,
        cartId
      }
    });
  }
  getSavedCartListEndpoint(userId) {
    return this.occEndpoints.buildUrl('savedCarts', {
      urlParams: {
        userId
      }
    });
  }
  getRestoreSavedCartEndpoint(userId, cartId) {
    return this.occEndpoints.buildUrl('restoreSavedCart', {
      urlParams: {
        userId,
        cartId
      }
    });
  }
  getCloneSavedCartEndpoint(userId, cartId, saveCartName) {
    return this.occEndpoints.buildUrl('cloneSavedCart', {
      urlParams: {
        userId,
        cartId,
        saveCartName
      }
    });
  }
}
OccSavedCartAdapter.ɵfac = function OccSavedCartAdapter_Factory(t) {
  return new (t || OccSavedCartAdapter)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.HttpClient), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.OccEndpointsService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.ConverterService));
};
OccSavedCartAdapter.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({
  token: OccSavedCartAdapter,
  factory: OccSavedCartAdapter.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](OccSavedCartAdapter, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable
  }], function () {
    return [{
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.HttpClient
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.OccEndpointsService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.ConverterService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const defaultOccSavedCartConfig = {
  backend: {
    occ: {
      endpoints: {
        savedCarts: '/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)',
        savedCart: '/users/${userId}/carts/${cartId}/savedcart',
        restoreSavedCart: '/users/${userId}/carts/${cartId}/restoresavedcart',
        cloneSavedCart: '/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}'
      }
    }
  }
};

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartOccModule {}
SavedCartOccModule.ɵfac = function SavedCartOccModule_Factory(t) {
  return new (t || SavedCartOccModule)();
};
SavedCartOccModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({
  type: SavedCartOccModule
});
SavedCartOccModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.provideDefaultConfig)(defaultOccSavedCartConfig), {
    provide: _spartacus_cart_saved_cart_core__WEBPACK_IMPORTED_MODULE_5__.SavedCartAdapter,
    useClass: OccSavedCartAdapter
  }],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](SavedCartOccModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.provideDefaultConfig)(defaultOccSavedCartConfig), {
        provide: _spartacus_cart_saved_cart_core__WEBPACK_IMPORTED_MODULE_5__.SavedCartAdapter,
        useClass: OccSavedCartAdapter
      }]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 6027:
/*!*****************************************************************************!*\
  !*** ./node_modules/@spartacus/cart/fesm2020/spartacus-cart-saved-cart.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SavedCartModule": () => (/* binding */ SavedCartModule)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_cart_saved_cart_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @spartacus/cart/saved-cart/components */ 3831);
/* harmony import */ var _spartacus_cart_saved_cart_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @spartacus/cart/saved-cart/core */ 8611);
/* harmony import */ var _spartacus_cart_saved_cart_occ__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @spartacus/cart/saved-cart/occ */ 4200);






/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class SavedCartModule {}
SavedCartModule.ɵfac = function SavedCartModule_Factory(t) {
  return new (t || SavedCartModule)();
};
SavedCartModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: SavedCartModule
});
SavedCartModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_spartacus_cart_saved_cart_core__WEBPACK_IMPORTED_MODULE_1__.SavedCartCoreModule, _spartacus_cart_saved_cart_occ__WEBPACK_IMPORTED_MODULE_2__.SavedCartOccModule, _spartacus_cart_saved_cart_components__WEBPACK_IMPORTED_MODULE_3__.SavedCartComponentsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedCartModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_spartacus_cart_saved_cart_core__WEBPACK_IMPORTED_MODULE_1__.SavedCartCoreModule, _spartacus_cart_saved_cart_occ__WEBPACK_IMPORTED_MODULE_2__.SavedCartOccModule, _spartacus_cart_saved_cart_components__WEBPACK_IMPORTED_MODULE_3__.SavedCartComponentsModule]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ })

}]);
//# sourceMappingURL=node_modules_spartacus_cart_fesm2020_spartacus-cart-saved-cart_mjs.js.map