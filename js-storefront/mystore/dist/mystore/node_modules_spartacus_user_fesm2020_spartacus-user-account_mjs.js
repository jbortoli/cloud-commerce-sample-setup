"use strict";
(self["webpackChunkmystore_6_3"] = self["webpackChunkmystore_6_3"] || []).push([["node_modules_spartacus_user_fesm2020_spartacus-user-account_mjs"],{

/***/ 2206:
/*!*************************************************************************************!*\
  !*** ./node_modules/@spartacus/user/fesm2020/spartacus-user-account-components.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoginComponent": () => (/* binding */ LoginComponent),
/* harmony export */   "LoginFormComponent": () => (/* binding */ LoginFormComponent),
/* harmony export */   "LoginFormComponentService": () => (/* binding */ LoginFormComponentService),
/* harmony export */   "LoginFormModule": () => (/* binding */ LoginFormModule),
/* harmony export */   "LoginModule": () => (/* binding */ LoginModule),
/* harmony export */   "LoginRegisterComponent": () => (/* binding */ LoginRegisterComponent),
/* harmony export */   "LoginRegisterModule": () => (/* binding */ LoginRegisterModule),
/* harmony export */   "UserAccountComponentsModule": () => (/* binding */ UserAccountComponentsModule)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @spartacus/storefront */ 4373);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 4505);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ 4383);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ 4139);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ 8759);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ 1745);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ 9095);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 4666);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ 124);
/* harmony import */ var _spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @spartacus/user/account/root */ 1020);
















/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
function LoginFormComponent_cx_spinner_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "cx-spinner", 8);
  }
}
const _c0 = function () {
  return {
    cxRoute: "forgotPassword"
  };
};
const _c1 = function () {
  return {
    cxRoute: "register"
  };
};
function LoginRegisterComponent_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](6, _c1)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 4, "loginForm.register"));
  }
}
const _c2 = function () {
  return {
    cxRoute: "checkoutLogin"
  };
};
function LoginRegisterComponent_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](6, _c2)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 4, "loginForm.guestCheckout"));
  }
}
const _c3 = function (a0) {
  return {
    name: a0
  };
};
function LoginComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "cx-page-slot", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const user_r3 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 1, "miniLogin.userGreeting", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c3, user_r3.name)), " ");
  }
}
const _c4 = function () {
  return {
    cxRoute: "login"
  };
};
function LoginComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "cxUrl");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](6, _c4)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, "miniLogin.signInRegister"));
  }
}
class LoginFormComponentService {
  constructor(auth, globalMessage, winRef) {
    this.auth = auth;
    this.globalMessage = globalMessage;
    this.winRef = winRef;
    this.busy$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject(false);
    this.isUpdating$ = this.busy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.tap)(state => {
      const userId = this.winRef.nativeWindow?.history?.state?.['newUid'];
      if (userId) {
        this.form.patchValue({
          userId
        });
      }
      state === true ? this.form.disable() : this.form.enable();
    }));
    this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormGroup({
      userId: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormControl('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.CustomFormValidators.emailValidator]),
      password: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormControl('', _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required)
    });
  }
  login() {
    if (!this.form.valid) {
      this.form.markAllAsTouched();
      return;
    }
    this.busy$.next(true);
    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.from)(this.auth.loginWithCredentials(
    // TODO: consider dropping toLowerCase as this should not be part of the UI,
    // as it's too opinionated and doesn't work with other AUTH services
    this.form.value.userId.toLowerCase(), this.form.value.password)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.withLatestFrom)(this.auth.isUserLoggedIn()), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.tap)(([_, isLoggedIn]) => this.onSuccess(isLoggedIn))).subscribe();
  }
  onSuccess(isLoggedIn) {
    if (isLoggedIn) {
      // We want to remove error messages on successful login (primary the bad
      // username/password combination)
      this.globalMessage.remove(_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageType.MSG_TYPE_ERROR);
      this.form.reset();
    }
    this.busy$.next(false);
  }
}
LoginFormComponentService.ɵfac = function LoginFormComponentService_Factory(t) {
  return new (t || LoginFormComponentService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.WindowRef));
};
LoginFormComponentService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: LoginFormComponentService,
  factory: LoginFormComponentService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginFormComponentService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.WindowRef
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class LoginFormComponent {
  constructor(service) {
    this.service = service;
    this.form = this.service.form;
    this.isUpdating$ = this.service.isUpdating$;
    this.style = true;
  }
  onSubmit() {
    this.service.login();
  }
}
LoginFormComponent.ɵfac = function LoginFormComponent_Factory(t) {
  return new (t || LoginFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](LoginFormComponentService));
};
LoginFormComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: LoginFormComponent,
  selectors: [["cx-login-form"]],
  hostVars: 2,
  hostBindings: function LoginFormComponent_HostBindings(rf, ctx) {
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("user-form", ctx.style);
    }
  },
  decls: 25,
  vars: 32,
  consts: [["class", "overlay", 4, "ngIf"], [3, "formGroup", "ngSubmit"], [1, "label-content"], ["required", "true", "type", "email", "formControlName", "userId", 1, "form-control", 3, "placeholder"], [3, "control"], ["required", "true", "type", "password", "formControlName", "password", "cxPasswordVisibilitySwitch", "", 1, "form-control", 3, "placeholder"], [1, "btn-link", 3, "routerLink"], ["type", "submit", 1, "btn", "btn-block", "btn-primary", 3, "disabled"], [1, "overlay"]],
  template: function LoginFormComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, LoginFormComponent_cx_spinner_0_Template, 1, 0, "cx-spinner", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "form", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngSubmit", function LoginFormComponent_Template_form_ngSubmit_2_listener() {
        return ctx.onSubmit();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label")(4, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "input", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "cx-form-errors", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "label")(11, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](14, "input", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](15, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "cx-form-errors", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "a", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "cxUrl");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](21, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "button", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](23);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](24, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 13, ctx.isUpdating$));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 15, "loginForm.emailAddress.label"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 17, "loginForm.emailAddress.placeholder"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx.form.get("userId"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 19, "loginForm.password.label"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](15, 21, "loginForm.password.placeholder"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 23, "loginForm.password.placeholder"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("control", ctx.form.get("password"));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 25, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](31, _c0)));
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](21, 27, "loginForm.forgotPassword"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.form.disabled);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](24, 29, "loginForm.signIn"), " ");
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.RequiredValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormControlName, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterLink, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.FormErrorsComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.SpinnerComponent, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PasswordVisibilityToggleDirective, _angular_common__WEBPACK_IMPORTED_MODULE_8__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe],
  encapsulation: 2,
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginFormComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-login-form',
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      template: "<cx-spinner class=\"overlay\" *ngIf=\"isUpdating$ | async\"></cx-spinner>\n\n<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"form\">\n  <label>\n    <span class=\"label-content\">{{\n      'loginForm.emailAddress.label' | cxTranslate\n    }}</span>\n    <input\n      required=\"true\"\n      type=\"email\"\n      class=\"form-control\"\n      formControlName=\"userId\"\n      placeholder=\"{{ 'loginForm.emailAddress.placeholder' | cxTranslate }}\"\n    />\n    <cx-form-errors [control]=\"form.get('userId')\"></cx-form-errors>\n  </label>\n\n  <label>\n    <span class=\"label-content\">{{\n      'loginForm.password.label' | cxTranslate\n    }}</span>\n    <input\n      required=\"true\"\n      type=\"password\"\n      class=\"form-control\"\n      placeholder=\"{{ 'loginForm.password.placeholder' | cxTranslate }}\"\n      formControlName=\"password\"\n      [attr.aria-label]=\"'loginForm.password.placeholder' | cxTranslate\"\n      cxPasswordVisibilitySwitch\n    />\n    <cx-form-errors [control]=\"form.get('password')\"></cx-form-errors>\n  </label>\n\n  <a [routerLink]=\"{ cxRoute: 'forgotPassword' } | cxUrl\" class=\"btn-link\">\n    {{ 'loginForm.forgotPassword' | cxTranslate }}\n  </a>\n\n  <button\n    type=\"submit\"\n    class=\"btn btn-block btn-primary\"\n    [disabled]=\"form.disabled\"\n  >\n    {{ 'loginForm.signIn' | cxTranslate }}\n  </button>\n</form>\n"
    }]
  }], function () {
    return [{
      type: LoginFormComponentService
    }];
  }, {
    style: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,
      args: ['class.user-form']
    }]
  });
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class LoginFormModule {}
LoginFormModule.ɵfac = function LoginFormModule_Factory(t) {
  return new (t || LoginFormModule)();
};
LoginFormModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: LoginFormModule
});
LoginFormModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
    cmsComponents: {
      ReturningCustomerLoginComponent: {
        component: LoginFormComponent,
        guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.NotAuthGuard],
        providers: [{
          provide: LoginFormComponentService,
          useClass: LoginFormComponentService,
          deps: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.WindowRef]
        }]
      }
    }
  })],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.FormErrorsModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.SpinnerModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PasswordVisibilityToggleModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginFormModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.FormErrorsModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.SpinnerModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PasswordVisibilityToggleModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
        cmsComponents: {
          ReturningCustomerLoginComponent: {
            component: LoginFormComponent,
            guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.NotAuthGuard],
            providers: [{
              provide: LoginFormComponentService,
              useClass: LoginFormComponentService,
              deps: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.GlobalMessageService, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.WindowRef]
            }]
          }
        }
      })],
      declarations: [LoginFormComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class LoginRegisterComponent {
  constructor(activatedRoute) {
    this.activatedRoute = activatedRoute;
    this.loginAsGuest = false;
  }
  ngOnInit() {
    this.loginAsGuest = this.activatedRoute.snapshot.queryParams['forced'];
  }
}
LoginRegisterComponent.ɵfac = function LoginRegisterComponent_Factory(t) {
  return new (t || LoginRegisterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.ActivatedRoute));
};
LoginRegisterComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: LoginRegisterComponent,
  selectors: [["cx-login-register"]],
  decls: 6,
  vars: 5,
  consts: [[1, "register"], [1, "cx-section-title"], [4, "ngIf"], [1, "btn", "btn-block", "btn-secondary", "btn-register", 3, "routerLink"], [1, "btn", "btn-block", "btn-secondary", "btn-guest", 3, "routerLink"]],
  template: function LoginRegisterComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "p", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "cxTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, LoginRegisterComponent_ng_container_4_Template, 5, 7, "ng-container", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, LoginRegisterComponent_ng_container_5_Template, 5, 7, "ng-container", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 3, "loginForm.dontHaveAccount"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.loginAsGuest);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loginAsGuest);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterLink, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginRegisterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-login-register',
      template: "<div class=\"register\">\n  <p class=\"cx-section-title\">\n    {{ 'loginForm.dontHaveAccount' | cxTranslate }}\n  </p>\n\n  <ng-container *ngIf=\"!loginAsGuest\">\n    <a\n      [routerLink]=\"{ cxRoute: 'register' } | cxUrl\"\n      class=\"btn btn-block btn-secondary btn-register\"\n      >{{ 'loginForm.register' | cxTranslate }}</a\n    >\n  </ng-container>\n\n  <ng-container *ngIf=\"loginAsGuest\">\n    <a\n      [routerLink]=\"{ cxRoute: 'checkoutLogin' } | cxUrl\"\n      class=\"btn btn-block btn-secondary btn-guest\"\n      >{{ 'loginForm.guestCheckout' | cxTranslate }}</a\n    >\n  </ng-container>\n</div>\n"
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_9__.ActivatedRoute
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class LoginRegisterModule {}
LoginRegisterModule.ɵfac = function LoginRegisterModule_Factory(t) {
  return new (t || LoginRegisterModule)();
};
LoginRegisterModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: LoginRegisterModule
});
LoginRegisterModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
    cmsComponents: {
      ReturningCustomerRegisterComponent: {
        component: LoginRegisterComponent,
        guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.NotAuthGuard]
      }
    }
  })],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PageSlotModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginRegisterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PageSlotModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
        cmsComponents: {
          ReturningCustomerRegisterComponent: {
            component: LoginRegisterComponent,
            guards: [_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.NotAuthGuard]
          }
        }
      })],
      declarations: [LoginRegisterComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class LoginComponent {
  constructor(auth, userAccount) {
    this.auth = auth;
    this.userAccount = userAccount;
  }
  ngOnInit() {
    this.user$ = this.auth.isUserLoggedIn().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.switchMap)(isUserLoggedIn => {
      if (isUserLoggedIn) {
        return this.userAccount.get();
      } else {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(undefined);
      }
    }));
  }
}
LoginComponent.ɵfac = function LoginComponent_Factory(t) {
  return new (t || LoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_12__.UserAccountFacade));
};
LoginComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: LoginComponent,
  selectors: [["cx-login"]],
  decls: 4,
  vars: 4,
  consts: [[4, "ngIf", "ngIfElse"], ["login", ""], [1, "cx-login-greet"], ["id", "account-nav", "position", "HeaderLinks"], ["role", "link", 3, "routerLink"]],
  template: function LoginComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, LoginComponent_ng_container_0_Template, 5, 6, "ng-container", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, LoginComponent_ng_template_2_Template, 4, 7, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    }
    if (rf & 2) {
      const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, ctx.user$))("ngIfElse", _r1);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterLink, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PageSlotComponent, _angular_common__WEBPACK_IMPORTED_MODULE_8__.AsyncPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlPipe, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'cx-login',
      template: "<ng-container *ngIf=\"user$ | async as user; else login\">\n  <div class=\"cx-login-greet\">\n    {{ 'miniLogin.userGreeting' | cxTranslate: { name: user.name } }}\n  </div>\n  <cx-page-slot id=\"account-nav\" position=\"HeaderLinks\"></cx-page-slot>\n</ng-container>\n\n<ng-template #login>\n  <a role=\"link\" [routerLink]=\"{ cxRoute: 'login' } | cxUrl\">{{\n    'miniLogin.signInRegister' | cxTranslate\n  }}</a>\n</ng-template>\n"
    }]
  }], function () {
    return [{
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.AuthService
    }, {
      type: _spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_12__.UserAccountFacade
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class LoginModule {}
LoginModule.ɵfac = function LoginModule_Factory(t) {
  return new (t || LoginModule)();
};
LoginModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: LoginModule
});
LoginModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
    cmsComponents: {
      LoginComponent: {
        component: LoginComponent
      }
    }
  })],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PageSlotModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.UrlModule, _spartacus_storefront__WEBPACK_IMPORTED_MODULE_4__.PageSlotModule, _spartacus_core__WEBPACK_IMPORTED_MODULE_7__.I18nModule],
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_7__.provideDefaultConfig)({
        cmsComponents: {
          LoginComponent: {
            component: LoginComponent
          }
        }
      })],
      declarations: [LoginComponent]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountComponentsModule {}
UserAccountComponentsModule.ɵfac = function UserAccountComponentsModule_Factory(t) {
  return new (t || UserAccountComponentsModule)();
};
UserAccountComponentsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: UserAccountComponentsModule
});
UserAccountComponentsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [LoginModule, LoginFormModule, LoginRegisterModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountComponentsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [LoginModule, LoginFormModule, LoginRegisterModule]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 4708:
/*!*******************************************************************************!*\
  !*** ./node_modules/@spartacus/user/fesm2020/spartacus-user-account-core.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "USER_ACCOUNT_NORMALIZER": () => (/* binding */ USER_ACCOUNT_NORMALIZER),
/* harmony export */   "USER_ACCOUNT_SERIALIZER": () => (/* binding */ USER_ACCOUNT_SERIALIZER),
/* harmony export */   "UserAccountAdapter": () => (/* binding */ UserAccountAdapter),
/* harmony export */   "UserAccountConnector": () => (/* binding */ UserAccountConnector),
/* harmony export */   "UserAccountCoreModule": () => (/* binding */ UserAccountCoreModule),
/* harmony export */   "UserAccountService": () => (/* binding */ UserAccountService)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var _spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @spartacus/user/account/root */ 1020);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ 9095);







/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const USER_ACCOUNT_NORMALIZER = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('UserAccountNormalizer');
const USER_ACCOUNT_SERIALIZER = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('UserAccountSerializer');

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountAdapter {}

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountConnector {
  constructor(adapter) {
    this.adapter = adapter;
  }
  get(userId) {
    return this.adapter.load(userId);
  }
}
UserAccountConnector.ɵfac = function UserAccountConnector_Factory(t) {
  return new (t || UserAccountConnector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](UserAccountAdapter));
};
UserAccountConnector.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: UserAccountConnector,
  factory: UserAccountConnector.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountConnector, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: UserAccountAdapter
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountService {
  constructor(userAccountConnector, userIdService, query) {
    this.userAccountConnector = userAccountConnector;
    this.userIdService = userIdService;
    this.query = query;
    this.userQuery = this.query.create(() => this.userIdService.takeUserId(true).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.switchMap)(userId => this.userAccountConnector.get(userId))), {
      reloadOn: [_spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_2__.UserAccountChangedEvent],
      resetOn: [_spartacus_core__WEBPACK_IMPORTED_MODULE_3__.LoginEvent, _spartacus_core__WEBPACK_IMPORTED_MODULE_3__.LogoutEvent]
    });
  }
  /**
   * Returns the user according the userId
   * no use query for userId can change every time
   */
  getById(userId) {
    return this.userAccountConnector.get(userId);
  }
  /**
   * Returns the current user.
   */
  get() {
    return this.userQuery.get();
  }
}
UserAccountService.ɵfac = function UserAccountService_Factory(t) {
  return new (t || UserAccountService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](UserAccountConnector), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_3__.UserIdService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_3__.QueryService));
};
UserAccountService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: UserAccountService,
  factory: UserAccountService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: UserAccountConnector
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_3__.UserIdService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_3__.QueryService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const facadeProviders = [UserAccountService, {
  provide: _spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_2__.UserAccountFacade,
  useExisting: UserAccountService
}];

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountCoreModule {}
UserAccountCoreModule.ɵfac = function UserAccountCoreModule_Factory(t) {
  return new (t || UserAccountCoreModule)();
};
UserAccountCoreModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: UserAccountCoreModule
});
UserAccountCoreModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [UserAccountConnector, ...facadeProviders]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountCoreModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      providers: [UserAccountConnector, ...facadeProviders]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 6501:
/*!******************************************************************************!*\
  !*** ./node_modules/@spartacus/user/fesm2020/spartacus-user-account-occ.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OccUserAccountAdapter": () => (/* binding */ OccUserAccountAdapter),
/* harmony export */   "UserAccountOccModule": () => (/* binding */ UserAccountOccModule),
/* harmony export */   "defaultOccUserAccountConfig": () => (/* binding */ defaultOccUserAccountConfig)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @spartacus/core */ 6458);
/* harmony import */ var _spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @spartacus/user/account/core */ 4708);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ 6587);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ 7418);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ 8987);









/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
const defaultOccUserAccountConfig = {
  backend: {
    occ: {
      endpoints: {
        user: 'users/${userId}'
      }
    }
  }
};

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

class OccUserAccountAdapter {
  constructor(http, occEndpoints, converter) {
    this.http = http;
    this.occEndpoints = occEndpoints;
    this.converter = converter;
    this.logger = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.LoggerService);
  }
  load(userId) {
    const url = this.occEndpoints.buildUrl('user', {
      urlParams: {
        userId
      }
    });
    return this.http.get(url).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.catchError)(error => (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.throwError)((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.normalizeHttpError)(error, this.logger))), this.converter.pipeable(_spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_4__.USER_ACCOUNT_NORMALIZER));
  }
}
OccUserAccountAdapter.ɵfac = function OccUserAccountAdapter_Factory(t) {
  return new (t || OccUserAccountAdapter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_5__.HttpClient), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.OccEndpointsService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ConverterService));
};
OccUserAccountAdapter.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: OccUserAccountAdapter,
  factory: OccUserAccountAdapter.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](OccUserAccountAdapter, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__.HttpClient
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.OccEndpointsService
    }, {
      type: _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.ConverterService
    }];
  }, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountOccModule {}
UserAccountOccModule.ɵfac = function UserAccountOccModule_Factory(t) {
  return new (t || UserAccountOccModule)();
};
UserAccountOccModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: UserAccountOccModule
});
UserAccountOccModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.provideDefaultConfig)(defaultOccUserAccountConfig), {
    provide: _spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_4__.UserAccountAdapter,
    useClass: OccUserAccountAdapter
  }]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountOccModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      providers: [(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.provideDefaultConfig)(defaultOccUserAccountConfig), {
        provide: _spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_4__.UserAccountAdapter,
        useClass: OccUserAccountAdapter
      }]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ }),

/***/ 5229:
/*!**************************************************************************!*\
  !*** ./node_modules/@spartacus/user/fesm2020/spartacus-user-account.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UserAccountModule": () => (/* binding */ UserAccountModule)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);
/* harmony import */ var _spartacus_user_account_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @spartacus/user/account/components */ 2206);
/* harmony import */ var _spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @spartacus/user/account/core */ 4708);
/* harmony import */ var _spartacus_user_account_occ__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @spartacus/user/account/occ */ 6501);






/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
class UserAccountModule {}
UserAccountModule.ɵfac = function UserAccountModule_Factory(t) {
  return new (t || UserAccountModule)();
};
UserAccountModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: UserAccountModule
});
UserAccountModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_1__.UserAccountCoreModule, _spartacus_user_account_occ__WEBPACK_IMPORTED_MODULE_2__.UserAccountOccModule, _spartacus_user_account_components__WEBPACK_IMPORTED_MODULE_3__.UserAccountComponentsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserAccountModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_spartacus_user_account_core__WEBPACK_IMPORTED_MODULE_1__.UserAccountCoreModule, _spartacus_user_account_occ__WEBPACK_IMPORTED_MODULE_2__.UserAccountOccModule, _spartacus_user_account_components__WEBPACK_IMPORTED_MODULE_3__.UserAccountComponentsModule]
    }]
  }], null, null);
})();

/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ })

}]);
//# sourceMappingURL=node_modules_spartacus_user_fesm2020_spartacus-user-account_mjs.js.map